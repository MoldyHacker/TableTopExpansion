const Jj=function(){const t=document.createElement("link").relList;return t&&t.supports&&t.supports("modulepreload")?"modulepreload":"preload"}(),FC={},Zj="/",Dt=function(t,n){return!n||n.length===0?t():Promise.all(n.map(r=>{if(r=`${Zj}${r}`,r in FC)return;FC[r]=!0;const i=r.endsWith(".css"),s=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${s}`))return;const a=document.createElement("link");if(a.rel=i?"stylesheet":Jj,i||(a.as="script",a.crossOrigin=""),a.href=r,document.head.appendChild(a),i)return new Promise((c,l)=>{a.addEventListener("load",c),a.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>t())};function Zw(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?i=>!!n[i.toLowerCase()]:i=>!!n[i]}function eb(e){if(be(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=Ct(r)?rV(r):eb(r);if(i)for(const s in i)t[s]=i[s]}return t}else{if(Ct(e))return e;if(pt(e))return e}}const eV=/;(?![^(]*\))/g,tV=/:([^]+)/,nV=/\/\*.*?\*\//gs;function rV(e){const t={};return e.replace(nV,"").split(eV).forEach(n=>{if(n){const r=n.split(tV);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function tb(e){let t="";if(Ct(e))t=e;else if(be(e))for(let n=0;n<e.length;n++){const r=tb(e[n]);r&&(t+=r+" ")}else if(pt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const iV="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",oV=Zw(iV);function VN(e){return!!e||e===""}const eZ=e=>Ct(e)?e:e==null?"":be(e)||pt(e)&&(e.toString===KN||!Re(e.toString))?JSON.stringify(e,BN,2):String(e),BN=(e,t)=>t&&t.__v_isRef?BN(e,t.value):uu(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:qN(t)?{[`Set(${t.size})`]:[...t.values()]}:pt(t)&&!be(t)&&!WN(t)?String(t):t,dt={},au=[],ei=()=>{},sV=()=>!1,aV=/^on[^a-z]/,Pp=e=>aV.test(e),nb=e=>e.startsWith("onUpdate:"),vn=Object.assign,rb=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},uV=Object.prototype.hasOwnProperty,We=(e,t)=>uV.call(e,t),be=Array.isArray,uu=e=>gf(e)==="[object Map]",qN=e=>gf(e)==="[object Set]",cV=e=>gf(e)==="[object RegExp]",Re=e=>typeof e=="function",Ct=e=>typeof e=="string",ib=e=>typeof e=="symbol",pt=e=>e!==null&&typeof e=="object",HN=e=>pt(e)&&Re(e.then)&&Re(e.catch),KN=Object.prototype.toString,gf=e=>KN.call(e),lV=e=>gf(e).slice(8,-1),WN=e=>gf(e)==="[object Object]",ob=e=>Ct(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,_d=Zw(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Op=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},fV=/-(\w)/g,Si=Op(e=>e.replace(fV,(t,n)=>n?n.toUpperCase():"")),hV=/\B([A-Z])/g,zu=Op(e=>e.replace(hV,"-$1").toLowerCase()),xp=Op(e=>e.charAt(0).toUpperCase()+e.slice(1)),ky=Op(e=>e?`on${xp(e)}`:""),Ol=(e,t)=>!Object.is(e,t),fl=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Pd=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},dV=e=>{const t=parseFloat(e);return isNaN(t)?e:t},pV=e=>{const t=Ct(e)?Number(e):NaN;return isNaN(t)?e:t};let UC;const vV=()=>UC||(UC=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let ur;class $N{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ur,!t&&ur&&(this.index=(ur.scopes||(ur.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=ur;try{return ur=this,t()}finally{ur=n}}}on(){ur=this}off(){ur=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function GN(e){return new $N(e)}function gV(e,t=ur){t&&t.active&&t.effects.push(e)}function zN(){return ur}function mV(e){ur&&ur.cleanups.push(e)}const sb=e=>{const t=new Set(e);return t.w=0,t.n=0,t},QN=e=>(e.w&qo)>0,YN=e=>(e.n&qo)>0,yV=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=qo},_V=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const i=t[r];QN(i)&&!YN(i)?i.delete(e):t[n++]=i,i.w&=~qo,i.n&=~qo}t.length=n}},Od=new WeakMap;let al=0,qo=1;const A_=30;let Xr;const Ks=Symbol(""),k_=Symbol("");class ab{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,gV(this,r)}run(){if(!this.active)return this.fn();let t=Xr,n=Do;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Xr,Xr=this,Do=!0,qo=1<<++al,al<=A_?yV(this):jC(this),this.fn()}finally{al<=A_&&_V(this),qo=1<<--al,Xr=this.parent,Do=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Xr===this?this.deferStop=!0:this.active&&(jC(this),this.onStop&&this.onStop(),this.active=!1)}}function jC(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Do=!0;const XN=[];function Qu(){XN.push(Do),Do=!1}function Yu(){const e=XN.pop();Do=e===void 0?!0:e}function nr(e,t,n){if(Do&&Xr){let r=Od.get(e);r||Od.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=sb()),JN(i)}}function JN(e,t){let n=!1;al<=A_?YN(e)||(e.n|=qo,n=!QN(e)):n=!e.has(Xr),n&&(e.add(Xr),Xr.deps.push(e))}function Qi(e,t,n,r,i,s){const a=Od.get(e);if(!a)return;let c=[];if(t==="clear")c=[...a.values()];else if(n==="length"&&be(e)){const l=Number(r);a.forEach((h,d)=>{(d==="length"||d>=l)&&c.push(h)})}else switch(n!==void 0&&c.push(a.get(n)),t){case"add":be(e)?ob(n)&&c.push(a.get("length")):(c.push(a.get(Ks)),uu(e)&&c.push(a.get(k_)));break;case"delete":be(e)||(c.push(a.get(Ks)),uu(e)&&c.push(a.get(k_)));break;case"set":uu(e)&&c.push(a.get(Ks));break}if(c.length===1)c[0]&&R_(c[0]);else{const l=[];for(const h of c)h&&l.push(...h);R_(sb(l))}}function R_(e,t){const n=be(e)?e:[...e];for(const r of n)r.computed&&VC(r);for(const r of n)r.computed||VC(r)}function VC(e,t){(e!==Xr||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function wV(e,t){var n;return(n=Od.get(e))===null||n===void 0?void 0:n.get(t)}const bV=Zw("__proto__,__v_isRef,__isVue"),ZN=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ib)),EV=ub(),IV=ub(!1,!0),TV=ub(!0),BC=SV();function SV(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=Ke(this);for(let s=0,a=this.length;s<a;s++)nr(r,"get",s+"");const i=r[t](...n);return i===-1||i===!1?r[t](...n.map(Ke)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Qu();const r=Ke(this)[t].apply(this,n);return Yu(),r}}),e}function CV(e){const t=Ke(this);return nr(t,"has",e),t.hasOwnProperty(e)}function ub(e=!1,t=!1){return function(r,i,s){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&s===(e?t?qV:i1:t?r1:n1).get(r))return r;const a=be(r);if(!e){if(a&&We(BC,i))return Reflect.get(BC,i,s);if(i==="hasOwnProperty")return CV}const c=Reflect.get(r,i,s);return(ib(i)?ZN.has(i):bV(i))||(e||nr(r,"get",i),t)?c:Pt(c)?a&&ob(i)?c:c.value:pt(c)?e?o1(c):Qo(c):c}}const AV=e1(),kV=e1(!0);function e1(e=!1){return function(n,r,i,s){let a=n[r];if(yu(a)&&Pt(a)&&!Pt(i))return!1;if(!e&&(!xd(i)&&!yu(i)&&(a=Ke(a),i=Ke(i)),!be(n)&&Pt(a)&&!Pt(i)))return a.value=i,!0;const c=be(n)&&ob(r)?Number(r)<n.length:We(n,r),l=Reflect.set(n,r,i,s);return n===Ke(s)&&(c?Ol(i,a)&&Qi(n,"set",r,i):Qi(n,"add",r,i)),l}}function RV(e,t){const n=We(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&Qi(e,"delete",t,void 0),r}function NV(e,t){const n=Reflect.has(e,t);return(!ib(t)||!ZN.has(t))&&nr(e,"has",t),n}function PV(e){return nr(e,"iterate",be(e)?"length":Ks),Reflect.ownKeys(e)}const t1={get:EV,set:AV,deleteProperty:RV,has:NV,ownKeys:PV},OV={get:TV,set(e,t){return!0},deleteProperty(e,t){return!0}},xV=vn({},t1,{get:IV,set:kV}),cb=e=>e,Dp=e=>Reflect.getPrototypeOf(e);function Yh(e,t,n=!1,r=!1){e=e.__v_raw;const i=Ke(e),s=Ke(t);n||(t!==s&&nr(i,"get",t),nr(i,"get",s));const{has:a}=Dp(i),c=r?cb:n?hb:xl;if(a.call(i,t))return c(e.get(t));if(a.call(i,s))return c(e.get(s));e!==i&&e.get(t)}function Xh(e,t=!1){const n=this.__v_raw,r=Ke(n),i=Ke(e);return t||(e!==i&&nr(r,"has",e),nr(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function Jh(e,t=!1){return e=e.__v_raw,!t&&nr(Ke(e),"iterate",Ks),Reflect.get(e,"size",e)}function qC(e){e=Ke(e);const t=Ke(this);return Dp(t).has.call(t,e)||(t.add(e),Qi(t,"add",e,e)),this}function HC(e,t){t=Ke(t);const n=Ke(this),{has:r,get:i}=Dp(n);let s=r.call(n,e);s||(e=Ke(e),s=r.call(n,e));const a=i.call(n,e);return n.set(e,t),s?Ol(t,a)&&Qi(n,"set",e,t):Qi(n,"add",e,t),this}function KC(e){const t=Ke(this),{has:n,get:r}=Dp(t);let i=n.call(t,e);i||(e=Ke(e),i=n.call(t,e)),r&&r.call(t,e);const s=t.delete(e);return i&&Qi(t,"delete",e,void 0),s}function WC(){const e=Ke(this),t=e.size!==0,n=e.clear();return t&&Qi(e,"clear",void 0,void 0),n}function Zh(e,t){return function(r,i){const s=this,a=s.__v_raw,c=Ke(a),l=t?cb:e?hb:xl;return!e&&nr(c,"iterate",Ks),a.forEach((h,d)=>r.call(i,l(h),l(d),s))}}function ed(e,t,n){return function(...r){const i=this.__v_raw,s=Ke(i),a=uu(s),c=e==="entries"||e===Symbol.iterator&&a,l=e==="keys"&&a,h=i[e](...r),d=n?cb:t?hb:xl;return!t&&nr(s,"iterate",l?k_:Ks),{next(){const{value:v,done:g}=h.next();return g?{value:v,done:g}:{value:c?[d(v[0]),d(v[1])]:d(v),done:g}},[Symbol.iterator](){return this}}}}function go(e){return function(...t){return e==="delete"?!1:this}}function DV(){const e={get(s){return Yh(this,s)},get size(){return Jh(this)},has:Xh,add:qC,set:HC,delete:KC,clear:WC,forEach:Zh(!1,!1)},t={get(s){return Yh(this,s,!1,!0)},get size(){return Jh(this)},has:Xh,add:qC,set:HC,delete:KC,clear:WC,forEach:Zh(!1,!0)},n={get(s){return Yh(this,s,!0)},get size(){return Jh(this,!0)},has(s){return Xh.call(this,s,!0)},add:go("add"),set:go("set"),delete:go("delete"),clear:go("clear"),forEach:Zh(!0,!1)},r={get(s){return Yh(this,s,!0,!0)},get size(){return Jh(this,!0)},has(s){return Xh.call(this,s,!0)},add:go("add"),set:go("set"),delete:go("delete"),clear:go("clear"),forEach:Zh(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=ed(s,!1,!1),n[s]=ed(s,!0,!1),t[s]=ed(s,!1,!0),r[s]=ed(s,!0,!0)}),[e,n,t,r]}const[LV,MV,FV,UV]=DV();function lb(e,t){const n=t?e?UV:FV:e?MV:LV;return(r,i,s)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(We(n,i)&&i in r?n:r,i,s)}const jV={get:lb(!1,!1)},VV={get:lb(!1,!0)},BV={get:lb(!0,!1)},n1=new WeakMap,r1=new WeakMap,i1=new WeakMap,qV=new WeakMap;function HV(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function KV(e){return e.__v_skip||!Object.isExtensible(e)?0:HV(lV(e))}function Qo(e){return yu(e)?e:fb(e,!1,t1,jV,n1)}function WV(e){return fb(e,!1,xV,VV,r1)}function o1(e){return fb(e,!0,OV,BV,i1)}function fb(e,t,n,r,i){if(!pt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=i.get(e);if(s)return s;const a=KV(e);if(a===0)return e;const c=new Proxy(e,a===2?r:n);return i.set(e,c),c}function Lo(e){return yu(e)?Lo(e.__v_raw):!!(e&&e.__v_isReactive)}function yu(e){return!!(e&&e.__v_isReadonly)}function xd(e){return!!(e&&e.__v_isShallow)}function s1(e){return Lo(e)||yu(e)}function Ke(e){const t=e&&e.__v_raw;return t?Ke(t):e}function Js(e){return Pd(e,"__v_skip",!0),e}const xl=e=>pt(e)?Qo(e):e,hb=e=>pt(e)?o1(e):e;function a1(e){Do&&Xr&&(e=Ke(e),JN(e.dep||(e.dep=sb())))}function u1(e,t){e=Ke(e);const n=e.dep;n&&R_(n)}function Pt(e){return!!(e&&e.__v_isRef===!0)}function Lp(e){return c1(e,!1)}function $V(e){return c1(e,!0)}function c1(e,t){return Pt(e)?e:new GV(e,t)}class GV{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Ke(t),this._value=n?t:xl(t)}get value(){return a1(this),this._value}set value(t){const n=this.__v_isShallow||xd(t)||yu(t);t=n?t:Ke(t),Ol(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:xl(t),u1(this))}}function cu(e){return Pt(e)?e.value:e}const zV={get:(e,t,n)=>cu(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return Pt(i)&&!Pt(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function l1(e){return Lo(e)?e:new Proxy(e,zV)}function QV(e){const t=be(e)?new Array(e.length):{};for(const n in e)t[n]=XV(e,n);return t}class YV{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return wV(Ke(this._object),this._key)}}function XV(e,t,n){const r=e[t];return Pt(r)?r:new YV(e,t,n)}var f1;class JV{constructor(t,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[f1]=!1,this._dirty=!0,this.effect=new ab(t,()=>{this._dirty||(this._dirty=!0,u1(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const t=Ke(this);return a1(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}f1="__v_isReadonly";function ZV(e,t,n=!1){let r,i;const s=Re(e);return s?(r=e,i=ei):(r=e.get,i=e.set),new JV(r,i,s||!i,n)}function Mo(e,t,n,r){let i;try{i=r?e(...r):e()}catch(s){Mp(s,t,n)}return i}function Or(e,t,n,r){if(Re(e)){const s=Mo(e,t,n,r);return s&&HN(s)&&s.catch(a=>{Mp(a,t,n)}),s}const i=[];for(let s=0;s<e.length;s++)i.push(Or(e[s],t,n,r));return i}function Mp(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let s=t.parent;const a=t.proxy,c=n;for(;s;){const h=s.ec;if(h){for(let d=0;d<h.length;d++)if(h[d](e,a,c)===!1)return}s=s.parent}const l=t.appContext.config.errorHandler;if(l){Mo(l,null,10,[e,a,c]);return}}eB(e,n,i,r)}function eB(e,t,n,r=!0){console.error(e)}let Dl=!1,N_=!1;const En=[];let mi=0;const lu=[];let Bi=null,Ps=0;const h1=Promise.resolve();let db=null;function pb(e){const t=db||h1;return e?t.then(this?e.bind(this):e):t}function tB(e){let t=mi+1,n=En.length;for(;t<n;){const r=t+n>>>1;Ll(En[r])<e?t=r+1:n=r}return t}function vb(e){(!En.length||!En.includes(e,Dl&&e.allowRecurse?mi+1:mi))&&(e.id==null?En.push(e):En.splice(tB(e.id),0,e),d1())}function d1(){!Dl&&!N_&&(N_=!0,db=h1.then(v1))}function nB(e){const t=En.indexOf(e);t>mi&&En.splice(t,1)}function rB(e){be(e)?lu.push(...e):(!Bi||!Bi.includes(e,e.allowRecurse?Ps+1:Ps))&&lu.push(e),d1()}function $C(e,t=Dl?mi+1:0){for(;t<En.length;t++){const n=En[t];n&&n.pre&&(En.splice(t,1),t--,n())}}function p1(e){if(lu.length){const t=[...new Set(lu)];if(lu.length=0,Bi){Bi.push(...t);return}for(Bi=t,Bi.sort((n,r)=>Ll(n)-Ll(r)),Ps=0;Ps<Bi.length;Ps++)Bi[Ps]();Bi=null,Ps=0}}const Ll=e=>e.id==null?1/0:e.id,iB=(e,t)=>{const n=Ll(e)-Ll(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function v1(e){N_=!1,Dl=!0,En.sort(iB);const t=ei;try{for(mi=0;mi<En.length;mi++){const n=En[mi];n&&n.active!==!1&&Mo(n,null,14)}}finally{mi=0,En.length=0,p1(),Dl=!1,db=null,(En.length||lu.length)&&v1()}}function oB(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||dt;let i=n;const s=t.startsWith("update:"),a=s&&t.slice(7);if(a&&a in r){const d=`${a==="modelValue"?"model":a}Modifiers`,{number:v,trim:g}=r[d]||dt;g&&(i=n.map(y=>Ct(y)?y.trim():y)),v&&(i=n.map(dV))}let c,l=r[c=ky(t)]||r[c=ky(Si(t))];!l&&s&&(l=r[c=ky(zu(t))]),l&&Or(l,e,6,i);const h=r[c+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,Or(h,e,6,i)}}function g1(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const s=e.emits;let a={},c=!1;if(!Re(e)){const l=h=>{const d=g1(h,t,!0);d&&(c=!0,vn(a,d))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!c?(pt(e)&&r.set(e,null),null):(be(s)?s.forEach(l=>a[l]=null):vn(a,s),pt(e)&&r.set(e,a),a)}function Fp(e,t){return!e||!Pp(t)?!1:(t=t.slice(2).replace(/Once$/,""),We(e,t[0].toLowerCase()+t.slice(1))||We(e,zu(t))||We(e,t))}let cn=null,Up=null;function Dd(e){const t=cn;return cn=e,Up=e&&e.type.__scopeId||null,t}function tZ(e){Up=e}function nZ(){Up=null}function sB(e,t=cn,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&rA(-1);const s=Dd(t);let a;try{a=e(...i)}finally{Dd(s),r._d&&rA(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function Ry(e){const{type:t,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[a],slots:c,attrs:l,emit:h,render:d,renderCache:v,data:g,setupState:y,ctx:w,inheritAttrs:E}=e;let I,C;const N=Dd(e);try{if(n.shapeFlag&4){const L=i||r;I=gi(d.call(L,L,v,s,y,g,w)),C=l}else{const L=t;I=gi(L.length>1?L(s,{attrs:l,slots:c,emit:h}):L(s,null)),C=t.props?l:aB(l)}}catch(L){pl.length=0,Mp(L,e,1),I=Xn(xr)}let O=I;if(C&&E!==!1){const L=Object.keys(C),{shapeFlag:V}=O;L.length&&V&7&&(a&&L.some(nb)&&(C=uB(C,a)),O=Yi(O,C))}return n.dirs&&(O=Yi(O),O.dirs=O.dirs?O.dirs.concat(n.dirs):n.dirs),n.transition&&(O.transition=n.transition),I=O,Dd(N),I}const aB=e=>{let t;for(const n in e)(n==="class"||n==="style"||Pp(n))&&((t||(t={}))[n]=e[n]);return t},uB=(e,t)=>{const n={};for(const r in e)(!nb(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function cB(e,t,n){const{props:r,children:i,component:s}=e,{props:a,children:c,patchFlag:l}=t,h=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?GC(r,a,h):!!a;if(l&8){const d=t.dynamicProps;for(let v=0;v<d.length;v++){const g=d[v];if(a[g]!==r[g]&&!Fp(h,g))return!0}}}else return(i||c)&&(!c||!c.$stable)?!0:r===a?!1:r?a?GC(r,a,h):!0:!!a;return!1}function GC(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(t[s]!==e[s]&&!Fp(n,s))return!0}return!1}function lB({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const m1=e=>e.__isSuspense;function fB(e,t){t&&t.pendingBranch?be(e)?t.effects.push(...e):t.effects.push(e):rB(e)}function wd(e,t){if(Nt){let n=Nt.provides;const r=Nt.parent&&Nt.parent.provides;r===n&&(n=Nt.provides=Object.create(r)),n[e]=t}}function _i(e,t,n=!1){const r=Nt||cn;if(r){const i=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&Re(t)?t.call(r.proxy):t}}const td={};function fu(e,t,n){return y1(e,t,n)}function y1(e,t,{immediate:n,deep:r,flush:i,onTrack:s,onTrigger:a}=dt){const c=zN()===(Nt==null?void 0:Nt.scope)?Nt:null;let l,h=!1,d=!1;if(Pt(e)?(l=()=>e.value,h=xd(e)):Lo(e)?(l=()=>e,r=!0):be(e)?(d=!0,h=e.some(O=>Lo(O)||xd(O)),l=()=>e.map(O=>{if(Pt(O))return O.value;if(Lo(O))return Ms(O);if(Re(O))return Mo(O,c,2)})):Re(e)?t?l=()=>Mo(e,c,2):l=()=>{if(!(c&&c.isUnmounted))return v&&v(),Or(e,c,3,[g])}:l=ei,t&&r){const O=l;l=()=>Ms(O())}let v,g=O=>{v=C.onStop=()=>{Mo(O,c,4)}},y;if(Ul)if(g=ei,t?n&&Or(t,c,3,[l(),d?[]:void 0,g]):l(),i==="sync"){const O=u4();y=O.__watcherHandles||(O.__watcherHandles=[])}else return ei;let w=d?new Array(e.length).fill(td):td;const E=()=>{if(!!C.active)if(t){const O=C.run();(r||h||(d?O.some((L,V)=>Ol(L,w[V])):Ol(O,w)))&&(v&&v(),Or(t,c,3,[O,w===td?void 0:d&&w[0]===td?[]:w,g]),w=O)}else C.run()};E.allowRecurse=!!t;let I;i==="sync"?I=E:i==="post"?I=()=>sn(E,c&&c.suspense):(E.pre=!0,c&&(E.id=c.uid),I=()=>vb(E));const C=new ab(l,I);t?n?E():w=C.run():i==="post"?sn(C.run.bind(C),c&&c.suspense):C.run();const N=()=>{C.stop(),c&&c.scope&&rb(c.scope.effects,C)};return y&&y.push(N),N}function hB(e,t,n){const r=this.proxy,i=Ct(e)?e.includes(".")?_1(r,e):()=>r[e]:e.bind(r,r);let s;Re(t)?s=t:(s=t.handler,n=t);const a=Nt;_u(this);const c=y1(i,s.bind(r),n);return a?_u(a):Ws(),c}function _1(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Ms(e,t){if(!pt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Pt(e))Ms(e.value,t);else if(be(e))for(let n=0;n<e.length;n++)Ms(e[n],t);else if(qN(e)||uu(e))e.forEach(n=>{Ms(n,t)});else if(WN(e))for(const n in e)Ms(e[n],t);return e}function dB(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return mb(()=>{e.isMounted=!0}),yb(()=>{e.isUnmounting=!0}),e}const Ir=[Function,Array],pB={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ir,onEnter:Ir,onAfterEnter:Ir,onEnterCancelled:Ir,onBeforeLeave:Ir,onLeave:Ir,onAfterLeave:Ir,onLeaveCancelled:Ir,onBeforeAppear:Ir,onAppear:Ir,onAfterAppear:Ir,onAppearCancelled:Ir},setup(e,{slots:t}){const n=Tb(),r=dB();let i;return()=>{const s=t.default&&E1(t.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){for(const E of s)if(E.type!==xr){a=E;break}}const c=Ke(e),{mode:l}=c;if(r.isLeaving)return Ny(a);const h=zC(a);if(!h)return Ny(a);const d=P_(h,c,r,n);Ld(h,d);const v=n.subTree,g=v&&zC(v);let y=!1;const{getTransitionKey:w}=h.type;if(w){const E=w();i===void 0?i=E:E!==i&&(i=E,y=!0)}if(g&&g.type!==xr&&(!ko(h,g)||y)){const E=P_(g,c,r,n);if(Ld(g,E),l==="out-in")return r.isLeaving=!0,E.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},Ny(a);l==="in-out"&&h.type!==xr&&(E.delayLeave=(I,C,N)=>{const O=b1(r,g);O[String(g.key)]=g,I._leaveCb=()=>{C(),I._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=N})}return a}}},w1=pB;function b1(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function P_(e,t,n,r){const{appear:i,mode:s,persisted:a=!1,onBeforeEnter:c,onEnter:l,onAfterEnter:h,onEnterCancelled:d,onBeforeLeave:v,onLeave:g,onAfterLeave:y,onLeaveCancelled:w,onBeforeAppear:E,onAppear:I,onAfterAppear:C,onAppearCancelled:N}=t,O=String(e.key),L=b1(n,e),V=(M,se)=>{M&&Or(M,r,9,se)},F=(M,se)=>{const R=se[1];V(M,se),be(M)?M.every(Pe=>Pe.length<=1)&&R():M.length<=1&&R()},G={mode:s,persisted:a,beforeEnter(M){let se=c;if(!n.isMounted)if(i)se=E||c;else return;M._leaveCb&&M._leaveCb(!0);const R=L[O];R&&ko(e,R)&&R.el._leaveCb&&R.el._leaveCb(),V(se,[M])},enter(M){let se=l,R=h,Pe=d;if(!n.isMounted)if(i)se=I||l,R=C||h,Pe=N||d;else return;let oe=!1;const Je=M._enterCb=st=>{oe||(oe=!0,st?V(Pe,[M]):V(R,[M]),G.delayedLeave&&G.delayedLeave(),M._enterCb=void 0)};se?F(se,[M,Je]):Je()},leave(M,se){const R=String(e.key);if(M._enterCb&&M._enterCb(!0),n.isUnmounting)return se();V(v,[M]);let Pe=!1;const oe=M._leaveCb=Je=>{Pe||(Pe=!0,se(),Je?V(w,[M]):V(y,[M]),M._leaveCb=void 0,L[R]===e&&delete L[R])};L[R]=e,g?F(g,[M,oe]):oe()},clone(M){return P_(M,t,n,r)}};return G}function Ny(e){if(jp(e))return e=Yi(e),e.children=null,e}function zC(e){return jp(e)?e.children?e.children[0]:void 0:e}function Ld(e,t){e.shapeFlag&6&&e.component?Ld(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function E1(e,t=!1,n){let r=[],i=0;for(let s=0;s<e.length;s++){let a=e[s];const c=n==null?a.key:String(n)+String(a.key!=null?a.key:s);a.type===Sr?(a.patchFlag&128&&i++,r=r.concat(E1(a.children,t,c))):(t||a.type!==xr)&&r.push(c!=null?Yi(a,{key:c}):a)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function gb(e){return Re(e)?{setup:e,name:e.name}:e}const hu=e=>!!e.type.__asyncLoader,jp=e=>e.type.__isKeepAlive,vB={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=Tb(),r=n.ctx;if(!r.renderer)return()=>{const N=t.default&&t.default();return N&&N.length===1?N[0]:N};const i=new Map,s=new Set;let a=null;const c=n.suspense,{renderer:{p:l,m:h,um:d,o:{createElement:v}}}=r,g=v("div");r.activate=(N,O,L,V,F)=>{const G=N.component;h(N,O,L,0,c),l(G.vnode,N,O,L,G,c,V,N.slotScopeIds,F),sn(()=>{G.isDeactivated=!1,G.a&&fl(G.a);const M=N.props&&N.props.onVnodeMounted;M&&Tr(M,G.parent,N)},c)},r.deactivate=N=>{const O=N.component;h(N,g,null,1,c),sn(()=>{O.da&&fl(O.da);const L=N.props&&N.props.onVnodeUnmounted;L&&Tr(L,O.parent,N),O.isDeactivated=!0},c)};function y(N){Py(N),d(N,n,c,!0)}function w(N){i.forEach((O,L)=>{const V=U_(O.type);V&&(!N||!N(V))&&E(L)})}function E(N){const O=i.get(N);!a||!ko(O,a)?y(O):a&&Py(a),i.delete(N),s.delete(N)}fu(()=>[e.include,e.exclude],([N,O])=>{N&&w(L=>ul(N,L)),O&&w(L=>!ul(O,L))},{flush:"post",deep:!0});let I=null;const C=()=>{I!=null&&i.set(I,Oy(n.subTree))};return mb(C),T1(C),yb(()=>{i.forEach(N=>{const{subTree:O,suspense:L}=n,V=Oy(O);if(N.type===V.type&&N.key===V.key){Py(V);const F=V.component.da;F&&sn(F,L);return}y(N)})}),()=>{if(I=null,!t.default)return null;const N=t.default(),O=N[0];if(N.length>1)return a=null,N;if(!Fl(O)||!(O.shapeFlag&4)&&!(O.shapeFlag&128))return a=null,O;let L=Oy(O);const V=L.type,F=U_(hu(L)?L.type.__asyncResolved||{}:V),{include:G,exclude:M,max:se}=e;if(G&&(!F||!ul(G,F))||M&&F&&ul(M,F))return a=L,O;const R=L.key==null?V:L.key,Pe=i.get(R);return L.el&&(L=Yi(L),O.shapeFlag&128&&(O.ssContent=L)),I=R,Pe?(L.el=Pe.el,L.component=Pe.component,L.transition&&Ld(L,L.transition),L.shapeFlag|=512,s.delete(R),s.add(R)):(s.add(R),se&&s.size>parseInt(se,10)&&E(s.values().next().value)),L.shapeFlag|=256,a=L,m1(O.type)?O:L}}},rZ=vB;function ul(e,t){return be(e)?e.some(n=>ul(n,t)):Ct(e)?e.split(",").includes(t):cV(e)?e.test(t):!1}function gB(e,t){I1(e,"a",t)}function mB(e,t){I1(e,"da",t)}function I1(e,t,n=Nt){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Vp(t,r,n),n){let i=n.parent;for(;i&&i.parent;)jp(i.parent.vnode)&&yB(r,t,n,i),i=i.parent}}function yB(e,t,n,r){const i=Vp(t,e,r,!0);S1(()=>{rb(r[t],i)},n)}function Py(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Oy(e){return e.shapeFlag&128?e.ssContent:e}function Vp(e,t,n=Nt,r=!1){if(n){const i=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;Qu(),_u(n);const c=Or(t,n,e,a);return Ws(),Yu(),c});return r?i.unshift(s):i.push(s),s}}const to=e=>(t,n=Nt)=>(!Ul||e==="sp")&&Vp(e,(...r)=>t(...r),n),_B=to("bm"),mb=to("m"),wB=to("bu"),T1=to("u"),yb=to("bum"),S1=to("um"),bB=to("sp"),EB=to("rtg"),IB=to("rtc");function TB(e,t=Nt){Vp("ec",e,t)}function iZ(e,t){const n=cn;if(n===null)return e;const r=Hp(n)||n.proxy,i=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[a,c,l,h=dt]=t[s];a&&(Re(a)&&(a={mounted:a,updated:a}),a.deep&&Ms(c),i.push({dir:a,instance:r,value:c,oldValue:void 0,arg:l,modifiers:h}))}return e}function Es(e,t,n,r){const i=e.dirs,s=t&&t.dirs;for(let a=0;a<i.length;a++){const c=i[a];s&&(c.oldValue=s[a].value);let l=c.dir[r];l&&(Qu(),Or(l,n,8,[e.el,c,e,t]),Yu())}}const C1="components";function SB(e,t){return AB(C1,e,!0,t)||e}const CB=Symbol();function AB(e,t,n=!0,r=!1){const i=cn||Nt;if(i){const s=i.type;if(e===C1){const c=U_(s,!1);if(c&&(c===t||c===Si(t)||c===xp(Si(t))))return s}const a=QC(i[e]||s[e],t)||QC(i.appContext[e],t);return!a&&r?s:a}}function QC(e,t){return e&&(e[t]||e[Si(t)]||e[xp(Si(t))])}function oZ(e,t,n,r){let i;const s=n&&n[r];if(be(e)||Ct(e)){i=new Array(e.length);for(let a=0,c=e.length;a<c;a++)i[a]=t(e[a],a,void 0,s&&s[a])}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,s&&s[a])}else if(pt(e))if(e[Symbol.iterator])i=Array.from(e,(a,c)=>t(a,c,void 0,s&&s[c]));else{const a=Object.keys(e);i=new Array(a.length);for(let c=0,l=a.length;c<l;c++){const h=a[c];i[c]=t(e[h],h,c,s&&s[c])}}else i=[];return n&&(n[r]=i),i}function sZ(e,t,n={},r,i){if(cn.isCE||cn.parent&&hu(cn.parent)&&cn.parent.isCE)return t!=="default"&&(n.name=t),Xn("slot",n,r&&r());let s=e[t];s&&s._c&&(s._d=!1),Fd();const a=s&&A1(s(n)),c=Eb(Sr,{key:n.key||a&&a.key||`_${t}`},a||(r?r():[]),a&&e._===1?64:-2);return!i&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),s&&s._c&&(s._d=!0),c}function A1(e){return e.some(t=>Fl(t)?!(t.type===xr||t.type===Sr&&!A1(t.children)):!0)?e:null}const O_=e=>e?j1(e)?Hp(e)||e.proxy:O_(e.parent):null,hl=vn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>O_(e.parent),$root:e=>O_(e.root),$emit:e=>e.emit,$options:e=>_b(e),$forceUpdate:e=>e.f||(e.f=()=>vb(e.update)),$nextTick:e=>e.n||(e.n=pb.bind(e.proxy)),$watch:e=>hB.bind(e)}),xy=(e,t)=>e!==dt&&!e.__isScriptSetup&&We(e,t),kB={get({_:e},t){const{ctx:n,setupState:r,data:i,props:s,accessCache:a,type:c,appContext:l}=e;let h;if(t[0]!=="$"){const y=a[t];if(y!==void 0)switch(y){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return s[t]}else{if(xy(r,t))return a[t]=1,r[t];if(i!==dt&&We(i,t))return a[t]=2,i[t];if((h=e.propsOptions[0])&&We(h,t))return a[t]=3,s[t];if(n!==dt&&We(n,t))return a[t]=4,n[t];x_&&(a[t]=0)}}const d=hl[t];let v,g;if(d)return t==="$attrs"&&nr(e,"get",t),d(e);if((v=c.__cssModules)&&(v=v[t]))return v;if(n!==dt&&We(n,t))return a[t]=4,n[t];if(g=l.config.globalProperties,We(g,t))return g[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:s}=e;return xy(i,t)?(i[t]=n,!0):r!==dt&&We(r,t)?(r[t]=n,!0):We(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:s}},a){let c;return!!n[a]||e!==dt&&We(e,a)||xy(t,a)||(c=s[0])&&We(c,a)||We(r,a)||We(hl,a)||We(i.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:We(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let x_=!0;function RB(e){const t=_b(e),n=e.proxy,r=e.ctx;x_=!1,t.beforeCreate&&YC(t.beforeCreate,e,"bc");const{data:i,computed:s,methods:a,watch:c,provide:l,inject:h,created:d,beforeMount:v,mounted:g,beforeUpdate:y,updated:w,activated:E,deactivated:I,beforeDestroy:C,beforeUnmount:N,destroyed:O,unmounted:L,render:V,renderTracked:F,renderTriggered:G,errorCaptured:M,serverPrefetch:se,expose:R,inheritAttrs:Pe,components:oe,directives:Je,filters:st}=t;if(h&&NB(h,r,null,e.appContext.config.unwrapInjectedRef),a)for(const et in a){const Ae=a[et];Re(Ae)&&(r[et]=Ae.bind(n))}if(i){const et=i.call(n,n);pt(et)&&(e.data=Qo(et))}if(x_=!0,s)for(const et in s){const Ae=s[et],Nn=Re(Ae)?Ae.bind(n,n):Re(Ae.get)?Ae.get.bind(n,n):ei,Wn=!Re(Ae)&&Re(Ae.set)?Ae.set.bind(n):ei,Pn=fr({get:Nn,set:Wn});Object.defineProperty(r,et,{enumerable:!0,configurable:!0,get:()=>Pn.value,set:tn=>Pn.value=tn})}if(c)for(const et in c)k1(c[et],r,n,et);if(l){const et=Re(l)?l.call(n):l;Reflect.ownKeys(et).forEach(Ae=>{wd(Ae,et[Ae])})}d&&YC(d,e,"c");function Ze(et,Ae){be(Ae)?Ae.forEach(Nn=>et(Nn.bind(n))):Ae&&et(Ae.bind(n))}if(Ze(_B,v),Ze(mb,g),Ze(wB,y),Ze(T1,w),Ze(gB,E),Ze(mB,I),Ze(TB,M),Ze(IB,F),Ze(EB,G),Ze(yb,N),Ze(S1,L),Ze(bB,se),be(R))if(R.length){const et=e.exposed||(e.exposed={});R.forEach(Ae=>{Object.defineProperty(et,Ae,{get:()=>n[Ae],set:Nn=>n[Ae]=Nn})})}else e.exposed||(e.exposed={});V&&e.render===ei&&(e.render=V),Pe!=null&&(e.inheritAttrs=Pe),oe&&(e.components=oe),Je&&(e.directives=Je)}function NB(e,t,n=ei,r=!1){be(e)&&(e=D_(e));for(const i in e){const s=e[i];let a;pt(s)?"default"in s?a=_i(s.from||i,s.default,!0):a=_i(s.from||i):a=_i(s),Pt(a)&&r?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>a.value,set:c=>a.value=c}):t[i]=a}}function YC(e,t,n){Or(be(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function k1(e,t,n,r){const i=r.includes(".")?_1(n,r):()=>n[r];if(Ct(e)){const s=t[e];Re(s)&&fu(i,s)}else if(Re(e))fu(i,e.bind(n));else if(pt(e))if(be(e))e.forEach(s=>k1(s,t,n,r));else{const s=Re(e.handler)?e.handler.bind(n):t[e.handler];Re(s)&&fu(i,s,e)}}function _b(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,c=s.get(t);let l;return c?l=c:!i.length&&!n&&!r?l=t:(l={},i.length&&i.forEach(h=>Md(l,h,a,!0)),Md(l,t,a)),pt(t)&&s.set(t,l),l}function Md(e,t,n,r=!1){const{mixins:i,extends:s}=t;s&&Md(e,s,n,!0),i&&i.forEach(a=>Md(e,a,n,!0));for(const a in t)if(!(r&&a==="expose")){const c=PB[a]||n&&n[a];e[a]=c?c(e[a],t[a]):t[a]}return e}const PB={data:XC,props:As,emits:As,methods:As,computed:As,beforeCreate:Mn,created:Mn,beforeMount:Mn,mounted:Mn,beforeUpdate:Mn,updated:Mn,beforeDestroy:Mn,beforeUnmount:Mn,destroyed:Mn,unmounted:Mn,activated:Mn,deactivated:Mn,errorCaptured:Mn,serverPrefetch:Mn,components:As,directives:As,watch:xB,provide:XC,inject:OB};function XC(e,t){return t?e?function(){return vn(Re(e)?e.call(this,this):e,Re(t)?t.call(this,this):t)}:t:e}function OB(e,t){return As(D_(e),D_(t))}function D_(e){if(be(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Mn(e,t){return e?[...new Set([].concat(e,t))]:t}function As(e,t){return e?vn(vn(Object.create(null),e),t):t}function xB(e,t){if(!e)return t;if(!t)return e;const n=vn(Object.create(null),e);for(const r in t)n[r]=Mn(e[r],t[r]);return n}function DB(e,t,n,r=!1){const i={},s={};Pd(s,qp,1),e.propsDefaults=Object.create(null),R1(e,t,i,s);for(const a in e.propsOptions[0])a in i||(i[a]=void 0);n?e.props=r?i:WV(i):e.type.props?e.props=i:e.props=s,e.attrs=s}function LB(e,t,n,r){const{props:i,attrs:s,vnode:{patchFlag:a}}=e,c=Ke(i),[l]=e.propsOptions;let h=!1;if((r||a>0)&&!(a&16)){if(a&8){const d=e.vnode.dynamicProps;for(let v=0;v<d.length;v++){let g=d[v];if(Fp(e.emitsOptions,g))continue;const y=t[g];if(l)if(We(s,g))y!==s[g]&&(s[g]=y,h=!0);else{const w=Si(g);i[w]=L_(l,c,w,y,e,!1)}else y!==s[g]&&(s[g]=y,h=!0)}}}else{R1(e,t,i,s)&&(h=!0);let d;for(const v in c)(!t||!We(t,v)&&((d=zu(v))===v||!We(t,d)))&&(l?n&&(n[v]!==void 0||n[d]!==void 0)&&(i[v]=L_(l,c,v,void 0,e,!0)):delete i[v]);if(s!==c)for(const v in s)(!t||!We(t,v)&&!0)&&(delete s[v],h=!0)}h&&Qi(e,"set","$attrs")}function R1(e,t,n,r){const[i,s]=e.propsOptions;let a=!1,c;if(t)for(let l in t){if(_d(l))continue;const h=t[l];let d;i&&We(i,d=Si(l))?!s||!s.includes(d)?n[d]=h:(c||(c={}))[d]=h:Fp(e.emitsOptions,l)||(!(l in r)||h!==r[l])&&(r[l]=h,a=!0)}if(s){const l=Ke(n),h=c||dt;for(let d=0;d<s.length;d++){const v=s[d];n[v]=L_(i,l,v,h[v],e,!We(h,v))}}return a}function L_(e,t,n,r,i,s){const a=e[n];if(a!=null){const c=We(a,"default");if(c&&r===void 0){const l=a.default;if(a.type!==Function&&Re(l)){const{propsDefaults:h}=i;n in h?r=h[n]:(_u(i),r=h[n]=l.call(null,t),Ws())}else r=l}a[0]&&(s&&!c?r=!1:a[1]&&(r===""||r===zu(n))&&(r=!0))}return r}function N1(e,t,n=!1){const r=t.propsCache,i=r.get(e);if(i)return i;const s=e.props,a={},c=[];let l=!1;if(!Re(e)){const d=v=>{l=!0;const[g,y]=N1(v,t,!0);vn(a,g),y&&c.push(...y)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!s&&!l)return pt(e)&&r.set(e,au),au;if(be(s))for(let d=0;d<s.length;d++){const v=Si(s[d]);JC(v)&&(a[v]=dt)}else if(s)for(const d in s){const v=Si(d);if(JC(v)){const g=s[d],y=a[v]=be(g)||Re(g)?{type:g}:Object.assign({},g);if(y){const w=tA(Boolean,y.type),E=tA(String,y.type);y[0]=w>-1,y[1]=E<0||w<E,(w>-1||We(y,"default"))&&c.push(v)}}}const h=[a,c];return pt(e)&&r.set(e,h),h}function JC(e){return e[0]!=="$"}function ZC(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function eA(e,t){return ZC(e)===ZC(t)}function tA(e,t){return be(t)?t.findIndex(n=>eA(n,e)):Re(t)&&eA(t,e)?0:-1}const P1=e=>e[0]==="_"||e==="$stable",wb=e=>be(e)?e.map(gi):[gi(e)],MB=(e,t,n)=>{if(t._n)return t;const r=sB((...i)=>wb(t(...i)),n);return r._c=!1,r},O1=(e,t,n)=>{const r=e._ctx;for(const i in e){if(P1(i))continue;const s=e[i];if(Re(s))t[i]=MB(i,s,r);else if(s!=null){const a=wb(s);t[i]=()=>a}}},x1=(e,t)=>{const n=wb(t);e.slots.default=()=>n},FB=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Ke(t),Pd(t,"_",n)):O1(t,e.slots={})}else e.slots={},t&&x1(e,t);Pd(e.slots,qp,1)},UB=(e,t,n)=>{const{vnode:r,slots:i}=e;let s=!0,a=dt;if(r.shapeFlag&32){const c=t._;c?n&&c===1?s=!1:(vn(i,t),!n&&c===1&&delete i._):(s=!t.$stable,O1(t,i)),a=t}else t&&(x1(e,t),a={default:1});if(s)for(const c in i)!P1(c)&&!(c in a)&&delete i[c]};function D1(){return{app:null,config:{isNativeTag:sV,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let jB=0;function VB(e,t){return function(r,i=null){Re(r)||(r=Object.assign({},r)),i!=null&&!pt(i)&&(i=null);const s=D1(),a=new Set;let c=!1;const l=s.app={_uid:jB++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:c4,get config(){return s.config},set config(h){},use(h,...d){return a.has(h)||(h&&Re(h.install)?(a.add(h),h.install(l,...d)):Re(h)&&(a.add(h),h(l,...d))),l},mixin(h){return s.mixins.includes(h)||s.mixins.push(h),l},component(h,d){return d?(s.components[h]=d,l):s.components[h]},directive(h,d){return d?(s.directives[h]=d,l):s.directives[h]},mount(h,d,v){if(!c){const g=Xn(r,i);return g.appContext=s,d&&t?t(g,h):e(g,h,v),c=!0,l._container=h,h.__vue_app__=l,Hp(g.component)||g.component.proxy}},unmount(){c&&(e(null,l._container),delete l._container.__vue_app__)},provide(h,d){return s.provides[h]=d,l}};return l}}function M_(e,t,n,r,i=!1){if(be(e)){e.forEach((g,y)=>M_(g,t&&(be(t)?t[y]:t),n,r,i));return}if(hu(r)&&!i)return;const s=r.shapeFlag&4?Hp(r.component)||r.component.proxy:r.el,a=i?null:s,{i:c,r:l}=e,h=t&&t.r,d=c.refs===dt?c.refs={}:c.refs,v=c.setupState;if(h!=null&&h!==l&&(Ct(h)?(d[h]=null,We(v,h)&&(v[h]=null)):Pt(h)&&(h.value=null)),Re(l))Mo(l,c,12,[a,d]);else{const g=Ct(l),y=Pt(l);if(g||y){const w=()=>{if(e.f){const E=g?We(v,l)?v[l]:d[l]:l.value;i?be(E)&&rb(E,s):be(E)?E.includes(s)||E.push(s):g?(d[l]=[s],We(v,l)&&(v[l]=d[l])):(l.value=[s],e.k&&(d[e.k]=l.value))}else g?(d[l]=a,We(v,l)&&(v[l]=a)):y&&(l.value=a,e.k&&(d[e.k]=a))};a?(w.id=-1,sn(w,n)):w()}}}const sn=fB;function BB(e){return qB(e)}function qB(e,t){const n=vV();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:a,createText:c,createComment:l,setText:h,setElementText:d,parentNode:v,nextSibling:g,setScopeId:y=ei,insertStaticContent:w}=e,E=(T,P,D,j=null,B=null,Y=null,ee=!1,Q=null,J=!!P.dynamicChildren)=>{if(T===P)return;T&&!ko(T,P)&&(j=re(T),tn(T,B,Y,!0),T=null),P.patchFlag===-2&&(J=!1,P.dynamicChildren=null);const{type:W,ref:pe,shapeFlag:fe}=P;switch(W){case Bp:I(T,P,D,j);break;case xr:C(T,P,D,j);break;case Dy:T==null&&N(P,D,j,ee);break;case Sr:oe(T,P,D,j,B,Y,ee,Q,J);break;default:fe&1?V(T,P,D,j,B,Y,ee,Q,J):fe&6?Je(T,P,D,j,B,Y,ee,Q,J):(fe&64||fe&128)&&W.process(T,P,D,j,B,Y,ee,Q,J,qe)}pe!=null&&B&&M_(pe,T&&T.ref,Y,P||T,!P)},I=(T,P,D,j)=>{if(T==null)r(P.el=c(P.children),D,j);else{const B=P.el=T.el;P.children!==T.children&&h(B,P.children)}},C=(T,P,D,j)=>{T==null?r(P.el=l(P.children||""),D,j):P.el=T.el},N=(T,P,D,j)=>{[T.el,T.anchor]=w(T.children,P,D,j,T.el,T.anchor)},O=({el:T,anchor:P},D,j)=>{let B;for(;T&&T!==P;)B=g(T),r(T,D,j),T=B;r(P,D,j)},L=({el:T,anchor:P})=>{let D;for(;T&&T!==P;)D=g(T),i(T),T=D;i(P)},V=(T,P,D,j,B,Y,ee,Q,J)=>{ee=ee||P.type==="svg",T==null?F(P,D,j,B,Y,ee,Q,J):se(T,P,B,Y,ee,Q,J)},F=(T,P,D,j,B,Y,ee,Q)=>{let J,W;const{type:pe,props:fe,shapeFlag:ve,transition:Ee,dirs:Me}=T;if(J=T.el=a(T.type,Y,fe&&fe.is,fe),ve&8?d(J,T.children):ve&16&&M(T.children,J,null,j,B,Y&&pe!=="foreignObject",ee,Q),Me&&Es(T,null,j,"created"),G(J,T,T.scopeId,ee,j),fe){for(const $e in fe)$e!=="value"&&!_d($e)&&s(J,$e,null,fe[$e],Y,T.children,j,B,ie);"value"in fe&&s(J,"value",null,fe.value),(W=fe.onVnodeBeforeMount)&&Tr(W,j,T)}Me&&Es(T,null,j,"beforeMount");const me=(!B||B&&!B.pendingBranch)&&Ee&&!Ee.persisted;me&&Ee.beforeEnter(J),r(J,P,D),((W=fe&&fe.onVnodeMounted)||me||Me)&&sn(()=>{W&&Tr(W,j,T),me&&Ee.enter(J),Me&&Es(T,null,j,"mounted")},B)},G=(T,P,D,j,B)=>{if(D&&y(T,D),j)for(let Y=0;Y<j.length;Y++)y(T,j[Y]);if(B){let Y=B.subTree;if(P===Y){const ee=B.vnode;G(T,ee,ee.scopeId,ee.slotScopeIds,B.parent)}}},M=(T,P,D,j,B,Y,ee,Q,J=0)=>{for(let W=J;W<T.length;W++){const pe=T[W]=Q?So(T[W]):gi(T[W]);E(null,pe,P,D,j,B,Y,ee,Q)}},se=(T,P,D,j,B,Y,ee)=>{const Q=P.el=T.el;let{patchFlag:J,dynamicChildren:W,dirs:pe}=P;J|=T.patchFlag&16;const fe=T.props||dt,ve=P.props||dt;let Ee;D&&Is(D,!1),(Ee=ve.onVnodeBeforeUpdate)&&Tr(Ee,D,P,T),pe&&Es(P,T,D,"beforeUpdate"),D&&Is(D,!0);const Me=B&&P.type!=="foreignObject";if(W?R(T.dynamicChildren,W,Q,D,j,Me,Y):ee||Ae(T,P,Q,null,D,j,Me,Y,!1),J>0){if(J&16)Pe(Q,P,fe,ve,D,j,B);else if(J&2&&fe.class!==ve.class&&s(Q,"class",null,ve.class,B),J&4&&s(Q,"style",fe.style,ve.style,B),J&8){const me=P.dynamicProps;for(let $e=0;$e<me.length;$e++){const ut=me[$e],$n=fe[ut],xi=ve[ut];(xi!==$n||ut==="value")&&s(Q,ut,$n,xi,B,T.children,D,j,ie)}}J&1&&T.children!==P.children&&d(Q,P.children)}else!ee&&W==null&&Pe(Q,P,fe,ve,D,j,B);((Ee=ve.onVnodeUpdated)||pe)&&sn(()=>{Ee&&Tr(Ee,D,P,T),pe&&Es(P,T,D,"updated")},j)},R=(T,P,D,j,B,Y,ee)=>{for(let Q=0;Q<P.length;Q++){const J=T[Q],W=P[Q],pe=J.el&&(J.type===Sr||!ko(J,W)||J.shapeFlag&70)?v(J.el):D;E(J,W,pe,null,j,B,Y,ee,!0)}},Pe=(T,P,D,j,B,Y,ee)=>{if(D!==j){if(D!==dt)for(const Q in D)!_d(Q)&&!(Q in j)&&s(T,Q,D[Q],null,ee,P.children,B,Y,ie);for(const Q in j){if(_d(Q))continue;const J=j[Q],W=D[Q];J!==W&&Q!=="value"&&s(T,Q,W,J,ee,P.children,B,Y,ie)}"value"in j&&s(T,"value",D.value,j.value)}},oe=(T,P,D,j,B,Y,ee,Q,J)=>{const W=P.el=T?T.el:c(""),pe=P.anchor=T?T.anchor:c("");let{patchFlag:fe,dynamicChildren:ve,slotScopeIds:Ee}=P;Ee&&(Q=Q?Q.concat(Ee):Ee),T==null?(r(W,D,j),r(pe,D,j),M(P.children,D,pe,B,Y,ee,Q,J)):fe>0&&fe&64&&ve&&T.dynamicChildren?(R(T.dynamicChildren,ve,D,B,Y,ee,Q),(P.key!=null||B&&P===B.subTree)&&bb(T,P,!0)):Ae(T,P,D,pe,B,Y,ee,Q,J)},Je=(T,P,D,j,B,Y,ee,Q,J)=>{P.slotScopeIds=Q,T==null?P.shapeFlag&512?B.ctx.activate(P,D,j,ee,J):st(P,D,j,B,Y,ee,J):at(T,P,J)},st=(T,P,D,j,B,Y,ee)=>{const Q=T.component=t4(T,j,B);if(jp(T)&&(Q.ctx.renderer=qe),n4(Q),Q.asyncDep){if(B&&B.registerDep(Q,Ze),!T.el){const J=Q.subTree=Xn(xr);C(null,J,P,D)}return}Ze(Q,T,P,D,B,Y,ee)},at=(T,P,D)=>{const j=P.component=T.component;if(cB(T,P,D))if(j.asyncDep&&!j.asyncResolved){et(j,P,D);return}else j.next=P,nB(j.update),j.update();else P.el=T.el,j.vnode=P},Ze=(T,P,D,j,B,Y,ee)=>{const Q=()=>{if(T.isMounted){let{next:pe,bu:fe,u:ve,parent:Ee,vnode:Me}=T,me=pe,$e;Is(T,!1),pe?(pe.el=Me.el,et(T,pe,ee)):pe=Me,fe&&fl(fe),($e=pe.props&&pe.props.onVnodeBeforeUpdate)&&Tr($e,Ee,pe,Me),Is(T,!0);const ut=Ry(T),$n=T.subTree;T.subTree=ut,E($n,ut,v($n.el),re($n),T,B,Y),pe.el=ut.el,me===null&&lB(T,ut.el),ve&&sn(ve,B),($e=pe.props&&pe.props.onVnodeUpdated)&&sn(()=>Tr($e,Ee,pe,Me),B)}else{let pe;const{el:fe,props:ve}=P,{bm:Ee,m:Me,parent:me}=T,$e=hu(P);if(Is(T,!1),Ee&&fl(Ee),!$e&&(pe=ve&&ve.onVnodeBeforeMount)&&Tr(pe,me,P),Is(T,!0),fe&&Se){const ut=()=>{T.subTree=Ry(T),Se(fe,T.subTree,T,B,null)};$e?P.type.__asyncLoader().then(()=>!T.isUnmounted&&ut()):ut()}else{const ut=T.subTree=Ry(T);E(null,ut,D,j,T,B,Y),P.el=ut.el}if(Me&&sn(Me,B),!$e&&(pe=ve&&ve.onVnodeMounted)){const ut=P;sn(()=>Tr(pe,me,ut),B)}(P.shapeFlag&256||me&&hu(me.vnode)&&me.vnode.shapeFlag&256)&&T.a&&sn(T.a,B),T.isMounted=!0,P=D=j=null}},J=T.effect=new ab(Q,()=>vb(W),T.scope),W=T.update=()=>J.run();W.id=T.uid,Is(T,!0),W()},et=(T,P,D)=>{P.component=T;const j=T.vnode.props;T.vnode=P,T.next=null,LB(T,P.props,j,D),UB(T,P.children,D),Qu(),$C(),Yu()},Ae=(T,P,D,j,B,Y,ee,Q,J=!1)=>{const W=T&&T.children,pe=T?T.shapeFlag:0,fe=P.children,{patchFlag:ve,shapeFlag:Ee}=P;if(ve>0){if(ve&128){Wn(W,fe,D,j,B,Y,ee,Q,J);return}else if(ve&256){Nn(W,fe,D,j,B,Y,ee,Q,J);return}}Ee&8?(pe&16&&ie(W,B,Y),fe!==W&&d(D,fe)):pe&16?Ee&16?Wn(W,fe,D,j,B,Y,ee,Q,J):ie(W,B,Y,!0):(pe&8&&d(D,""),Ee&16&&M(fe,D,j,B,Y,ee,Q,J))},Nn=(T,P,D,j,B,Y,ee,Q,J)=>{T=T||au,P=P||au;const W=T.length,pe=P.length,fe=Math.min(W,pe);let ve;for(ve=0;ve<fe;ve++){const Ee=P[ve]=J?So(P[ve]):gi(P[ve]);E(T[ve],Ee,D,null,B,Y,ee,Q,J)}W>pe?ie(T,B,Y,!0,!1,fe):M(P,D,j,B,Y,ee,Q,J,fe)},Wn=(T,P,D,j,B,Y,ee,Q,J)=>{let W=0;const pe=P.length;let fe=T.length-1,ve=pe-1;for(;W<=fe&&W<=ve;){const Ee=T[W],Me=P[W]=J?So(P[W]):gi(P[W]);if(ko(Ee,Me))E(Ee,Me,D,null,B,Y,ee,Q,J);else break;W++}for(;W<=fe&&W<=ve;){const Ee=T[fe],Me=P[ve]=J?So(P[ve]):gi(P[ve]);if(ko(Ee,Me))E(Ee,Me,D,null,B,Y,ee,Q,J);else break;fe--,ve--}if(W>fe){if(W<=ve){const Ee=ve+1,Me=Ee<pe?P[Ee].el:j;for(;W<=ve;)E(null,P[W]=J?So(P[W]):gi(P[W]),D,Me,B,Y,ee,Q,J),W++}}else if(W>ve)for(;W<=fe;)tn(T[W],B,Y,!0),W++;else{const Ee=W,Me=W,me=new Map;for(W=Me;W<=ve;W++){const It=P[W]=J?So(P[W]):gi(P[W]);It.key!=null&&me.set(It.key,W)}let $e,ut=0;const $n=ve-Me+1;let xi=!1,Et=0;const so=new Array($n);for(W=0;W<$n;W++)so[W]=0;for(W=Ee;W<=fe;W++){const It=T[W];if(ut>=$n){tn(It,B,Y,!0);continue}let ir;if(It.key!=null)ir=me.get(It.key);else for($e=Me;$e<=ve;$e++)if(so[$e-Me]===0&&ko(It,P[$e])){ir=$e;break}ir===void 0?tn(It,B,Y,!0):(so[ir-Me]=W+1,ir>=Et?Et=ir:xi=!0,E(It,P[ir],D,null,B,Y,ee,Q,J),ut++)}const si=xi?HB(so):au;for($e=si.length-1,W=$n-1;W>=0;W--){const It=Me+W,ir=P[It],nn=It+1<pe?P[It+1].el:j;so[W]===0?E(null,ir,D,nn,B,Y,ee,Q,J):xi&&($e<0||W!==si[$e]?Pn(ir,D,nn,2):$e--)}}},Pn=(T,P,D,j,B=null)=>{const{el:Y,type:ee,transition:Q,children:J,shapeFlag:W}=T;if(W&6){Pn(T.component.subTree,P,D,j);return}if(W&128){T.suspense.move(P,D,j);return}if(W&64){ee.move(T,P,D,qe);return}if(ee===Sr){r(Y,P,D);for(let fe=0;fe<J.length;fe++)Pn(J[fe],P,D,j);r(T.anchor,P,D);return}if(ee===Dy){O(T,P,D);return}if(j!==2&&W&1&&Q)if(j===0)Q.beforeEnter(Y),r(Y,P,D),sn(()=>Q.enter(Y),B);else{const{leave:fe,delayLeave:ve,afterLeave:Ee}=Q,Me=()=>r(Y,P,D),me=()=>{fe(Y,()=>{Me(),Ee&&Ee()})};ve?ve(Y,Me,me):me()}else r(Y,P,D)},tn=(T,P,D,j=!1,B=!1)=>{const{type:Y,props:ee,ref:Q,children:J,dynamicChildren:W,shapeFlag:pe,patchFlag:fe,dirs:ve}=T;if(Q!=null&&M_(Q,null,D,T,!0),pe&256){P.ctx.deactivate(T);return}const Ee=pe&1&&ve,Me=!hu(T);let me;if(Me&&(me=ee&&ee.onVnodeBeforeUnmount)&&Tr(me,P,T),pe&6)q(T.component,D,j);else{if(pe&128){T.suspense.unmount(D,j);return}Ee&&Es(T,null,P,"beforeUnmount"),pe&64?T.type.remove(T,P,D,B,qe,j):W&&(Y!==Sr||fe>0&&fe&64)?ie(W,P,D,!1,!0):(Y===Sr&&fe&384||!B&&pe&16)&&ie(J,P,D),j&&Oi(T)}(Me&&(me=ee&&ee.onVnodeUnmounted)||Ee)&&sn(()=>{me&&Tr(me,P,T),Ee&&Es(T,null,P,"unmounted")},D)},Oi=T=>{const{type:P,el:D,anchor:j,transition:B}=T;if(P===Sr){ns(D,j);return}if(P===Dy){L(T);return}const Y=()=>{i(D),B&&!B.persisted&&B.afterLeave&&B.afterLeave()};if(T.shapeFlag&1&&B&&!B.persisted){const{leave:ee,delayLeave:Q}=B,J=()=>ee(D,Y);Q?Q(T.el,Y,J):J()}else Y()},ns=(T,P)=>{let D;for(;T!==P;)D=g(T),i(T),T=D;i(P)},q=(T,P,D)=>{const{bum:j,scope:B,update:Y,subTree:ee,um:Q}=T;j&&fl(j),B.stop(),Y&&(Y.active=!1,tn(ee,T,P,D)),Q&&sn(Q,P),sn(()=>{T.isUnmounted=!0},P),P&&P.pendingBranch&&!P.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===P.pendingId&&(P.deps--,P.deps===0&&P.resolve())},ie=(T,P,D,j=!1,B=!1,Y=0)=>{for(let ee=Y;ee<T.length;ee++)tn(T[ee],P,D,j,B)},re=T=>T.shapeFlag&6?re(T.component.subTree):T.shapeFlag&128?T.suspense.next():g(T.anchor||T.el),Z=(T,P,D)=>{T==null?P._vnode&&tn(P._vnode,null,null,!0):E(P._vnode||null,T,P,null,null,null,D),$C(),p1(),P._vnode=T},qe={p:E,um:tn,m:Pn,r:Oi,mt:st,mc:M,pc:Ae,pbc:R,n:re,o:e};let ft,Se;return t&&([ft,Se]=t(qe)),{render:Z,hydrate:ft,createApp:VB(Z,ft)}}function Is({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function bb(e,t,n=!1){const r=e.children,i=t.children;if(be(r)&&be(i))for(let s=0;s<r.length;s++){const a=r[s];let c=i[s];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=i[s]=So(i[s]),c.el=a.el),n||bb(a,c)),c.type===Bp&&(c.el=a.el)}}function HB(e){const t=e.slice(),n=[0];let r,i,s,a,c;const l=e.length;for(r=0;r<l;r++){const h=e[r];if(h!==0){if(i=n[n.length-1],e[i]<h){t[r]=i,n.push(r);continue}for(s=0,a=n.length-1;s<a;)c=s+a>>1,e[n[c]]<h?s=c+1:a=c;h<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=t[a];return n}const KB=e=>e.__isTeleport,dl=e=>e&&(e.disabled||e.disabled===""),nA=e=>typeof SVGElement!="undefined"&&e instanceof SVGElement,F_=(e,t)=>{const n=e&&e.to;return Ct(n)?t?t(n):null:n},WB={__isTeleport:!0,process(e,t,n,r,i,s,a,c,l,h){const{mc:d,pc:v,pbc:g,o:{insert:y,querySelector:w,createText:E,createComment:I}}=h,C=dl(t.props);let{shapeFlag:N,children:O,dynamicChildren:L}=t;if(e==null){const V=t.el=E(""),F=t.anchor=E("");y(V,n,r),y(F,n,r);const G=t.target=F_(t.props,w),M=t.targetAnchor=E("");G&&(y(M,G),a=a||nA(G));const se=(R,Pe)=>{N&16&&d(O,R,Pe,i,s,a,c,l)};C?se(n,F):G&&se(G,M)}else{t.el=e.el;const V=t.anchor=e.anchor,F=t.target=e.target,G=t.targetAnchor=e.targetAnchor,M=dl(e.props),se=M?n:F,R=M?V:G;if(a=a||nA(F),L?(g(e.dynamicChildren,L,se,i,s,a,c),bb(e,t,!0)):l||v(e,t,se,R,i,s,a,c,!1),C)M||nd(t,n,V,h,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const Pe=t.target=F_(t.props,w);Pe&&nd(t,Pe,null,h,0)}else M&&nd(t,F,G,h,1)}L1(t)},remove(e,t,n,r,{um:i,o:{remove:s}},a){const{shapeFlag:c,children:l,anchor:h,targetAnchor:d,target:v,props:g}=e;if(v&&s(d),(a||!dl(g))&&(s(h),c&16))for(let y=0;y<l.length;y++){const w=l[y];i(w,t,n,!0,!!w.dynamicChildren)}},move:nd,hydrate:$B};function nd(e,t,n,{o:{insert:r},m:i},s=2){s===0&&r(e.targetAnchor,t,n);const{el:a,anchor:c,shapeFlag:l,children:h,props:d}=e,v=s===2;if(v&&r(a,t,n),(!v||dl(d))&&l&16)for(let g=0;g<h.length;g++)i(h[g],t,n,2);v&&r(c,t,n)}function $B(e,t,n,r,i,s,{o:{nextSibling:a,parentNode:c,querySelector:l}},h){const d=t.target=F_(t.props,l);if(d){const v=d._lpa||d.firstChild;if(t.shapeFlag&16)if(dl(t.props))t.anchor=h(a(e),t,c(e),n,r,i,s),t.targetAnchor=v;else{t.anchor=a(e);let g=v;for(;g;)if(g=a(g),g&&g.nodeType===8&&g.data==="teleport anchor"){t.targetAnchor=g,d._lpa=t.targetAnchor&&a(t.targetAnchor);break}h(v,t,d,n,r,i,s)}L1(t)}return t.anchor&&a(t.anchor)}const aZ=WB;function L1(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const Sr=Symbol(void 0),Bp=Symbol(void 0),xr=Symbol(void 0),Dy=Symbol(void 0),pl=[];let Jr=null;function Fd(e=!1){pl.push(Jr=e?null:[])}function GB(){pl.pop(),Jr=pl[pl.length-1]||null}let Ml=1;function rA(e){Ml+=e}function M1(e){return e.dynamicChildren=Ml>0?Jr||au:null,GB(),Ml>0&&Jr&&Jr.push(e),e}function zB(e,t,n,r,i,s){return M1(U1(e,t,n,r,i,s,!0))}function Eb(e,t,n,r,i){return M1(Xn(e,t,n,r,i,!0))}function Fl(e){return e?e.__v_isVNode===!0:!1}function ko(e,t){return e.type===t.type&&e.key===t.key}const qp="__vInternal",F1=({key:e})=>e!=null?e:null,bd=({ref:e,ref_key:t,ref_for:n})=>e!=null?Ct(e)||Pt(e)||Re(e)?{i:cn,r:e,k:t,f:!!n}:e:null;function U1(e,t=null,n=null,r=0,i=null,s=e===Sr?0:1,a=!1,c=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&F1(t),ref:t&&bd(t),scopeId:Up,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:cn};return c?(Ib(l,n),s&128&&e.normalize(l)):n&&(l.shapeFlag|=Ct(n)?8:16),Ml>0&&!a&&Jr&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Jr.push(l),l}const Xn=QB;function QB(e,t=null,n=null,r=0,i=null,s=!1){if((!e||e===CB)&&(e=xr),Fl(e)){const c=Yi(e,t,!0);return n&&Ib(c,n),Ml>0&&!s&&Jr&&(c.shapeFlag&6?Jr[Jr.indexOf(e)]=c:Jr.push(c)),c.patchFlag|=-2,c}if(s4(e)&&(e=e.__vccOpts),t){t=YB(t);let{class:c,style:l}=t;c&&!Ct(c)&&(t.class=tb(c)),pt(l)&&(s1(l)&&!be(l)&&(l=vn({},l)),t.style=eb(l))}const a=Ct(e)?1:m1(e)?128:KB(e)?64:pt(e)?4:Re(e)?2:0;return U1(e,t,n,r,i,a,s,!0)}function YB(e){return e?s1(e)||qp in e?vn({},e):e:null}function Yi(e,t,n=!1){const{props:r,ref:i,patchFlag:s,children:a}=e,c=t?JB(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&F1(c),ref:t&&t.ref?n&&i?be(i)?i.concat(bd(t)):[i,bd(t)]:bd(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Sr?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Yi(e.ssContent),ssFallback:e.ssFallback&&Yi(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function XB(e=" ",t=0){return Xn(Bp,null,e,t)}function uZ(e="",t=!1){return t?(Fd(),Eb(xr,null,e)):Xn(xr,null,e)}function gi(e){return e==null||typeof e=="boolean"?Xn(xr):be(e)?Xn(Sr,null,e.slice()):typeof e=="object"?So(e):Xn(Bp,null,String(e))}function So(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Yi(e)}function Ib(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(be(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),Ib(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!(qp in t)?t._ctx=cn:i===3&&cn&&(cn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Re(t)?(t={default:t,_ctx:cn},n=32):(t=String(t),r&64?(n=16,t=[XB(t)]):n=8);e.children=t,e.shapeFlag|=n}function JB(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=tb([t.class,r.class]));else if(i==="style")t.style=eb([t.style,r.style]);else if(Pp(i)){const s=t[i],a=r[i];a&&s!==a&&!(be(s)&&s.includes(a))&&(t[i]=s?[].concat(s,a):a)}else i!==""&&(t[i]=r[i])}return t}function Tr(e,t,n,r=null){Or(e,t,7,[n,r])}const ZB=D1();let e4=0;function t4(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||ZB,s={uid:e4++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new $N(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:N1(r,i),emitsOptions:g1(r,i),emit:null,emitted:null,propsDefaults:dt,inheritAttrs:r.inheritAttrs,ctx:dt,data:dt,props:dt,attrs:dt,slots:dt,refs:dt,setupState:dt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=oB.bind(null,s),e.ce&&e.ce(s),s}let Nt=null;const Tb=()=>Nt||cn,_u=e=>{Nt=e,e.scope.on()},Ws=()=>{Nt&&Nt.scope.off(),Nt=null};function j1(e){return e.vnode.shapeFlag&4}let Ul=!1;function n4(e,t=!1){Ul=t;const{props:n,children:r}=e.vnode,i=j1(e);DB(e,n,i,t),FB(e,r);const s=i?r4(e,t):void 0;return Ul=!1,s}function r4(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Js(new Proxy(e.ctx,kB));const{setup:r}=n;if(r){const i=e.setupContext=r.length>1?o4(e):null;_u(e),Qu();const s=Mo(r,e,0,[e.props,i]);if(Yu(),Ws(),HN(s)){if(s.then(Ws,Ws),t)return s.then(a=>{iA(e,a,t)}).catch(a=>{Mp(a,e,0)});e.asyncDep=s}else iA(e,s,t)}else V1(e,t)}function iA(e,t,n){Re(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:pt(t)&&(e.setupState=l1(t)),V1(e,n)}let oA;function V1(e,t,n){const r=e.type;if(!e.render){if(!t&&oA&&!r.render){const i=r.template||_b(e).template;if(i){const{isCustomElement:s,compilerOptions:a}=e.appContext.config,{delimiters:c,compilerOptions:l}=r,h=vn(vn({isCustomElement:s,delimiters:c},a),l);r.render=oA(i,h)}}e.render=r.render||ei}_u(e),Qu(),RB(e),Yu(),Ws()}function i4(e){return new Proxy(e.attrs,{get(t,n){return nr(e,"get","$attrs"),t[n]}})}function o4(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=i4(e))},slots:e.slots,emit:e.emit,expose:t}}function Hp(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(l1(Js(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in hl)return hl[n](e)},has(t,n){return n in t||n in hl}}))}function U_(e,t=!0){return Re(e)?e.displayName||e.name:e.name||t&&e.__name}function s4(e){return Re(e)&&"__vccOpts"in e}const fr=(e,t)=>ZV(e,t,Ul);function Sb(e,t,n){const r=arguments.length;return r===2?pt(t)&&!be(t)?Fl(t)?Xn(e,null,[t]):Xn(e,t):Xn(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Fl(n)&&(n=[n]),Xn(e,t,n))}const a4=Symbol(""),u4=()=>_i(a4),c4="3.2.47",l4="http://www.w3.org/2000/svg",Os=typeof document!="undefined"?document:null,sA=Os&&Os.createElement("template"),f4={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?Os.createElementNS(l4,e):Os.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>Os.createTextNode(e),createComment:e=>Os.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Os.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,s){const a=n?n.previousSibling:t.lastChild;if(i&&(i===s||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{sA.innerHTML=r?`<svg>${e}</svg>`:e;const c=sA.content;if(r){const l=c.firstChild;for(;l.firstChild;)c.appendChild(l.firstChild);c.removeChild(l)}t.insertBefore(c,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function h4(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function d4(e,t,n){const r=e.style,i=Ct(n);if(n&&!i){if(t&&!Ct(t))for(const s in t)n[s]==null&&j_(r,s,"");for(const s in n)j_(r,s,n[s])}else{const s=r.display;i?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=s)}}const aA=/\s*!important$/;function j_(e,t,n){if(be(n))n.forEach(r=>j_(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=p4(e,t);aA.test(n)?e.setProperty(zu(r),n.replace(aA,""),"important"):e[r]=n}}const uA=["Webkit","Moz","ms"],Ly={};function p4(e,t){const n=Ly[t];if(n)return n;let r=Si(t);if(r!=="filter"&&r in e)return Ly[t]=r;r=xp(r);for(let i=0;i<uA.length;i++){const s=uA[i]+r;if(s in e)return Ly[t]=s}return t}const cA="http://www.w3.org/1999/xlink";function v4(e,t,n,r,i){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(cA,t.slice(6,t.length)):e.setAttributeNS(cA,t,n);else{const s=oV(t);n==null||s&&!VN(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function g4(e,t,n,r,i,s,a){if(t==="innerHTML"||t==="textContent"){r&&a(r,i,s),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const l=n==null?"":n;(e.value!==l||e.tagName==="OPTION")&&(e.value=l),n==null&&e.removeAttribute(t);return}let c=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=VN(n):n==null&&l==="string"?(n="",c=!0):l==="number"&&(n=0,c=!0)}try{e[t]=n}catch{}c&&e.removeAttribute(t)}function m4(e,t,n,r){e.addEventListener(t,n,r)}function y4(e,t,n,r){e.removeEventListener(t,n,r)}function _4(e,t,n,r,i=null){const s=e._vei||(e._vei={}),a=s[t];if(r&&a)a.value=r;else{const[c,l]=w4(t);if(r){const h=s[t]=I4(r,i);m4(e,c,h,l)}else a&&(y4(e,c,a,l),s[t]=void 0)}}const lA=/(?:Once|Passive|Capture)$/;function w4(e){let t;if(lA.test(e)){t={};let r;for(;r=e.match(lA);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):zu(e.slice(2)),t]}let My=0;const b4=Promise.resolve(),E4=()=>My||(b4.then(()=>My=0),My=Date.now());function I4(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Or(T4(r,n.value),t,5,[r])};return n.value=e,n.attached=E4(),n}function T4(e,t){if(be(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const fA=/^on[a-z]/,S4=(e,t,n,r,i=!1,s,a,c,l)=>{t==="class"?h4(e,r,i):t==="style"?d4(e,n,r):Pp(t)?nb(t)||_4(e,t,n,r,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):C4(e,t,r,i))?g4(e,t,r,s,a,c,l):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),v4(e,t,r,i))};function C4(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&fA.test(t)&&Re(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||fA.test(t)&&Ct(n)?!1:t in e}const mo="transition",Xc="animation",B1=(e,{slots:t})=>Sb(w1,A4(e),t);B1.displayName="Transition";const q1={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};B1.props=vn({},w1.props,q1);const Ts=(e,t=[])=>{be(e)?e.forEach(n=>n(...t)):e&&e(...t)},hA=e=>e?be(e)?e.some(t=>t.length>1):e.length>1:!1;function A4(e){const t={};for(const oe in e)oe in q1||(t[oe]=e[oe]);if(e.css===!1)return t;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:h=a,appearToClass:d=c,leaveFromClass:v=`${n}-leave-from`,leaveActiveClass:g=`${n}-leave-active`,leaveToClass:y=`${n}-leave-to`}=e,w=k4(i),E=w&&w[0],I=w&&w[1],{onBeforeEnter:C,onEnter:N,onEnterCancelled:O,onLeave:L,onLeaveCancelled:V,onBeforeAppear:F=C,onAppear:G=N,onAppearCancelled:M=O}=t,se=(oe,Je,st)=>{Ss(oe,Je?d:c),Ss(oe,Je?h:a),st&&st()},R=(oe,Je)=>{oe._isLeaving=!1,Ss(oe,v),Ss(oe,y),Ss(oe,g),Je&&Je()},Pe=oe=>(Je,st)=>{const at=oe?G:N,Ze=()=>se(Je,oe,st);Ts(at,[Je,Ze]),dA(()=>{Ss(Je,oe?l:s),yo(Je,oe?d:c),hA(at)||pA(Je,r,E,Ze)})};return vn(t,{onBeforeEnter(oe){Ts(C,[oe]),yo(oe,s),yo(oe,a)},onBeforeAppear(oe){Ts(F,[oe]),yo(oe,l),yo(oe,h)},onEnter:Pe(!1),onAppear:Pe(!0),onLeave(oe,Je){oe._isLeaving=!0;const st=()=>R(oe,Je);yo(oe,v),P4(),yo(oe,g),dA(()=>{!oe._isLeaving||(Ss(oe,v),yo(oe,y),hA(L)||pA(oe,r,I,st))}),Ts(L,[oe,st])},onEnterCancelled(oe){se(oe,!1),Ts(O,[oe])},onAppearCancelled(oe){se(oe,!0),Ts(M,[oe])},onLeaveCancelled(oe){R(oe),Ts(V,[oe])}})}function k4(e){if(e==null)return null;if(pt(e))return[Fy(e.enter),Fy(e.leave)];{const t=Fy(e);return[t,t]}}function Fy(e){return pV(e)}function yo(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function Ss(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function dA(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let R4=0;function pA(e,t,n,r){const i=e._endId=++R4,s=()=>{i===e._endId&&r()};if(n)return setTimeout(s,n);const{type:a,timeout:c,propCount:l}=N4(e,t);if(!a)return r();const h=a+"end";let d=0;const v=()=>{e.removeEventListener(h,g),s()},g=y=>{y.target===e&&++d>=l&&v()};setTimeout(()=>{d<l&&v()},c+1),e.addEventListener(h,g)}function N4(e,t){const n=window.getComputedStyle(e),r=w=>(n[w]||"").split(", "),i=r(`${mo}Delay`),s=r(`${mo}Duration`),a=vA(i,s),c=r(`${Xc}Delay`),l=r(`${Xc}Duration`),h=vA(c,l);let d=null,v=0,g=0;t===mo?a>0&&(d=mo,v=a,g=s.length):t===Xc?h>0&&(d=Xc,v=h,g=l.length):(v=Math.max(a,h),d=v>0?a>h?mo:Xc:null,g=d?d===mo?s.length:l.length:0);const y=d===mo&&/\b(transform|all)(,|$)/.test(r(`${mo}Property`).toString());return{type:d,timeout:v,propCount:g,hasTransform:y}}function vA(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>gA(n)+gA(e[r])))}function gA(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function P4(){return document.body.offsetHeight}const cZ={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Jc(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Jc(e,!0),r.enter(e)):r.leave(e,()=>{Jc(e,!1)}):Jc(e,t))},beforeUnmount(e,{value:t}){Jc(e,t)}};function Jc(e,t){e.style.display=t?e._vod:"none"}const O4=vn({patchProp:S4},f4);let mA;function x4(){return mA||(mA=BB(O4))}const D4=(...e)=>{const t=x4().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=L4(r);if(!i)return;const s=t._component;!Re(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const a=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},t};function L4(e){return Ct(e)?document.querySelector(e):e}function Cb(e,t,n,r){return Object.defineProperty(e,t,{get:n,set:r,enumerable:!0}),e}const Zs=Lp(!1);let Kp;function M4(e,t){const n=/(edg|edge|edga|edgios)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(vivaldi)[\/]([\w.]+)/.exec(e)||/(chrome|crios)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(e)||/(webkit)[\/]([\w.]+).*(version)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(e)||/(firefox|fxios)[\/]([\w.]+)/.exec(e)||/(webkit)[\/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[\/]([\w.]+)/.exec(e)||[];return{browser:n[5]||n[3]||n[1]||"",version:n[2]||n[4]||"0",versionNumber:n[4]||n[2]||"0",platform:t[0]||""}}function F4(e){return/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(silk)/.exec(e)||/(android)/.exec(e)||/(win)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||/(playbook)/.exec(e)||/(bb)/.exec(e)||/(blackberry)/.exec(e)||[]}const H1="ontouchstart"in window||window.navigator.maxTouchPoints>0;function U4(e){Kp={is:{...e}},delete e.mac,delete e.desktop;const t=Math.min(window.innerHeight,window.innerWidth)>414?"ipad":"iphone";Object.assign(e,{mobile:!0,ios:!0,platform:t,[t]:!0})}function j4(e){const t=e.toLowerCase(),n=F4(t),r=M4(t,n),i={};r.browser&&(i[r.browser]=!0,i.version=r.version,i.versionNumber=parseInt(r.versionNumber,10)),r.platform&&(i[r.platform]=!0);const s=i.android||i.ios||i.bb||i.blackberry||i.ipad||i.iphone||i.ipod||i.kindle||i.playbook||i.silk||i["windows phone"];return s===!0||t.indexOf("mobile")>-1?(i.mobile=!0,i.edga||i.edgios?(i.edge=!0,r.browser="edge"):i.crios?(i.chrome=!0,r.browser="chrome"):i.fxios&&(i.firefox=!0,r.browser="firefox")):i.desktop=!0,(i.ipod||i.ipad||i.iphone)&&(i.ios=!0),i["windows phone"]&&(i.winphone=!0,delete i["windows phone"]),(i.chrome||i.opr||i.safari||i.vivaldi||i.mobile===!0&&i.ios!==!0&&s!==!0)&&(i.webkit=!0),i.edg&&(r.browser="edgechromium",i.edgeChromium=!0),(i.safari&&i.blackberry||i.bb)&&(r.browser="blackberry",i.blackberry=!0),i.safari&&i.playbook&&(r.browser="playbook",i.playbook=!0),i.opr&&(r.browser="opera",i.opera=!0),i.safari&&i.android&&(r.browser="android",i.android=!0),i.safari&&i.kindle&&(r.browser="kindle",i.kindle=!0),i.safari&&i.silk&&(r.browser="silk",i.silk=!0),i.vivaldi&&(r.browser="vivaldi",i.vivaldi=!0),i.name=r.browser,i.platform=r.platform,t.indexOf("electron")>-1?i.electron=!0:document.location.href.indexOf("-extension://")>-1?i.bex=!0:(window.Capacitor!==void 0?(i.capacitor=!0,i.nativeMobile=!0,i.nativeMobileWrapper="capacitor"):(window._cordovaNative!==void 0||window.cordova!==void 0)&&(i.cordova=!0,i.nativeMobile=!0,i.nativeMobileWrapper="cordova"),H1===!0&&i.mac===!0&&(i.desktop===!0&&i.safari===!0||i.nativeMobile===!0&&i.android!==!0&&i.ios!==!0&&i.ipad!==!0)&&U4(i)),i}const yA=navigator.userAgent||navigator.vendor||window.opera,V4={has:{touch:!1,webStorage:!1},within:{iframe:!1}},Cr={userAgent:yA,is:j4(yA),has:{touch:H1},within:{iframe:window.self!==window.top}},V_={install(e){const{$q:t}=e;Zs.value===!0?(e.onSSRHydrated.push(()=>{Object.assign(t.platform,Cr),Zs.value=!1,Kp=void 0}),t.platform=Qo(this)):t.platform=this}};{let e;Cb(Cr.has,"webStorage",()=>{if(e!==void 0)return e;try{if(window.localStorage)return e=!0,!0}catch{}return e=!1,!1}),Cr.is.ios===!0&&window.navigator.vendor.toLowerCase().indexOf("apple"),Zs.value===!0?Object.assign(V_,Cr,Kp,V4):Object.assign(V_,Cr)}var Wp=(e,t)=>{const n=Qo(e);for(const r in e)Cb(t,r,()=>n[r],i=>{n[r]=i});return t};const wu={hasPassive:!1,passiveCapture:!0,notPassiveCapture:!0};try{const e=Object.defineProperty({},"passive",{get(){Object.assign(wu,{hasPassive:!0,passive:{passive:!0},notPassive:{passive:!1},passiveCapture:{passive:!0,capture:!0},notPassiveCapture:{passive:!1,capture:!0}})}});window.addEventListener("qtest",null,e),window.removeEventListener("qtest",null,e)}catch{}function jl(){}function lZ(e){return e.button===0}function fZ(e){return e.touches&&e.touches[0]?e=e.touches[0]:e.changedTouches&&e.changedTouches[0]?e=e.changedTouches[0]:e.targetTouches&&e.targetTouches[0]&&(e=e.targetTouches[0]),{top:e.clientY,left:e.clientX}}function hZ(e){if(e.path)return e.path;if(e.composedPath)return e.composedPath();const t=[];let n=e.target;for(;n;){if(t.push(n),n.tagName==="HTML")return t.push(document),t.push(window),t;n=n.parentElement}}function dZ(e){e.stopPropagation()}function _A(e){e.cancelable!==!1&&e.preventDefault()}function pZ(e){e.cancelable!==!1&&e.preventDefault(),e.stopPropagation()}function vZ(e,t){if(e===void 0||t===!0&&e.__dragPrevented===!0)return;const n=t===!0?r=>{r.__dragPrevented=!0,r.addEventListener("dragstart",_A,wu.notPassiveCapture)}:r=>{delete r.__dragPrevented,r.removeEventListener("dragstart",_A,wu.notPassiveCapture)};e.querySelectorAll("a, img").forEach(n)}function gZ(e,t,n){const r=`__q_${t}_evt`;e[r]=e[r]!==void 0?e[r].concat(n):n,n.forEach(i=>{i[0].addEventListener(i[1],e[i[2]],wu[i[3]])})}function mZ(e,t){const n=`__q_${t}_evt`;e[n]!==void 0&&(e[n].forEach(r=>{r[0].removeEventListener(r[1],e[r[2]],wu[r[3]])}),e[n]=void 0)}function B4(e,t=250,n){let r=null;function i(){const s=arguments,a=()=>{r=null,n!==!0&&e.apply(this,s)};r!==null?clearTimeout(r):n===!0&&e.apply(this,s),r=setTimeout(a,t)}return i.cancel=()=>{r!==null&&clearTimeout(r)},i}const Uy=["sm","md","lg","xl"],{passive:wA}=wu;var q4=Wp({width:0,height:0,name:"xs",sizes:{sm:600,md:1024,lg:1440,xl:1920},lt:{sm:!0,md:!0,lg:!0,xl:!0},gt:{xs:!1,sm:!1,md:!1,lg:!1},xs:!0,sm:!1,md:!1,lg:!1,xl:!1},{setSizes:jl,setDebounce:jl,install({$q:e,onSSRHydrated:t}){if(e.screen=this,this.__installed===!0){e.config.screen!==void 0&&(e.config.screen.bodyClasses===!1?document.body.classList.remove(`screen--${this.name}`):this.__update(!0));return}const{visualViewport:n}=window,r=n||window,i=document.scrollingElement||document.documentElement,s=n===void 0||Cr.is.mobile===!0?()=>[Math.max(window.innerWidth,i.clientWidth),Math.max(window.innerHeight,i.clientHeight)]:()=>[n.width*n.scale+window.innerWidth-i.clientWidth,n.height*n.scale+window.innerHeight-i.clientHeight],a=e.config.screen!==void 0&&e.config.screen.bodyClasses===!0;this.__update=v=>{const[g,y]=s();if(y!==this.height&&(this.height=y),g!==this.width)this.width=g;else if(v!==!0)return;let w=this.sizes;this.gt.xs=g>=w.sm,this.gt.sm=g>=w.md,this.gt.md=g>=w.lg,this.gt.lg=g>=w.xl,this.lt.sm=g<w.sm,this.lt.md=g<w.md,this.lt.lg=g<w.lg,this.lt.xl=g<w.xl,this.xs=this.lt.sm,this.sm=this.gt.xs===!0&&this.lt.md===!0,this.md=this.gt.sm===!0&&this.lt.lg===!0,this.lg=this.gt.md===!0&&this.lt.xl===!0,this.xl=this.gt.lg,w=this.xs===!0&&"xs"||this.sm===!0&&"sm"||this.md===!0&&"md"||this.lg===!0&&"lg"||"xl",w!==this.name&&(a===!0&&(document.body.classList.remove(`screen--${this.name}`),document.body.classList.add(`screen--${w}`)),this.name=w)};let c,l={},h=16;this.setSizes=v=>{Uy.forEach(g=>{v[g]!==void 0&&(l[g]=v[g])})},this.setDebounce=v=>{h=v};const d=()=>{const v=getComputedStyle(document.body);v.getPropertyValue("--q-size-sm")&&Uy.forEach(g=>{this.sizes[g]=parseInt(v.getPropertyValue(`--q-size-${g}`),10)}),this.setSizes=g=>{Uy.forEach(y=>{g[y]&&(this.sizes[y]=g[y])}),this.__update(!0)},this.setDebounce=g=>{c!==void 0&&r.removeEventListener("resize",c,wA),c=g>0?B4(this.__update,g):this.__update,r.addEventListener("resize",c,wA)},this.setDebounce(h),Object.keys(l).length!==0?(this.setSizes(l),l=void 0):this.__update(),a===!0&&this.name==="xs"&&document.body.classList.add("screen--xs")};Zs.value===!0?t.push(d):d()}});const _n=Wp({isActive:!1,mode:!1},{__media:void 0,set(e){_n.mode=e,e==="auto"?(_n.__media===void 0&&(_n.__media=window.matchMedia("(prefers-color-scheme: dark)"),_n.__updateMedia=()=>{_n.set("auto")},_n.__media.addListener(_n.__updateMedia)),e=_n.__media.matches):_n.__media!==void 0&&(_n.__media.removeListener(_n.__updateMedia),_n.__media=void 0),_n.isActive=e===!0,document.body.classList.remove(`body--${e===!0?"light":"dark"}`),document.body.classList.add(`body--${e===!0?"dark":"light"}`)},toggle(){_n.set(_n.isActive===!1)},install({$q:e,onSSRHydrated:t,ssrContext:n}){const{dark:r}=e.config;if(e.dark=this,this.__installed===!0&&r===void 0)return;this.isActive=r===!0;const i=r!==void 0?r:!1;if(Zs.value===!0){const s=c=>{this.__fromSSR=c},a=this.set;this.set=s,s(i),t.push(()=>{this.set=a,this.set(this.__fromSSR)})}else this.set(i)}}),K1=()=>!0;function H4(e){return typeof e=="string"&&e!==""&&e!=="/"&&e!=="#/"}function K4(e){return e.startsWith("#")===!0&&(e=e.substring(1)),e.startsWith("/")===!1&&(e="/"+e),e.endsWith("/")===!0&&(e=e.substring(0,e.length-1)),"#"+e}function W4(e){if(e.backButtonExit===!1)return()=>!1;if(e.backButtonExit==="*")return K1;const t=["#/"];return Array.isArray(e.backButtonExit)===!0&&t.push(...e.backButtonExit.filter(H4).map(K4)),()=>t.includes(window.location.hash)}var $4={__history:[],add:jl,remove:jl,install({$q:e}){if(this.__installed===!0)return;const{cordova:t,capacitor:n}=Cr.is;if(t!==!0&&n!==!0)return;const r=e.config[t===!0?"cordova":"capacitor"];if(r!==void 0&&r.backButton===!1||n===!0&&(window.Capacitor===void 0||window.Capacitor.Plugins.App===void 0))return;this.add=a=>{a.condition===void 0&&(a.condition=K1),this.__history.push(a)},this.remove=a=>{const c=this.__history.indexOf(a);c>=0&&this.__history.splice(c,1)};const i=W4(Object.assign({backButtonExit:!0},r)),s=()=>{if(this.__history.length){const a=this.__history[this.__history.length-1];a.condition()===!0&&(this.__history.pop(),a.handler())}else i()===!0?navigator.app.exitApp():window.history.back()};t===!0?document.addEventListener("deviceready",()=>{document.addEventListener("backbutton",s,!1)}):window.Capacitor.Plugins.App.addListener("backButton",s)}},bA={isoName:"en-US",nativeName:"English (US)",label:{clear:"Clear",ok:"OK",cancel:"Cancel",close:"Close",set:"Set",select:"Select",reset:"Reset",remove:"Remove",update:"Update",create:"Create",search:"Search",filter:"Filter",refresh:"Refresh",expand:e=>e?`Expand "${e}"`:"Expand",collapse:e=>e?`Collapse "${e}"`:"Collapse"},date:{days:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),daysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),firstDayOfWeek:0,format24h:!1,pluralDay:"days"},table:{noData:"No data available",noResults:"No matching records found",loading:"Loading...",selectedRecords:e=>e===1?"1 record selected.":(e===0?"No":e)+" records selected.",recordsPerPage:"Records per page:",allRows:"All",pagination:(e,t,n)=>e+"-"+t+" of "+n,columns:"Columns"},editor:{url:"URL",bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",underline:"Underline",unorderedList:"Unordered List",orderedList:"Ordered List",subscript:"Subscript",superscript:"Superscript",hyperlink:"Hyperlink",toggleFullscreen:"Toggle Fullscreen",quote:"Quote",left:"Left align",center:"Center align",right:"Right align",justify:"Justify align",print:"Print",outdent:"Decrease indentation",indent:"Increase indentation",removeFormat:"Remove formatting",formatting:"Formatting",fontSize:"Font Size",align:"Align",hr:"Insert Horizontal Rule",undo:"Undo",redo:"Redo",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",paragraph:"Paragraph",code:"Code",size1:"Very small",size2:"A bit small",size3:"Normal",size4:"Medium-large",size5:"Big",size6:"Very big",size7:"Maximum",defaultFont:"Default Font",viewSource:"View Source"},tree:{noNodes:"No nodes available",noResults:"No matching nodes found"}};function EA(){const e=Array.isArray(navigator.languages)===!0&&navigator.languages.length!==0?navigator.languages[0]:navigator.language;if(typeof e=="string")return e.split(/[-_]/).map((t,n)=>n===0?t.toLowerCase():n>1||t.length<4?t.toUpperCase():t[0].toUpperCase()+t.slice(1).toLowerCase()).join("-")}const Qr=Wp({__langPack:{}},{getLocale:EA,set(e=bA,t){const n={...e,rtl:e.rtl===!0,getLocale:EA};{if(n.set=Qr.set,Qr.__langConfig===void 0||Qr.__langConfig.noHtmlAttrs!==!0){const r=document.documentElement;r.setAttribute("dir",n.rtl===!0?"rtl":"ltr"),r.setAttribute("lang",n.isoName)}Object.assign(Qr.__langPack,n),Qr.props=n,Qr.isoName=n.isoName,Qr.nativeName=n.nativeName}},install({$q:e,lang:t,ssrContext:n}){e.lang=Qr.__langPack,Qr.__langConfig=e.config.lang,this.__installed===!0?t!==void 0&&this.set(t):this.set(t||bA)}});function G4(e,t,n=document.body){if(typeof e!="string")throw new TypeError("Expected a string as propName");if(typeof t!="string")throw new TypeError("Expected a string as value");if(!(n instanceof Element))throw new TypeError("Expected a DOM element");n.style.setProperty(`--q-${e}`,t)}let W1=!1;function z4(e){W1=e.isComposing===!0}function Q4(e){return W1===!0||e!==Object(e)||e.isComposing===!0||e.qKeyEvent===!0}function yZ(e,t){return Q4(e)===!0?!1:[].concat(t).includes(e.keyCode)}function $1(e){if(e.ios===!0)return"ios";if(e.android===!0)return"android"}function Y4({is:e,has:t,within:n},r){const i=[e.desktop===!0?"desktop":"mobile",`${t.touch===!1?"no-":""}touch`];if(e.mobile===!0){const s=$1(e);s!==void 0&&i.push("platform-"+s)}if(e.nativeMobile===!0){const s=e.nativeMobileWrapper;i.push(s),i.push("native-mobile"),e.ios===!0&&(r[s]===void 0||r[s].iosStatusBarPadding!==!1)&&i.push("q-ios-padding")}else e.electron===!0?i.push("electron"):e.bex===!0&&i.push("bex");return n.iframe===!0&&i.push("within-iframe"),i}function X4(){const{is:e}=Cr,t=document.body.className,n=new Set(t.replace(/ {2}/g," ").split(" "));if(Kp!==void 0)n.delete("desktop"),n.add("platform-ios"),n.add("mobile");else if(e.nativeMobile!==!0&&e.electron!==!0&&e.bex!==!0){if(e.desktop===!0)n.delete("mobile"),n.delete("platform-ios"),n.delete("platform-android"),n.add("desktop");else if(e.mobile===!0){n.delete("desktop"),n.add("mobile");const i=$1(e);i!==void 0?(n.add(`platform-${i}`),n.delete(`platform-${i==="ios"?"android":"ios"}`)):(n.delete("platform-ios"),n.delete("platform-android"))}}Cr.has.touch===!0&&(n.delete("no-touch"),n.add("touch")),Cr.within.iframe===!0&&n.add("within-iframe");const r=Array.from(n).join(" ");t!==r&&(document.body.className=r)}function J4(e){for(const t in e)G4(t,e[t])}var Z4={install(e){if(this.__installed!==!0){if(Zs.value===!0)X4();else{const{$q:t}=e;t.config.brand!==void 0&&J4(t.config.brand);const n=Y4(Cr,t.config);document.body.classList.add.apply(document.body.classList,n)}Cr.is.ios===!0&&document.body.addEventListener("touchstart",jl),window.addEventListener("keydown",z4,!0)}}},e3={name:"material-icons",type:{positive:"check_circle",negative:"warning",info:"info",warning:"priority_high"},arrow:{up:"arrow_upward",right:"arrow_forward",down:"arrow_downward",left:"arrow_back",dropdown:"arrow_drop_down"},chevron:{left:"chevron_left",right:"chevron_right"},colorPicker:{spectrum:"gradient",tune:"tune",palette:"style"},pullToRefresh:{icon:"refresh"},carousel:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down",navigationIcon:"lens"},chip:{remove:"cancel",selected:"check"},datetime:{arrowLeft:"chevron_left",arrowRight:"chevron_right",now:"access_time",today:"today"},editor:{bold:"format_bold",italic:"format_italic",strikethrough:"strikethrough_s",underline:"format_underlined",unorderedList:"format_list_bulleted",orderedList:"format_list_numbered",subscript:"vertical_align_bottom",superscript:"vertical_align_top",hyperlink:"link",toggleFullscreen:"fullscreen",quote:"format_quote",left:"format_align_left",center:"format_align_center",right:"format_align_right",justify:"format_align_justify",print:"print",outdent:"format_indent_decrease",indent:"format_indent_increase",removeFormat:"format_clear",formatting:"text_format",fontSize:"format_size",align:"format_align_left",hr:"remove",undo:"undo",redo:"redo",heading:"format_size",code:"code",size:"format_size",font:"font_download",viewSource:"code"},expansionItem:{icon:"keyboard_arrow_down",denseIcon:"arrow_drop_down"},fab:{icon:"add",activeIcon:"close"},field:{clear:"cancel",error:"error"},pagination:{first:"first_page",prev:"keyboard_arrow_left",next:"keyboard_arrow_right",last:"last_page"},rating:{icon:"grade"},stepper:{done:"check",active:"edit",error:"warning"},tabs:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down"},table:{arrowUp:"arrow_upward",warning:"warning",firstPage:"first_page",prevPage:"chevron_left",nextPage:"chevron_right",lastPage:"last_page"},tree:{icon:"play_arrow"},uploader:{done:"done",clear:"clear",add:"add_box",upload:"cloud_upload",removeQueue:"clear_all",removeUploaded:"done_all"}};const Ud=Wp({iconMapFn:null,__icons:{}},{set(e,t){const n={...e,rtl:e.rtl===!0};n.set=Ud.set,Object.assign(Ud.__icons,n)},install({$q:e,iconSet:t,ssrContext:n}){e.config.iconMapFn!==void 0&&(this.iconMapFn=e.config.iconMapFn),e.iconSet=this.__icons,Cb(e,"iconMapFn",()=>this.iconMapFn,r=>{this.iconMapFn=r}),this.__installed===!0?t!==void 0&&this.set(t):this.set(t||e3)}}),t3="_q_",_Z="_q_l_",wZ="_q_pc_",bZ="_q_fo_",EZ="_q_tabs_",IZ=()=>{},IA={};let G1=!1;function n3(){G1=!0}function jy(e,t){if(e===t)return!0;if(e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;let n,r;if(e.constructor===Array){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(jy(e[r],t[r])!==!0)return!1;return!0}if(e.constructor===Map){if(e.size!==t.size)return!1;let s=e.entries();for(r=s.next();r.done!==!0;){if(t.has(r.value[0])!==!0)return!1;r=s.next()}for(s=e.entries(),r=s.next();r.done!==!0;){if(jy(r.value[1],t.get(r.value[0]))!==!0)return!1;r=s.next()}return!0}if(e.constructor===Set){if(e.size!==t.size)return!1;const s=e.entries();for(r=s.next();r.done!==!0;){if(t.has(r.value[0])!==!0)return!1;r=s.next()}return!0}if(e.buffer!=null&&e.buffer.constructor===ArrayBuffer){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const i=Object.keys(e).filter(s=>e[s]!==void 0);if(n=i.length,n!==Object.keys(t).filter(s=>t[s]!==void 0).length)return!1;for(r=n;r--!==0;){const s=i[r];if(jy(e[s],t[s])!==!0)return!1}return!0}return e!==e&&t!==t}function TA(e){return e!==null&&typeof e=="object"&&Array.isArray(e)!==!0}const SA=[V_,Z4,_n,q4,$4,Qr,Ud];function CA(e,t){t.forEach(n=>{n.install(e),n.__installed=!0})}function r3(e,t,n){e.config.globalProperties.$q=n.$q,e.provide(t3,n.$q),CA(n,SA),t.components!==void 0&&Object.values(t.components).forEach(r=>{TA(r)===!0&&r.name!==void 0&&e.component(r.name,r)}),t.directives!==void 0&&Object.values(t.directives).forEach(r=>{TA(r)===!0&&r.name!==void 0&&e.directive(r.name,r)}),t.plugins!==void 0&&CA(n,Object.values(t.plugins).filter(r=>typeof r.install=="function"&&SA.includes(r)===!1)),Zs.value===!0&&(n.$q.onSSRHydrated=()=>{n.onSSRHydrated.forEach(r=>{r()}),n.$q.onSSRHydrated=()=>{}})}var i3=function(e,t={}){const n={version:"2.12.0"};G1===!1?(t.config!==void 0&&Object.assign(IA,t.config),n.config={...IA},n3()):n.config=t.config||{},r3(e,t,{parentApp:e,$q:n,lang:t.lang,iconSet:t.iconSet,onSSRHydrated:[]})},o3={version:"2.12.0",install:i3,lang:Qr,iconSet:Ud},s3=!1;/*!
  * pinia v2.0.35
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let z1;const $p=e=>z1=e,Q1=Symbol();function B_(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var vl;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(vl||(vl={}));function a3(){const e=GN(!0),t=e.run(()=>Lp({}));let n=[],r=[];const i=Js({install(s){$p(i),i._a=s,s.provide(Q1,i),s.config.globalProperties.$pinia=i,r.forEach(a=>n.push(a)),r=[]},use(s){return!this._a&&!s3?r.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return i}const Y1=()=>{};function AA(e,t,n,r=Y1){e.push(t);const i=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),r())};return!n&&zN()&&mV(i),i}function Qa(e,...t){e.slice().forEach(n=>{n(...t)})}function q_(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,r)=>e.set(r,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],i=e[n];B_(i)&&B_(r)&&e.hasOwnProperty(n)&&!Pt(r)&&!Lo(r)?e[n]=q_(i,r):e[n]=r}return e}const u3=Symbol();function c3(e){return!B_(e)||!e.hasOwnProperty(u3)}const{assign:To}=Object;function l3(e){return!!(Pt(e)&&e.effect)}function f3(e,t,n,r){const{state:i,actions:s,getters:a}=t,c=n.state.value[e];let l;function h(){c||(n.state.value[e]=i?i():{});const d=QV(n.state.value[e]);return To(d,s,Object.keys(a||{}).reduce((v,g)=>(v[g]=Js(fr(()=>{$p(n);const y=n._s.get(e);return a[g].call(y,y)})),v),{}))}return l=X1(e,h,t,n,r,!0),l}function X1(e,t,n={},r,i,s){let a;const c=To({actions:{}},n),l={deep:!0};let h,d,v=Js([]),g=Js([]),y;const w=r.state.value[e];!s&&!w&&(r.state.value[e]={}),Lp({});let E;function I(G){let M;h=d=!1,typeof G=="function"?(G(r.state.value[e]),M={type:vl.patchFunction,storeId:e,events:y}):(q_(r.state.value[e],G),M={type:vl.patchObject,payload:G,storeId:e,events:y});const se=E=Symbol();pb().then(()=>{E===se&&(h=!0)}),d=!0,Qa(v,M,r.state.value[e])}const C=s?function(){const{state:M}=n,se=M?M():{};this.$patch(R=>{To(R,se)})}:Y1;function N(){a.stop(),v=[],g=[],r._s.delete(e)}function O(G,M){return function(){$p(r);const se=Array.from(arguments),R=[],Pe=[];function oe(at){R.push(at)}function Je(at){Pe.push(at)}Qa(g,{args:se,name:G,store:V,after:oe,onError:Je});let st;try{st=M.apply(this&&this.$id===e?this:V,se)}catch(at){throw Qa(Pe,at),at}return st instanceof Promise?st.then(at=>(Qa(R,at),at)).catch(at=>(Qa(Pe,at),Promise.reject(at))):(Qa(R,st),st)}}const L={_p:r,$id:e,$onAction:AA.bind(null,g),$patch:I,$reset:C,$subscribe(G,M={}){const se=AA(v,G,M.detached,()=>R()),R=a.run(()=>fu(()=>r.state.value[e],Pe=>{(M.flush==="sync"?d:h)&&G({storeId:e,type:vl.direct,events:y},Pe)},To({},l,M)));return se},$dispose:N},V=Qo(L);r._s.set(e,V);const F=r._e.run(()=>(a=GN(),a.run(()=>t())));for(const G in F){const M=F[G];if(Pt(M)&&!l3(M)||Lo(M))s||(w&&c3(M)&&(Pt(M)?M.value=w[G]:q_(M,w[G])),r.state.value[e][G]=M);else if(typeof M=="function"){const se=O(G,M);F[G]=se,c.actions[G]=M}}return To(V,F),To(Ke(V),F),Object.defineProperty(V,"$state",{get:()=>r.state.value[e],set:G=>{I(M=>{To(M,G)})}}),r._p.forEach(G=>{To(V,a.run(()=>G({store:V,app:r._a,pinia:r,options:c})))}),w&&s&&n.hydrate&&n.hydrate(V.$state,w),h=!0,d=!0,V}function h3(e,t,n){let r,i;const s=typeof t=="function";typeof e=="string"?(r=e,i=s?n:t):(i=e,r=e.id);function a(c,l){const h=Tb();return c=c||h&&_i(Q1,null),c&&$p(c),c=z1,c._s.has(r)||(s?X1(r,t,i,c):f3(r,i,c)),c._s.get(r)}return a.$id=r,a}var H_=function(e,t){return H_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},H_(e,t)};function ne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");H_(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ye=function(){return ye=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ye.apply(this,arguments)};function k(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function c(d){try{h(r.next(d))}catch(v){a(v)}}function l(d){try{h(r.throw(d))}catch(v){a(v)}}function h(d){d.done?s(d.value):i(d.value).then(c,l)}h((r=r.apply(e,t||[])).next())})}function A(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(h){return function(d){return l([h,d])}}function l(h){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(d){h=[6,d],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function Zt(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ln(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(c){a={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function Oe(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J1={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var z=function(e,t){if(!e)throw Xu(t)},Xu=function(e){return new Error("Firebase Database ("+J1.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z1=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},d3=function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){var s=e[n++],a=e[n++],c=e[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{var s=e[n++],a=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return t.join("")},Gp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var s=e[i],a=i+1<e.length,c=a?e[i+1]:0,l=i+2<e.length,h=l?e[i+2]:0,d=s>>2,v=(s&3)<<4|c>>4,g=(c&15)<<2|h>>6,y=h&63;l||(y=64,a||(g=64)),r.push(n[d],n[v],n[g],n[y])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Z1(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):d3(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var s=n[e.charAt(i++)],a=i<e.length,c=a?n[e.charAt(i)]:0;++i;var l=i<e.length,h=l?n[e.charAt(i)]:64;++i;var d=i<e.length,v=d?n[e.charAt(i)]:64;if(++i,s==null||c==null||h==null||v==null)throw Error();var g=s<<2|c>>4;if(r.push(g),h!==64){var y=c<<4&240|h>>2;if(r.push(y),v!==64){var w=h<<6&192|v;r.push(w)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},eP=function(e){var t=Z1(e);return Gp.encodeByteArray(t,!0)},kA=function(e){return eP(e).replace(/\./g,"")},RA=function(e){try{return Gp.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(e){return Vl(void 0,e)}function Vl(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!p3(r)||(e[r]=Vl(e[r],t[r]));return e}function p3(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,i))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=ye({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),c="";return[kA(JSON.stringify(n)),kA(JSON.stringify(a)),c].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kb(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ea())}function nP(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function v3(){return typeof self=="object"&&self.self===self}function Rb(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function rP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function g3(){return ea().indexOf("Electron/")>=0}function m3(){var e=ea();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function y3(){return ea().indexOf("MSAppHost/")>=0}function iP(){return J1.NODE_ADMIN===!0}function _3(){return!nP()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mf(){return"indexedDB"in self&&indexedDB!=null}function Nb(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(s){t(s)}})}function oP(){return!(!navigator||!navigator.cookieEnabled)}function w3(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var b3="FirebaseError",Ju=function(e){ne(t,e);function t(n,r,i){var s=e.call(this,r)||this;return s.code=n,s.customData=i,s.name=b3,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,no.prototype.create),s}return t}(Error),no=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},s=this.service+"/"+t,a=this.errors[t],c=a?E3(a,i):"Error",l=this.serviceName+": "+c+" ("+s+").",h=new Ju(s,l,i);return h},e}();function E3(e,t){return e.replace(I3,function(n,r){var i=t[r];return i!=null?String(i):"<"+r+"?>"})}var I3=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(e){return JSON.parse(e)}function qt(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pb=function(e){var t={},n={},r={},i="";try{var s=e.split(".");t=Bl(RA(s[0])||""),n=Bl(RA(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},T3=function(e){var t=Pb(e).claims;return typeof t=="object"&&t.hasOwnProperty("iat")?t.iat:null},S3=function(e){var t=Pb(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},C3=function(e){var t=Pb(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ta(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function K_(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function jd(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(e){for(var t=[],n=function(l,h){Array.isArray(h)?h.forEach(function(d){t.push(encodeURIComponent(l)+"="+encodeURIComponent(d))}):t.push(encodeURIComponent(l)+"="+encodeURIComponent(h))},r=0,i=Object.entries(e);r<i.length;r++){var s=i[r],a=s[0],c=s[1];n(a,c)}return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var k3=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,n){n||(n=0);var r=this.W_;if(typeof t=="string")for(var i=0;i<16;i++)r[i]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(var i=0;i<16;i++)r[i]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(var i=16;i<80;i++){var s=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=(s<<1|s>>>31)&4294967295}for(var a=this.chain_[0],c=this.chain_[1],l=this.chain_[2],h=this.chain_[3],d=this.chain_[4],v,g,i=0;i<80;i++){i<40?i<20?(v=h^c&(l^h),g=1518500249):(v=c^l^h,g=1859775393):i<60?(v=c&l|h&(c|l),g=2400959708):(v=c^l^h,g=3395469782);var s=(a<<5|a>>>27)+v+d+g+r[i]&4294967295;d=h,h=l,l=(c<<30|c>>>2)&4294967295,c=a,a=s}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295},e.prototype.update=function(t,n){if(t!=null){n===void 0&&(n=t.length);for(var r=n-this.blockSize,i=0,s=this.buf_,a=this.inbuf_;i<n;){if(a===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[a]=t.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=t[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}},e.prototype.digest=function(){var t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var i=0,r=0;r<5;r++)for(var s=24;s>=0;s-=8)t[i]=this.chain_[r]>>s&255,++i;return t},e}();function R3(e,t){var n=new N3(e,t);return n.subscribe.bind(n)}var N3=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(i){r.error(i)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var i=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");P3(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=Vy),s.error===void 0&&(s.error=Vy),s.complete===void 0&&(s.complete=Vy);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?s.error(i.finalError):s.complete()}catch{}}),this.observers.push(s),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(i){typeof console!="undefined"&&console.error&&console.error(i)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function P3(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&typeof e[i]=="function")return!0}return!1}function Vy(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=n===0?"none":"no more than "+n),i){var s=e+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function Zn(e,t){return e+" failed: "+t+" argument "}function zt(e,t,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(Zn(e,t)+"must be a valid function.")}function NA(e,t,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error(Zn(e,t)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var O3=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,z(r<e.length,"Surrogate pair missing trail surrogate.");var a=e.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},zp=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var x3=1e3,D3=2,L3=4*60*60*1e3,M3=.5;function W_(e,t,n){t===void 0&&(t=x3),n===void 0&&(n=D3);var r=t*Math.pow(n,e),i=Math.round(M3*r*(Math.random()-.5)*2);return Math.min(L3,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(e){return e&&e._delegate?e._delegate:e}var An=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sP=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new Xt;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(U3(t))try{this.getOrInitializeService({instanceIdentifier:ks})}catch{}try{for(var i=Zt(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=ln(s.value,2),c=a[0],l=a[1],h=this.normalizeInstanceIdentifier(c);try{var d=this.getOrInitializeService({instanceIdentifier:h});l.resolve(d)}catch{}}}catch(v){n={error:v}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=ks),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return k(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Oe(Oe([],ln(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),ln(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=ks),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=ks),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var i=t.options,s=i===void 0?{}:i,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:a,options:s});try{for(var l=Zt(this.instancesDeferred.entries()),h=l.next();!h.done;h=l.next()){var d=ln(h.value,2),v=d[0],g=d[1],y=this.normalizeInstanceIdentifier(v);a===y&&g.resolve(c)}}catch(w){n={error:w}}finally{try{h&&!h.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return c},e.prototype.onInit=function(t,n){var r,i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);var a=this.instances.get(i);return a&&t(a,i),function(){s.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,i,s=this.onInitCallbacks.get(n);if(!!s)try{for(var a=Zt(s),c=a.next();!c.done;c=a.next()){var l=c.value;try{l(t,n)}catch{}}}catch(h){r={error:h}}finally{try{c&&!c.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,i=r===void 0?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:F3(n),options:i}),this.instances.set(n,s),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=ks),this.component?this.component.multipleInstances?t:ks:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function F3(e){return e===ks?void 0:e}function U3(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aP=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new sP(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function zr(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],a=0,c=s.length;a<c;a++,i++)r[i]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cs,Ob=[],Fe;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Fe||(Fe={}));var uP={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},j3=Fe.INFO,V3=(Cs={},Cs[Fe.DEBUG]="log",Cs[Fe.VERBOSE]="log",Cs[Fe.INFO]="info",Cs[Fe.WARN]="warn",Cs[Fe.ERROR]="error",Cs),B3=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=new Date().toISOString(),s=V3[t];if(s)console[s].apply(console,zr(["["+i+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},da=function(){function e(t){this.name=t,this._logLevel=j3,this._logHandler=B3,this._userLogHandler=null,Ob.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in Fe))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?uP[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,zr([this,Fe.DEBUG],t)),this._logHandler.apply(this,zr([this,Fe.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,zr([this,Fe.VERBOSE],t)),this._logHandler.apply(this,zr([this,Fe.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,zr([this,Fe.INFO],t)),this._logHandler.apply(this,zr([this,Fe.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,zr([this,Fe.WARN],t)),this._logHandler.apply(this,zr([this,Fe.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,zr([this,Fe.ERROR],t)),this._logHandler.apply(this,zr([this,Fe.ERROR],t))},e}();function q3(e){Ob.forEach(function(t){t.setLogLevel(e)})}function H3(e,t){for(var n=function(a){var c=null;t&&t.level&&(c=uP[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(l,h){for(var d=[],v=2;v<arguments.length;v++)d[v-2]=arguments[v];var g=d.map(function(y){if(y==null)return null;if(typeof y=="string")return y;if(typeof y=="number"||typeof y=="boolean")return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch{return null}}).filter(function(y){return y}).join(" ");h>=(c!=null?c:l.logLevel)&&e({level:Fe[h].toLowerCase(),message:g,args:d,type:l.name})}},r=0,i=Ob;r<i.length;r++){var s=i[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _o,K3=(_o={},_o["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",_o["bad-app-name"]="Illegal App name: '{$appName}",_o["duplicate-app"]="Firebase App named '{$appName}' already exists",_o["app-deleted"]="Firebase App named '{$appName}' already deleted",_o["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",_o["invalid-log-argument"]="First argument to `onLog` must be null or a function.",_o),tu=new no("app","Firebase",K3),cP="@firebase/app",W3="0.6.30",$3="@firebase/analytics",G3="@firebase/app-check",z3="@firebase/auth",Q3="@firebase/database",Y3="@firebase/functions",X3="@firebase/installations",J3="@firebase/messaging",Z3="@firebase/performance",eq="@firebase/remote-config",tq="@firebase/storage",nq="@firebase/firestore",rq="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yn,Vd="[DEFAULT]",iq=(yn={},yn[cP]="fire-core",yn[$3]="fire-analytics",yn[G3]="fire-app-check",yn[z3]="fire-auth",yn[Q3]="fire-rtdb",yn[Y3]="fire-fn",yn[X3]="fire-iid",yn[J3]="fire-fcm",yn[Z3]="fire-perf",yn[eq]="fire-rc",yn[tq]="fire-gcs",yn[nq]="fire-fst",yn["fire-js"]="fire-js",yn[rq]="fire-js-all",yn);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bu=new da("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ed=function(){function e(t,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=tP(t),this.container=new aP(n.name),this._addComponent(new An("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return i._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var r;n===void 0&&(n=Vd),this.checkDestroyed_();var i=this.container.getProvider(t);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=Vd),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){bu.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw tu.create("app-deleted",{appName:this.name_})},e}();Ed.prototype.name&&Ed.prototype.options||Ed.prototype.delete||console.log("dc");var oq="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sq(e){var t={},n=new Map,r={__esModule:!0,initializeApp:a,app:s,registerVersion:h,setLogLevel:q3,onLog:d,apps:null,SDK_VERSION:oq,INTERNAL:{registerComponent:l,removeApp:i,components:n,useAsService:v}};r.default=r,Object.defineProperty(r,"apps",{get:c});function i(g){delete t[g]}function s(g){if(g=g||Vd,!gr(t,g))throw tu.create("no-app",{appName:g});return t[g]}s.App=e;function a(g,y){if(y===void 0&&(y={}),typeof y!="object"||y===null){var w=y;y={name:w}}var E=y;E.name===void 0&&(E.name=Vd);var I=E.name;if(typeof I!="string"||!I)throw tu.create("bad-app-name",{appName:String(I)});if(gr(t,I))throw tu.create("duplicate-app",{appName:I});var C=new e(g,E,r);return t[I]=C,C}function c(){return Object.keys(t).map(function(g){return t[g]})}function l(g){var y=g.name;if(n.has(y))return bu.debug("There were multiple attempts to register component "+y+"."),g.type==="PUBLIC"?r[y]:null;if(n.set(y,g),g.type==="PUBLIC"){var w=function(N){if(N===void 0&&(N=s()),typeof N[y]!="function")throw tu.create("invalid-app-argument",{appName:y});return N[y]()};g.serviceProps!==void 0&&Vl(w,g.serviceProps),r[y]=w,e.prototype[y]=function(){for(var N=[],O=0;O<arguments.length;O++)N[O]=arguments[O];var L=this._getService.bind(this,y);return L.apply(this,g.multipleInstances?N:[])}}for(var E=0,I=Object.keys(t);E<I.length;E++){var C=I[E];t[C]._addComponent(g)}return g.type==="PUBLIC"?r[y]:null}function h(g,y,w){var E,I=(E=iq[g])!==null&&E!==void 0?E:g;w&&(I+="-"+w);var C=I.match(/\s|\//),N=y.match(/\s|\//);if(C||N){var O=['Unable to register library "'+I+'" with version "'+y+'":'];C&&O.push('library name "'+I+'" contains illegal characters (whitespace or "/")'),C&&N&&O.push("and"),N&&O.push('version name "'+y+'" contains illegal characters (whitespace or "/")'),bu.warn(O.join(" "));return}l(new An(I+"-version",function(){return{library:I,version:y}},"VERSION"))}function d(g,y){if(g!==null&&typeof g!="function")throw tu.create("invalid-log-argument");H3(g,y)}function v(g,y){if(y==="serverAuth")return null;var w=y;return w}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(){var e=sq(Ed);e.INTERNAL=ye(ye({},e.INTERNAL),{createFirebaseNamespace:lP,extendNamespace:t,createSubscribe:R3,ErrorFactory:no,deepExtend:Vl});function t(n){Vl(e,n)}return e}var xb=lP();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aq=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(uq(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function uq(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cq(e,t){e.INTERNAL.registerComponent(new An("platform-logger",function(n){return new aq(n)},"PRIVATE")),e.registerVersion(cP,W3,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(v3()&&self.firebase!==void 0){bu.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var PA=self.firebase.SDK_VERSION;PA&&PA.indexOf("LITE")>=0&&bu.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var lq=xb.initializeApp;xb.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return nP()&&bu.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),lq.apply(void 0,e)};var le=xb;cq(le);(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,f){o!=Array.prototype&&o!=Object.prototype&&(o[u]=f.value)};function n(o){o=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,o];for(var u=0;u<o.length;++u){var f=o[u];if(f&&f.Math==Math)return f}return globalThis}var r=n(this);function i(o,u){if(u){var f=r;o=o.split(".");for(var p=0;p<o.length-1;p++){var m=o[p];m in f||(f[m]={}),f=f[m]}o=o[o.length-1],p=f[o],u=u(p),u!=p&&u!=null&&t(f,o,{configurable:!0,writable:!0,value:u})}}function s(o){var u=0;return function(){return u<o.length?{done:!1,value:o[u++]}:{done:!0}}}function a(o){var u=typeof Symbol!="undefined"&&Symbol.iterator&&o[Symbol.iterator];return u?u.call(o):{next:s(o)}}i("Promise",function(o){function u(b){this.b=0,this.c=void 0,this.a=[];var S=this.f();try{b(S.resolve,S.reject)}catch(U){S.reject(U)}}function f(){this.a=null}function p(b){return b instanceof u?b:new u(function(S){S(b)})}if(o)return o;f.prototype.b=function(b){if(this.a==null){this.a=[];var S=this;this.c(function(){S.g()})}this.a.push(b)};var m=r.setTimeout;f.prototype.c=function(b){m(b,0)},f.prototype.g=function(){for(;this.a&&this.a.length;){var b=this.a;this.a=[];for(var S=0;S<b.length;++S){var U=b[S];b[S]=null;try{U()}catch(H){this.f(H)}}}this.a=null},f.prototype.f=function(b){this.c(function(){throw b})},u.prototype.f=function(){function b(H){return function(Ie){U||(U=!0,H.call(S,Ie))}}var S=this,U=!1;return{resolve:b(this.m),reject:b(this.g)}},u.prototype.m=function(b){if(b===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(b instanceof u)this.s(b);else{e:switch(typeof b){case"object":var S=b!=null;break e;case"function":S=!0;break e;default:S=!1}S?this.v(b):this.h(b)}},u.prototype.v=function(b){var S=void 0;try{S=b.then}catch(U){this.g(U);return}typeof S=="function"?this.u(S,b):this.h(b)},u.prototype.g=function(b){this.i(2,b)},u.prototype.h=function(b){this.i(1,b)},u.prototype.i=function(b,S){if(this.b!=0)throw Error("Cannot settle("+b+", "+S+"): Promise already settled in state"+this.b);this.b=b,this.c=S,this.l()},u.prototype.l=function(){if(this.a!=null){for(var b=0;b<this.a.length;++b)_.b(this.a[b]);this.a=null}};var _=new f;return u.prototype.s=function(b){var S=this.f();b.Ra(S.resolve,S.reject)},u.prototype.u=function(b,S){var U=this.f();try{b.call(S,U.resolve,U.reject)}catch(H){U.reject(H)}},u.prototype.then=function(b,S){function U(Ge,$t){return typeof Ge=="function"?function(Ui){try{H(Ge(Ui))}catch(Ay){Ie(Ay)}}:$t}var H,Ie,tt=new u(function(Ge,$t){H=Ge,Ie=$t});return this.Ra(U(b,H),U(S,Ie)),tt},u.prototype.catch=function(b){return this.then(void 0,b)},u.prototype.Ra=function(b,S){function U(){switch(H.b){case 1:b(H.c);break;case 2:S(H.c);break;default:throw Error("Unexpected state: "+H.b)}}var H=this;this.a==null?_.b(U):this.a.push(U)},u.resolve=p,u.reject=function(b){return new u(function(S,U){U(b)})},u.race=function(b){return new u(function(S,U){for(var H=a(b),Ie=H.next();!Ie.done;Ie=H.next())p(Ie.value).Ra(S,U)})},u.all=function(b){var S=a(b),U=S.next();return U.done?p([]):new u(function(H,Ie){function tt(Ui){return function(Ay){Ge[Ui]=Ay,$t--,$t==0&&H(Ge)}}var Ge=[],$t=0;do Ge.push(void 0),$t++,p(U.value).Ra(tt(Ge.length-1),Ie),U=S.next();while(!U.done)})},u});var c=c||{},l=this||self,h=/^[\w+/_-]+[=]{0,2}$/,d=null;function v(o){return(o=o.querySelector&&o.querySelector("script[nonce]"))&&(o=o.nonce||o.getAttribute("nonce"))&&h.test(o)?o:""}function g(){}function y(o){var u=typeof o;return u!="object"?u:o?Array.isArray(o)?"array":u:"null"}function w(o){var u=y(o);return u=="array"||u=="object"&&typeof o.length=="number"}function E(o){return y(o)=="function"}function I(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function C(o){return Object.prototype.hasOwnProperty.call(o,N)&&o[N]||(o[N]=++O)}var N="closure_uid_"+(1e9*Math.random()>>>0),O=0;function L(o,u,f){return o.call.apply(o.bind,arguments)}function V(o,u,f){if(!o)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var m=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(m,p),o.apply(u,m)}}return function(){return o.apply(u,arguments)}}function F(o,u,f){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?F=L:F=V,F.apply(null,arguments)}function G(o,u){var f=Array.prototype.slice.call(arguments,1);return function(){var p=f.slice();return p.push.apply(p,arguments),o.apply(this,p)}}function M(o,u){function f(){}f.prototype=u.prototype,o.bb=u.prototype,o.prototype=new f,o.prototype.constructor=o}function se(o){return o}function R(o,u,f){this.code=oe+o,this.message=u||Je[o]||"",this.a=f||null}M(R,Error),R.prototype.w=function(){var o={code:this.code,message:this.message};return this.a&&(o.serverResponse=this.a),o},R.prototype.toJSON=function(){return this.w()};function Pe(o){var u=o&&o.code;return u?new R(u.substring(oe.length),o.message,o.serverResponse):null}var oe="auth/",Je={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},st={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function at(o){for(var u in st)if(st[u].id===o)return o=st[u],{firebaseEndpoint:o.Ua,secureTokenEndpoint:o.$a,identityPlatformEndpoint:o.Xa};return null}var Ze;Ze=at("__EID__")?"__EID__":void 0;function et(o){if(!o)return!1;try{return!!o.$goog_Thenable}catch{return!1}}function Ae(o){if(Error.captureStackTrace)Error.captureStackTrace(this,Ae);else{var u=Error().stack;u&&(this.stack=u)}o&&(this.message=String(o))}M(Ae,Error),Ae.prototype.name="CustomError";function Nn(o,u){o=o.split("%s");for(var f="",p=o.length-1,m=0;m<p;m++)f+=o[m]+(m<u.length?u[m]:"%s");Ae.call(this,f+o[p])}M(Nn,Ae),Nn.prototype.name="AssertionError";function Wn(o,u){throw new Nn("Failure"+(o?": "+o:""),Array.prototype.slice.call(arguments,1))}function Pn(o,u){this.c=o,this.f=u,this.b=0,this.a=null}Pn.prototype.get=function(){if(0<this.b){this.b--;var o=this.a;this.a=o.next,o.next=null}else o=this.c();return o};function tn(o,u){o.f(u),100>o.b&&(o.b++,u.next=o.a,o.a=u)}function Oi(){this.b=this.a=null}var ns=new Pn(function(){return new ie},function(o){o.reset()});Oi.prototype.add=function(o,u){var f=ns.get();f.set(o,u),this.b?this.b.next=f:this.a=f,this.b=f};function q(){var o=EI,u=null;return o.a&&(u=o.a,o.a=o.a.next,o.a||(o.b=null),u.next=null),u}function ie(){this.next=this.b=this.a=null}ie.prototype.set=function(o,u){this.a=o,this.b=u,this.next=null},ie.prototype.reset=function(){this.next=this.b=this.a=null};var re=Array.prototype.indexOf?function(o,u){return Array.prototype.indexOf.call(o,u,void 0)}:function(o,u){if(typeof o=="string")return typeof u!="string"||u.length!=1?-1:o.indexOf(u,0);for(var f=0;f<o.length;f++)if(f in o&&o[f]===u)return f;return-1},Z=Array.prototype.forEach?function(o,u,f){Array.prototype.forEach.call(o,u,f)}:function(o,u,f){for(var p=o.length,m=typeof o=="string"?o.split(""):o,_=0;_<p;_++)_ in m&&u.call(f,m[_],_,o)};function qe(o,u){for(var f=typeof o=="string"?o.split(""):o,p=o.length-1;0<=p;--p)p in f&&u.call(void 0,f[p],p,o)}var ft=Array.prototype.filter?function(o,u){return Array.prototype.filter.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=[],m=0,_=typeof o=="string"?o.split(""):o,b=0;b<f;b++)if(b in _){var S=_[b];u.call(void 0,S,b,o)&&(p[m++]=S)}return p},Se=Array.prototype.map?function(o,u){return Array.prototype.map.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=Array(f),m=typeof o=="string"?o.split(""):o,_=0;_<f;_++)_ in m&&(p[_]=u.call(void 0,m[_],_,o));return p},T=Array.prototype.some?function(o,u){return Array.prototype.some.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=typeof o=="string"?o.split(""):o,m=0;m<f;m++)if(m in p&&u.call(void 0,p[m],m,o))return!0;return!1};function P(o){e:{for(var u=P2,f=o.length,p=typeof o=="string"?o.split(""):o,m=0;m<f;m++)if(m in p&&u.call(void 0,p[m],m,o)){u=m;break e}u=-1}return 0>u?null:typeof o=="string"?o.charAt(u):o[u]}function D(o,u){return 0<=re(o,u)}function j(o,u){u=re(o,u);var f;return(f=0<=u)&&Array.prototype.splice.call(o,u,1),f}function B(o,u){var f=0;qe(o,function(p,m){u.call(void 0,p,m,o)&&Array.prototype.splice.call(o,m,1).length==1&&f++})}function Y(o){return Array.prototype.concat.apply([],arguments)}function ee(o){var u=o.length;if(0<u){for(var f=Array(u),p=0;p<u;p++)f[p]=o[p];return f}return[]}var Q=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]},J=/&/g,W=/</g,pe=/>/g,fe=/"/g,ve=/'/g,Ee=/\x00/g,Me=/[\x00&<>"']/;function me(o,u){return o.indexOf(u)!=-1}function $e(o,u){return o<u?-1:o>u?1:0}var ut;e:{var $n=l.navigator;if($n){var xi=$n.userAgent;if(xi){ut=xi;break e}}ut=""}function Et(o){return me(ut,o)}function so(o,u){for(var f in o)u.call(void 0,o[f],f,o)}function si(o){for(var u in o)return!1;return!0}function It(o){var u={},f;for(f in o)u[f]=o[f];return u}var ir="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nn(o,u){for(var f,p,m=1;m<arguments.length;m++){p=arguments[m];for(f in p)o[f]=p[f];for(var _=0;_<ir.length;_++)f=ir[_],Object.prototype.hasOwnProperty.call(p,f)&&(o[f]=p[f])}}function nI(o,u){e:{try{var f=o&&o.ownerDocument,p=f&&(f.defaultView||f.parentWindow);if(p=p||l,p.Element&&p.Location){var m=p;break e}}catch{}m=null}if(m&&typeof m[u]!="undefined"&&(!o||!(o instanceof m[u])&&(o instanceof m.Location||o instanceof m.Element))){if(I(o))try{var _=o.constructor.displayName||o.constructor.name||Object.prototype.toString.call(o)}catch{_="<object could not be stringified>"}else _=o===void 0?"undefined":o===null?"null":typeof o;Wn("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,_)}}function ai(o,u){this.a=o===Qf&&u||"",this.b=rI}ai.prototype.ta=!0,ai.prototype.sa=function(){return this.a},ai.prototype.toString=function(){return"Const{"+this.a+"}"};function eg(o){return o instanceof ai&&o.constructor===ai&&o.b===rI?o.a:(Wn("expected object of type Const, got '"+o+"'"),"type_error:Const")}var rI={},Qf={},Yf;function iI(){if(Yf===void 0){var o=null,u=l.trustedTypes;if(u&&u.createPolicy){try{o=u.createPolicy("goog#html",{createHTML:se,createScript:se,createScriptURL:se})}catch(f){l.console&&l.console.error(f.message)}Yf=o}else Yf=o}return Yf}function Ca(o,u){this.a=u===sI?o:""}Ca.prototype.ta=!0,Ca.prototype.sa=function(){return this.a.toString()},Ca.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function oI(o){return o instanceof Ca&&o.constructor===Ca?o.a:(Wn("expected object of type TrustedResourceUrl, got '"+o+"' of type "+y(o)),"type_error:TrustedResourceUrl")}function tg(o,u){var f=eg(o);if(!aF.test(f))throw Error("Invalid TrustedResourceUrl format: "+f);return o=f.replace(sF,function(p,m){if(!Object.prototype.hasOwnProperty.call(u,m))throw Error('Found marker, "'+m+'", in format string, "'+f+'", but no valid label mapping found in args: '+JSON.stringify(u));return p=u[m],p instanceof ai?eg(p):encodeURIComponent(String(p))}),uF(o)}var sF=/%{(\w+)}/g,aF=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,sI={};function uF(o){var u=iI();return o=u?u.createScriptURL(o):o,new Ca(o,sI)}function Gn(o,u){this.a=u===vc?o:""}Gn.prototype.ta=!0,Gn.prototype.sa=function(){return this.a.toString()},Gn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Xf(o){return o instanceof Gn&&o.constructor===Gn?o.a:(Wn("expected object of type SafeUrl, got '"+o+"' of type "+y(o)),"type_error:SafeUrl")}var cF=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,lF=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,aI=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function uI(o){if(o instanceof Gn)return o;if(o=typeof o=="object"&&o.ta?o.sa():String(o),aI.test(o))o=new Gn(o,vc);else{o=String(o),o=o.replace(/(%0A|%0D)/g,"");var u=o.match(lF);o=u&&cF.test(u[1])?new Gn(o,vc):null}return o}function cI(o){return o instanceof Gn?o:(o=typeof o=="object"&&o.ta?o.sa():String(o),aI.test(o)||(o="about:invalid#zClosurez"),new Gn(o,vc))}var vc={},lI=new Gn("about:invalid#zClosurez",vc);function Aa(o,u,f){this.a=f===fI?o:""}Aa.prototype.ta=!0,Aa.prototype.sa=function(){return this.a.toString()},Aa.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function fF(o){return o instanceof Aa&&o.constructor===Aa?o.a:(Wn("expected object of type SafeHtml, got '"+o+"' of type "+y(o)),"type_error:SafeHtml")}var fI={};function hF(o,u){nI(o,"HTMLScriptElement"),o.src=oI(u),(u=o.ownerDocument&&o.ownerDocument.defaultView)&&u!=l?u=v(u.document):(d===null&&(d=v(l.document)),u=d),u&&o.setAttribute("nonce",u)}function hI(o,u,f,p){return o=o instanceof Gn?o:cI(o),u=u||l,f=f instanceof ai?eg(f):f||"",u.open(Xf(o),f,p,void 0)}function dI(o,u){for(var f=o.split("%s"),p="",m=Array.prototype.slice.call(arguments,1);m.length&&1<f.length;)p+=f.shift()+m.shift();return p+f.join("%s")}function ng(o){return Me.test(o)&&(o.indexOf("&")!=-1&&(o=o.replace(J,"&amp;")),o.indexOf("<")!=-1&&(o=o.replace(W,"&lt;")),o.indexOf(">")!=-1&&(o=o.replace(pe,"&gt;")),o.indexOf('"')!=-1&&(o=o.replace(fe,"&quot;")),o.indexOf("'")!=-1&&(o=o.replace(ve,"&#39;")),o.indexOf("\0")!=-1&&(o=o.replace(Ee,"&#0;"))),o}function rg(o){return rg[" "](o),o}rg[" "]=g;function dF(o,u){var f=mF;return Object.prototype.hasOwnProperty.call(f,o)?f[o]:f[o]=u(o)}var pF=Et("Opera"),jr=Et("Trident")||Et("MSIE"),pI=Et("Edge"),vF=pI||jr,vI=Et("Gecko")&&!(me(ut.toLowerCase(),"webkit")&&!Et("Edge"))&&!(Et("Trident")||Et("MSIE"))&&!Et("Edge"),gF=me(ut.toLowerCase(),"webkit")&&!Et("Edge");function gI(){var o=l.document;return o?o.documentMode:void 0}var Jf;e:{var ig="",og=function(){var o=ut;if(vI)return/rv:([^\);]+)(\)|;)/.exec(o);if(pI)return/Edge\/([\d\.]+)/.exec(o);if(jr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o);if(gF)return/WebKit\/(\S+)/.exec(o);if(pF)return/(?:Version)[ \/]?(\S+)/.exec(o)}();if(og&&(ig=og?og[1]:""),jr){var sg=gI();if(sg!=null&&sg>parseFloat(ig)){Jf=String(sg);break e}}Jf=ig}var mF={};function mI(o){return dF(o,function(){for(var u=0,f=Q(String(Jf)).split("."),p=Q(String(o)).split("."),m=Math.max(f.length,p.length),_=0;u==0&&_<m;_++){var b=f[_]||"",S=p[_]||"";do{if(b=/(\d*)(\D*)(.*)/.exec(b)||["","","",""],S=/(\d*)(\D*)(.*)/.exec(S)||["","","",""],b[0].length==0&&S[0].length==0)break;u=$e(b[1].length==0?0:parseInt(b[1],10),S[1].length==0?0:parseInt(S[1],10))||$e(b[2].length==0,S[2].length==0)||$e(b[2],S[2]),b=b[3],S=S[3]}while(u==0)}return 0<=u})}var ag;if(l.document&&jr){var yI=gI();ag=yI||parseInt(Jf,10)||void 0}else ag=void 0;var ao=ag;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var yF=!jr||9<=Number(ao);function gc(o){var u=document;return typeof o=="string"?u.getElementById(o):o}function _I(o,u){so(u,function(f,p){f&&typeof f=="object"&&f.ta&&(f=f.sa()),p=="style"?o.style.cssText=f:p=="class"?o.className=f:p=="for"?o.htmlFor=f:wI.hasOwnProperty(p)?o.setAttribute(wI[p],f):p.lastIndexOf("aria-",0)==0||p.lastIndexOf("data-",0)==0?o.setAttribute(p,f):o[p]=f})}var wI={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function _F(o,u,f){var p=arguments,m=document,_=String(p[0]),b=p[1];if(!yF&&b&&(b.name||b.type)){if(_=["<",_],b.name&&_.push(' name="',ng(b.name),'"'),b.type){_.push(' type="',ng(b.type),'"');var S={};nn(S,b),delete S.type,b=S}_.push(">"),_=_.join("")}return _=Zf(m,_),b&&(typeof b=="string"?_.className=b:Array.isArray(b)?_.className=b.join(" "):_I(_,b)),2<p.length&&wF(m,_,p),_}function wF(o,u,f){function p(S){S&&u.appendChild(typeof S=="string"?o.createTextNode(S):S)}for(var m=2;m<f.length;m++){var _=f[m];if(!w(_)||I(_)&&0<_.nodeType)p(_);else{e:{if(_&&typeof _.length=="number"){if(I(_)){var b=typeof _.item=="function"||typeof _.item=="string";break e}if(E(_)){b=typeof _.item=="function";break e}}b=!1}Z(b?ee(_):_,p)}}}function Zf(o,u){return u=String(u),o.contentType==="application/xhtml+xml"&&(u=u.toLowerCase()),o.createElement(u)}function bI(o){l.setTimeout(function(){throw o},0)}var ug;function bF(){var o=l.MessageChannel;if(typeof o=="undefined"&&typeof window!="undefined"&&window.postMessage&&window.addEventListener&&!Et("Presto")&&(o=function(){var m=Zf(document,"IFRAME");m.style.display="none",document.documentElement.appendChild(m);var _=m.contentWindow;m=_.document,m.open(),m.close();var b="callImmediate"+Math.random(),S=_.location.protocol=="file:"?"*":_.location.protocol+"//"+_.location.host;m=F(function(U){(S=="*"||U.origin==S)&&U.data==b&&this.port1.onmessage()},this),_.addEventListener("message",m,!1),this.port1={},this.port2={postMessage:function(){_.postMessage(b,S)}}}),typeof o!="undefined"&&!Et("Trident")&&!Et("MSIE")){var u=new o,f={},p=f;return u.port1.onmessage=function(){if(f.next!==void 0){f=f.next;var m=f.Hb;f.Hb=null,m()}},function(m){p.next={Hb:m},p=p.next,u.port2.postMessage(0)}}return function(m){l.setTimeout(m,0)}}function eh(o,u){th||EF(),cg||(th(),cg=!0),EI.add(o,u)}var th;function EF(){if(l.Promise&&l.Promise.resolve){var o=l.Promise.resolve(void 0);th=function(){o.then(II)}}else th=function(){var u=II;!E(l.setImmediate)||l.Window&&l.Window.prototype&&!Et("Edge")&&l.Window.prototype.setImmediate==l.setImmediate?(ug||(ug=bF()),ug(u)):l.setImmediate(u)}}var cg=!1,EI=new Oi;function II(){for(var o;o=q();){try{o.a.call(o.b)}catch(u){bI(u)}tn(ns,o)}cg=!1}function Ue(o,u){if(this.a=rs,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,o!=g)try{var f=this;o.call(u,function(p){is(f,mc,p)},function(p){if(!(p instanceof ka))try{throw p instanceof Error?p:Error("Promise rejected.")}catch{}is(f,Di,p)})}catch(p){is(this,Di,p)}}var rs=0,mc=2,Di=3;function TI(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}TI.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var SI=new Pn(function(){return new TI},function(o){o.reset()});function lg(o,u,f){var p=SI.get();return p.g=o,p.b=u,p.f=f,p}function ge(o){if(o instanceof Ue)return o;var u=new Ue(g);return is(u,mc,o),u}function vt(o){return new Ue(function(u,f){f(o)})}function CI(o,u,f){NI(o,u,f,null)||eh(G(u,o))}function IF(o){return new Ue(function(u,f){var p=o.length,m=[];if(p)for(var _=function(H,Ie){p--,m[H]=Ie,p==0&&u(m)},b=function(H){f(H)},S=0,U;S<o.length;S++)U=o[S],CI(U,G(_,S),b);else u(m)})}function AI(o){return new Ue(function(u){var f=o.length,p=[];if(f)for(var m=function(S,U,H){f--,p[S]=U?{Qb:!0,value:H}:{Qb:!1,reason:H},f==0&&u(p)},_=0,b;_<o.length;_++)b=o[_],CI(b,G(m,_,!0),G(m,_,!1));else u(p)})}Ue.prototype.then=function(o,u,f){return RI(this,E(o)?o:null,E(u)?u:null,f)},Ue.prototype.$goog_Thenable=!0,e=Ue.prototype,e.oa=function(o,u){return o=lg(o,o,u),o.c=!0,fg(this,o),this},e.o=function(o,u){return RI(this,null,o,u)},e.cancel=function(o){if(this.a==rs){var u=new ka(o);eh(function(){kI(this,u)},this)}};function kI(o,u){if(o.a==rs)if(o.c){var f=o.c;if(f.b){for(var p=0,m=null,_=null,b=f.b;b&&(b.c||(p++,b.a==o&&(m=b),!(m&&1<p)));b=b.next)m||(_=b);m&&(f.a==rs&&p==1?kI(f,u):(_?(p=_,p.next==f.f&&(f.f=p),p.next=p.next.next):OI(f),xI(f,m,Di,u)))}o.c=null}else is(o,Di,u)}function fg(o,u){o.b||o.a!=mc&&o.a!=Di||PI(o),o.f?o.f.next=u:o.b=u,o.f=u}function RI(o,u,f,p){var m=lg(null,null,null);return m.a=new Ue(function(_,b){m.g=u?function(S){try{var U=u.call(p,S);_(U)}catch(H){b(H)}}:_,m.b=f?function(S){try{var U=f.call(p,S);U===void 0&&S instanceof ka?b(S):_(U)}catch(H){b(H)}}:b}),m.a.c=o,fg(o,m),m.a}e.$c=function(o){this.a=rs,is(this,mc,o)},e.ad=function(o){this.a=rs,is(this,Di,o)};function is(o,u,f){o.a==rs&&(o===f&&(u=Di,f=new TypeError("Promise cannot resolve to itself")),o.a=1,NI(f,o.$c,o.ad,o)||(o.i=f,o.a=u,o.c=null,PI(o),u!=Di||f instanceof ka||SF(o,f)))}function NI(o,u,f,p){if(o instanceof Ue)return fg(o,lg(u||g,f||null,p)),!0;if(et(o))return o.then(u,f,p),!0;if(I(o))try{var m=o.then;if(E(m))return TF(o,m,u,f,p),!0}catch(_){return f.call(p,_),!0}return!1}function TF(o,u,f,p,m){function _(U){S||(S=!0,p.call(m,U))}function b(U){S||(S=!0,f.call(m,U))}var S=!1;try{u.call(o,b,_)}catch(U){_(U)}}function PI(o){o.h||(o.h=!0,eh(o.gc,o))}function OI(o){var u=null;return o.b&&(u=o.b,o.b=u.next,u.next=null),o.b||(o.f=null),u}e.gc=function(){for(var o;o=OI(this);)xI(this,o,this.a,this.i);this.h=!1};function xI(o,u,f,p){if(f==Di&&u.b&&!u.c)for(;o&&o.g;o=o.c)o.g=!1;if(u.a)u.a.c=null,DI(u,f,p);else try{u.c?u.g.call(u.f):DI(u,f,p)}catch(m){LI.call(null,m)}tn(SI,u)}function DI(o,u,f){u==mc?o.g.call(o.f,f):o.b&&o.b.call(o.f,f)}function SF(o,u){o.g=!0,eh(function(){o.g&&LI.call(null,u)})}var LI=bI;function ka(o){Ae.call(this,o)}M(ka,Ae),ka.prototype.name="cancel";function nh(){this.ya=this.ya,this.pa=this.pa}var CF=0;nh.prototype.ya=!1;function MI(o){!o.ya&&(o.ya=!0,o.Da(),CF!=0)&&C(o)}nh.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var AF=Object.freeze||function(o){return o},FI=!jr||9<=Number(ao),kF=jr&&!mI("9"),RF=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{l.addEventListener("test",g,u),l.removeEventListener("test",g,u)}catch{}return o}();function zn(o,u){this.type=o,this.b=this.target=u,this.defaultPrevented=!1}zn.prototype.preventDefault=function(){this.defaultPrevented=!0};function os(o,u){if(zn.call(this,o?o.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,o){var f=this.type=o.type,p=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.b=u,u=o.relatedTarget){if(vI){e:{try{rg(u.nodeName);var m=!0;break e}catch{}m=!1}m||(u=null)}}else f=="mouseover"?u=o.fromElement:f=="mouseout"&&(u=o.toElement);this.relatedTarget=u,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:NF[o.pointerType]||"",this.a=o,o.defaultPrevented&&this.preventDefault()}}M(os,zn);var NF=AF({2:"touch",3:"pen",4:"mouse"});os.prototype.preventDefault=function(){os.bb.preventDefault.call(this);var o=this.a;if(o.preventDefault)o.preventDefault();else if(o.returnValue=!1,kF)try{(o.ctrlKey||112<=o.keyCode&&123>=o.keyCode)&&(o.keyCode=-1)}catch{}},os.prototype.g=function(){return this.a};var yc="closure_listenable_"+(1e6*Math.random()|0),PF=0;function OF(o,u,f,p,m){this.listener=o,this.proxy=null,this.src=u,this.type=f,this.capture=!!p,this.Wa=m,this.key=++PF,this.wa=this.Qa=!1}function rh(o){o.wa=!0,o.listener=null,o.proxy=null,o.src=null,o.Wa=null}function ih(o){this.src=o,this.a={},this.b=0}ih.prototype.add=function(o,u,f,p,m){var _=o.toString();o=this.a[_],o||(o=this.a[_]=[],this.b++);var b=dg(o,u,p,m);return-1<b?(u=o[b],f||(u.Qa=!1)):(u=new OF(u,this.src,_,!!p,m),u.Qa=f,o.push(u)),u};function hg(o,u){var f=u.type;f in o.a&&j(o.a[f],u)&&(rh(u),o.a[f].length==0&&(delete o.a[f],o.b--))}function dg(o,u,f,p){for(var m=0;m<o.length;++m){var _=o[m];if(!_.wa&&_.listener==u&&_.capture==!!f&&_.Wa==p)return m}return-1}var pg="closure_lm_"+(1e6*Math.random()|0),vg={};function _r(o,u,f,p,m){if(p&&p.once)gg(o,u,f,p,m);else if(Array.isArray(u))for(var _=0;_<u.length;_++)_r(o,u[_],f,p,m);else f=yg(f),o&&o[yc]?HI(o,u,f,I(p)?!!p.capture:!!p,m):UI(o,u,f,!1,p,m)}function UI(o,u,f,p,m,_){if(!u)throw Error("Invalid event type");var b=I(m)?!!m.capture:!!m,S=oh(o);if(S||(o[pg]=S=new ih(o)),f=S.add(u,f,p,b,_),!f.proxy)if(p=xF(),f.proxy=p,p.src=o,p.listener=f,o.addEventListener)RF||(m=b),m===void 0&&(m=!1),o.addEventListener(u.toString(),p,m);else if(o.attachEvent)o.attachEvent(VI(u.toString()),p);else if(o.addListener&&o.removeListener)o.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.")}function xF(){var o=DF,u=FI?function(f){return o.call(u.src,u.listener,f)}:function(f){if(f=o.call(u.src,u.listener,f),!f)return f};return u}function gg(o,u,f,p,m){if(Array.isArray(u))for(var _=0;_<u.length;_++)gg(o,u[_],f,p,m);else f=yg(f),o&&o[yc]?_g(o,u,f,I(p)?!!p.capture:!!p,m):UI(o,u,f,!0,p,m)}function or(o,u,f,p,m){if(Array.isArray(u))for(var _=0;_<u.length;_++)or(o,u[_],f,p,m);else p=I(p)?!!p.capture:!!p,f=yg(f),o&&o[yc]?(o=o.v,u=String(u).toString(),u in o.a&&(_=o.a[u],f=dg(_,f,p,m),-1<f&&(rh(_[f]),Array.prototype.splice.call(_,f,1),_.length==0&&(delete o.a[u],o.b--)))):o&&(o=oh(o))&&(u=o.a[u.toString()],o=-1,u&&(o=dg(u,f,p,m)),(f=-1<o?u[o]:null)&&jI(f))}function jI(o){if(typeof o!="number"&&o&&!o.wa){var u=o.src;if(u&&u[yc])hg(u.v,o);else{var f=o.type,p=o.proxy;u.removeEventListener?u.removeEventListener(f,p,o.capture):u.detachEvent?u.detachEvent(VI(f),p):u.addListener&&u.removeListener&&u.removeListener(p),(f=oh(u))?(hg(f,o),f.b==0&&(f.src=null,u[pg]=null)):rh(o)}}}function VI(o){return o in vg?vg[o]:vg[o]="on"+o}function BI(o,u,f,p){var m=!0;if((o=oh(o))&&(u=o.a[u.toString()]))for(u=u.concat(),o=0;o<u.length;o++){var _=u[o];_&&_.capture==f&&!_.wa&&(_=qI(_,p),m=m&&_!==!1)}return m}function qI(o,u){var f=o.listener,p=o.Wa||o.src;return o.Qa&&jI(o),f.call(p,u)}function DF(o,u){if(o.wa)return!0;if(!FI){if(!u)e:{u=["window","event"];for(var f=l,p=0;p<u.length;p++)if(f=f[u[p]],f==null){u=null;break e}u=f}if(p=u,u=new os(p,this),f=!0,!(0>p.keyCode||p.returnValue!=null)){e:{var m=!1;if(p.keyCode==0)try{p.keyCode=-1;break e}catch{m=!0}(m||p.returnValue==null)&&(p.returnValue=!0)}for(p=[],m=u.b;m;m=m.parentNode)p.push(m);for(o=o.type,m=p.length-1;0<=m;m--){u.b=p[m];var _=BI(p[m],o,!0,u);f=f&&_}for(m=0;m<p.length;m++)u.b=p[m],_=BI(p[m],o,!1,u),f=f&&_}return f}return qI(o,new os(u,this))}function oh(o){return o=o[pg],o instanceof ih?o:null}var mg="__closure_events_fn_"+(1e9*Math.random()>>>0);function yg(o){return E(o)?o:(o[mg]||(o[mg]=function(u){return o.handleEvent(u)}),o[mg])}function On(){nh.call(this),this.v=new ih(this),this.bc=this,this.hb=null}M(On,nh),On.prototype[yc]=!0,On.prototype.addEventListener=function(o,u,f,p){_r(this,o,u,f,p)},On.prototype.removeEventListener=function(o,u,f,p){or(this,o,u,f,p)},On.prototype.dispatchEvent=function(o){var u,f=this.hb;if(f)for(u=[];f;f=f.hb)u.push(f);f=this.bc;var p=o.type||o;if(typeof o=="string")o=new zn(o,f);else if(o instanceof zn)o.target=o.target||f;else{var m=o;o=new zn(p,f),nn(o,m)}if(m=!0,u)for(var _=u.length-1;0<=_;_--){var b=o.b=u[_];m=sh(b,p,!0,o)&&m}if(b=o.b=f,m=sh(b,p,!0,o)&&m,m=sh(b,p,!1,o)&&m,u)for(_=0;_<u.length;_++)b=o.b=u[_],m=sh(b,p,!1,o)&&m;return m},On.prototype.Da=function(){if(On.bb.Da.call(this),this.v){var o=this.v,u;for(u in o.a){for(var f=o.a[u],p=0;p<f.length;p++)rh(f[p]);delete o.a[u],o.b--}}this.hb=null};function HI(o,u,f,p,m){o.v.add(String(u),f,!1,p,m)}function _g(o,u,f,p,m){o.v.add(String(u),f,!0,p,m)}function sh(o,u,f,p){if(u=o.v.a[String(u)],!u)return!0;u=u.concat();for(var m=!0,_=0;_<u.length;++_){var b=u[_];if(b&&!b.wa&&b.capture==f){var S=b.listener,U=b.Wa||b.src;b.Qa&&hg(o.v,b),m=S.call(U,p)!==!1&&m}}return m&&!p.defaultPrevented}function wg(o,u,f){if(E(o))f&&(o=F(o,f));else if(o&&typeof o.handleEvent=="function")o=F(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:l.setTimeout(o,u||0)}function Ra(o){var u=null;return new Ue(function(f,p){u=wg(function(){f(void 0)},o),u==-1&&p(Error("Failed to schedule timer."))}).o(function(f){throw l.clearTimeout(u),f})}function KI(o){if(o.X&&typeof o.X=="function")return o.X();if(typeof o=="string")return o.split("");if(w(o)){for(var u=[],f=o.length,p=0;p<f;p++)u.push(o[p]);return u}u=[],f=0;for(p in o)u[f++]=o[p];return u}function WI(o){if(o.Y&&typeof o.Y=="function")return o.Y();if(!o.X||typeof o.X!="function"){if(w(o)||typeof o=="string"){var u=[];o=o.length;for(var f=0;f<o;f++)u.push(f);return u}u=[],f=0;for(var p in o)u[f++]=p;return u}}function LF(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(w(o)||typeof o=="string")Z(o,u,void 0);else for(var f=WI(o),p=KI(o),m=p.length,_=0;_<m;_++)u.call(void 0,p[_],f&&f[_],o)}function Na(o,u){this.b={},this.a=[],this.c=0;var f=arguments.length;if(1<f){if(f%2)throw Error("Uneven number of arguments");for(var p=0;p<f;p+=2)this.set(arguments[p],arguments[p+1])}else if(o)if(o instanceof Na)for(f=o.Y(),p=0;p<f.length;p++)this.set(f[p],o.get(f[p]));else for(p in o)this.set(p,o[p])}e=Na.prototype,e.X=function(){bg(this);for(var o=[],u=0;u<this.a.length;u++)o.push(this.b[this.a[u]]);return o},e.Y=function(){return bg(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function bg(o){if(o.c!=o.a.length){for(var u=0,f=0;u<o.a.length;){var p=o.a[u];ss(o.b,p)&&(o.a[f++]=p),u++}o.a.length=f}if(o.c!=o.a.length){var m={};for(f=u=0;u<o.a.length;)p=o.a[u],ss(m,p)||(o.a[f++]=p,m[p]=1),u++;o.a.length=f}}e.get=function(o,u){return ss(this.b,o)?this.b[o]:u},e.set=function(o,u){ss(this.b,o)||(this.c++,this.a.push(o)),this.b[o]=u},e.forEach=function(o,u){for(var f=this.Y(),p=0;p<f.length;p++){var m=f[p],_=this.get(m);o.call(u,_,m,this)}};function ss(o,u){return Object.prototype.hasOwnProperty.call(o,u)}var $I=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function MF(o,u){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var p=o[f].indexOf("="),m=null;if(0<=p){var _=o[f].substring(0,p);m=o[f].substring(p+1)}else _=o[f];u(_,m?decodeURIComponent(m.replace(/\+/g," ")):"")}}}function uo(o,u){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var f;o instanceof uo?(this.i=u!==void 0?u:o.i,_c(this,o.c),this.l=o.l,this.a=o.a,wc(this,o.g),this.f=o.f,Eg(this,YI(o.b)),this.h=o.h):o&&(f=String(o).match($I))?(this.i=!!u,_c(this,f[1]||"",!0),this.l=bc(f[2]||""),this.a=bc(f[3]||"",!0),wc(this,f[4]),this.f=bc(f[5]||"",!0),Eg(this,f[6]||"",!0),this.h=bc(f[7]||"")):(this.i=!!u,this.b=new as(null,this.i))}uo.prototype.toString=function(){var o=[],u=this.c;u&&o.push(Ec(u,GI,!0),":");var f=this.a;return(f||u=="file")&&(o.push("//"),(u=this.l)&&o.push(Ec(u,GI,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.g,f!=null&&o.push(":",String(f))),(f=this.f)&&(this.a&&f.charAt(0)!="/"&&o.push("/"),o.push(Ec(f,f.charAt(0)=="/"?jF:UF,!0))),(f=this.b.toString())&&o.push("?",f),(f=this.h)&&o.push("#",Ec(f,BF)),o.join("")},uo.prototype.resolve=function(o){var u=new uo(this),f=!!o.c;f?_c(u,o.c):f=!!o.l,f?u.l=o.l:f=!!o.a,f?u.a=o.a:f=o.g!=null;var p=o.f;if(f)wc(u,o.g);else if(f=!!o.f){if(p.charAt(0)!="/")if(this.a&&!this.f)p="/"+p;else{var m=u.f.lastIndexOf("/");m!=-1&&(p=u.f.substr(0,m+1)+p)}if(m=p,m==".."||m==".")p="";else if(me(m,"./")||me(m,"/.")){p=m.lastIndexOf("/",0)==0,m=m.split("/");for(var _=[],b=0;b<m.length;){var S=m[b++];S=="."?p&&b==m.length&&_.push(""):S==".."?((1<_.length||_.length==1&&_[0]!="")&&_.pop(),p&&b==m.length&&_.push("")):(_.push(S),p=!0)}p=_.join("/")}else p=m}return f?u.f=p:f=o.b.toString()!=="",f?Eg(u,YI(o.b)):f=!!o.h,f&&(u.h=o.h),u};function _c(o,u,f){o.c=f?bc(u,!0):u,o.c&&(o.c=o.c.replace(/:$/,""))}function wc(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.g=u}else o.g=null}function Eg(o,u,f){u instanceof as?(o.b=u,qF(o.b,o.i)):(f||(u=Ec(u,VF)),o.b=new as(u,o.i))}function At(o,u,f){o.b.set(u,f)}function wr(o,u){return o.b.get(u)}function Qn(o){return o instanceof uo?new uo(o):new uo(o,void 0)}function ah(o,u,f,p){var m=new uo(null,void 0);return o&&_c(m,o),u&&(m.a=u),f&&wc(m,f),p&&(m.f=p),m}function bc(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Ec(o,u,f){return typeof o=="string"?(o=encodeURI(o).replace(u,FF),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function FF(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var GI=/[#\/\?@]/g,UF=/[#\?:]/g,jF=/[#\?]/g,VF=/[#\?@]/g,BF=/#/g;function as(o,u){this.b=this.a=null,this.c=o||null,this.f=!!u}function co(o){o.a||(o.a=new Na,o.b=0,o.c&&MF(o.c,function(u,f){o.add(decodeURIComponent(u.replace(/\+/g," ")),f)}))}function zI(o){var u=WI(o);if(typeof u=="undefined")throw Error("Keys are undefined");var f=new as(null,void 0);o=KI(o);for(var p=0;p<u.length;p++){var m=u[p],_=o[p];Array.isArray(_)?QI(f,m,_):f.add(m,_)}return f}e=as.prototype,e.add=function(o,u){co(this),this.c=null,o=Pa(this,o);var f=this.a.get(o);return f||this.a.set(o,f=[]),f.push(u),this.b+=1,this};function ui(o,u){co(o),u=Pa(o,u),ss(o.a.b,u)&&(o.c=null,o.b-=o.a.get(u).length,o=o.a,ss(o.b,u)&&(delete o.b[u],o.c--,o.a.length>2*o.c&&bg(o)))}e.clear=function(){this.a=this.c=null,this.b=0};function Ig(o,u){return co(o),u=Pa(o,u),ss(o.a.b,u)}e.forEach=function(o,u){co(this),this.a.forEach(function(f,p){Z(f,function(m){o.call(u,m,p,this)},this)},this)},e.Y=function(){co(this);for(var o=this.a.X(),u=this.a.Y(),f=[],p=0;p<u.length;p++)for(var m=o[p],_=0;_<m.length;_++)f.push(u[p]);return f},e.X=function(o){co(this);var u=[];if(typeof o=="string")Ig(this,o)&&(u=Y(u,this.a.get(Pa(this,o))));else{o=this.a.X();for(var f=0;f<o.length;f++)u=Y(u,o[f])}return u},e.set=function(o,u){return co(this),this.c=null,o=Pa(this,o),Ig(this,o)&&(this.b-=this.a.get(o).length),this.a.set(o,[u]),this.b+=1,this},e.get=function(o,u){return o?(o=this.X(o),0<o.length?String(o[0]):u):u};function QI(o,u,f){ui(o,u),0<f.length&&(o.c=null,o.a.set(Pa(o,u),ee(f)),o.b+=f.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var o=[],u=this.a.Y(),f=0;f<u.length;f++){var p=u[f],m=encodeURIComponent(String(p));p=this.X(p);for(var _=0;_<p.length;_++){var b=m;p[_]!==""&&(b+="="+encodeURIComponent(String(p[_]))),o.push(b)}}return this.c=o.join("&")};function YI(o){var u=new as;return u.c=o.c,o.a&&(u.a=new Na(o.a),u.b=o.b),u}function Pa(o,u){return u=String(u),o.f&&(u=u.toLowerCase()),u}function qF(o,u){u&&!o.f&&(co(o),o.c=null,o.a.forEach(function(f,p){var m=p.toLowerCase();p!=m&&(ui(this,p),QI(this,m,f))},o)),o.f=u}function XI(o){var u=[];return Tg(new HF,o,u),u.join("")}function HF(){}function Tg(o,u,f){if(u==null)f.push("null");else{if(typeof u=="object"){if(Array.isArray(u)){var p=u;u=p.length,f.push("[");for(var m="",_=0;_<u;_++)f.push(m),Tg(o,p[_],f),m=",";f.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{f.push("{"),m="";for(p in u)Object.prototype.hasOwnProperty.call(u,p)&&(_=u[p],typeof _!="function"&&(f.push(m),ZI(p,f),f.push(":"),Tg(o,_,f),m=","));f.push("}");return}}switch(typeof u){case"string":ZI(u,f);break;case"number":f.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":f.push(String(u));break;case"function":f.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var JI={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},KF=/\uffff/.test("\uFFFF")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ZI(o,u){u.push('"',o.replace(KF,function(f){var p=JI[f];return p||(p="\\u"+(f.charCodeAt(0)|65536).toString(16).substr(1),JI[f]=p),p}),'"')}function Sg(){var o=rn();return jr&&!!ao&&ao==11||/Edge\/\d+/.test(o)}function Ic(){return l.window&&l.window.location.href||self&&self.location&&self.location.href||""}function eT(o,u){u=u||l.window;var f="about:blank";o&&(f=Xf(uI(o)||lI)),u.location.href=f}function tT(o,u){var f=[],p;for(p in o)p in u?typeof o[p]!=typeof u[p]?f.push(p):typeof o[p]=="object"&&o[p]!=null&&u[p]!=null?0<tT(o[p],u[p]).length&&f.push(p):o[p]!==u[p]&&f.push(p):f.push(p);for(p in u)p in o||f.push(p);return f}function WF(){var o=rn();return o=Oa(o)!=oT?null:(o=o.match(/\sChrome\/(\d+)/i))&&o.length==2?parseInt(o[1],10):null,o&&30>o?!1:!jr||!ao||9<ao}function nT(o){return o=(o||rn()).toLowerCase(),!!(o.match(/android/)||o.match(/webos/)||o.match(/iphone|ipad|ipod/)||o.match(/blackberry/)||o.match(/windows phone/)||o.match(/iemobile/))}function us(o){o=o||l.window;try{o.close()}catch{}}function rT(o,u,f){var p=Math.floor(1e9*Math.random()).toString();u=u||500,f=f||600;var m=(window.screen.availHeight-f)/2,_=(window.screen.availWidth-u)/2;u={width:u,height:f,top:0<m?m:0,left:0<_?_:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},f=rn().toLowerCase(),p&&(u.target=p,me(f,"crios/")&&(u.target="_blank")),Oa(rn())==kg&&(o=o||"http://localhost",u.scrollbars=!0),f=o||"",(o=u)||(o={}),p=window,u=f instanceof Gn?f:uI(typeof f.href!="undefined"?f.href:String(f))||lI,f=o.target||f.target,m=[];for(b in o)switch(b){case"width":case"height":case"top":case"left":m.push(b+"="+o[b]);break;case"target":case"noopener":case"noreferrer":break;default:m.push(b+"="+(o[b]?1:0))}var b=m.join(",");if((Et("iPhone")&&!Et("iPod")&&!Et("iPad")||Et("iPad")||Et("iPod"))&&p.navigator&&p.navigator.standalone&&f&&f!="_self"?(b=Zf(document,"A"),nI(b,"HTMLAnchorElement"),u=u instanceof Gn?u:cI(u),b.href=Xf(u),b.setAttribute("target",f),o.noreferrer&&b.setAttribute("rel","noreferrer"),o=document.createEvent("MouseEvent"),o.initMouseEvent("click",!0,!0,p,1),b.dispatchEvent(o),b={}):o.noreferrer?(b=hI("",p,f,b),o=Xf(u),b&&(vF&&me(o,";")&&(o="'"+o.replace(/'/g,"%27")+"'"),b.opener=null,o='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+ng(o)+'">',o=(p=iI())?p.createHTML(o):o,o=new Aa(o,null,fI),p=b.document)&&(p.write(fF(o)),p.close())):(b=hI(u,p,f,b))&&o.noopener&&(b.opener=null),b)try{b.focus()}catch{}return b}function $F(o){return new Ue(function(u){function f(){Ra(2e3).then(function(){if(!o||o.closed)u();else return f()})}return f()})}var GF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zF=/^[^@]+@[^@]+$/;function uh(){var o=null;return new Ue(function(u){l.document.readyState=="complete"?u():(o=function(){u()},gg(window,"load",o))}).o(function(u){throw or(window,"load",o),u})}function QF(){return Cg(void 0)?uh().then(function(){return new Ue(function(o,u){var f=l.document,p=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);f.addEventListener("deviceready",function(){clearTimeout(p),o()},!1)})}):vt(Error("Cordova must run in an Android or iOS file scheme."))}function Cg(o){return o=o||rn(),!(Da()!=="file:"&&Da()!=="ionic:"||!o.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ag(){var o=l.window;try{return!(!o||o==o.top)}catch{return!1}}function Vr(){return typeof l.WorkerGlobalScope!="undefined"&&typeof l.importScripts=="function"}function ci(){return le.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":le.INTERNAL.hasOwnProperty("node")?"Node":Vr()?"Worker":"Browser"}function iT(){var o=ci();return o==="ReactNative"||o==="Node"}function YF(){for(var o=50,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}var kg="Firefox",oT="Chrome";function Oa(o){var u=o.toLowerCase();if(me(u,"opera/")||me(u,"opr/")||me(u,"opios/"))return"Opera";if(me(u,"iemobile"))return"IEMobile";if(me(u,"msie")||me(u,"trident/"))return"IE";if(me(u,"edge/"))return"Edge";if(me(u,"firefox/"))return kg;if(me(u,"silk/"))return"Silk";if(me(u,"blackberry"))return"Blackberry";if(me(u,"webos"))return"Webos";if(!me(u,"safari/")||me(u,"chrome/")||me(u,"crios/")||me(u,"android"))if(!me(u,"chrome/")&&!me(u,"crios/")||me(u,"edge/")){if(me(u,"android"))return"Android";if((o=o.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&o.length==2)return o[1]}else return oT;else return"Safari";return"Other"}var sT={md:"FirebaseCore-web",od:"FirebaseUI-web"};function xa(o,u){u=u||[];var f=[],p={},m;for(m in sT)p[sT[m]]=!0;for(m=0;m<u.length;m++)typeof p[u[m]]!="undefined"&&(delete p[u[m]],f.push(u[m]));return f.sort(),u=f,u.length||(u=["FirebaseCore-web"]),f=ci(),f==="Browser"?(p=rn(),f=Oa(p)):f==="Worker"&&(p=rn(),f=Oa(p)+"-"+f),f+"/JsCore/"+o+"/"+u.join(",")}function rn(){return l.navigator&&l.navigator.userAgent||""}function gt(o,u){o=o.split("."),u=u||l;for(var f=0;f<o.length&&typeof u=="object"&&u!=null;f++)u=u[o[f]];return f!=o.length&&(u=void 0),u}function Rg(){try{var o=l.localStorage,u=ls();if(o)return o.setItem(u,"1"),o.removeItem(u),Sg()?!!l.indexedDB:!0}catch{return Vr()&&!!l.indexedDB}return!1}function cs(){return(ch()||Da()==="chrome-extension:"||Cg())&&!iT()&&Rg()&&!Vr()}function ch(){return Da()==="http:"||Da()==="https:"}function Da(){return l.location&&l.location.protocol||null}function Tc(o){return o=o||rn(),!(nT(o)||Oa(o)==kg)}function Sc(o){return typeof o=="undefined"?null:XI(o)}function aT(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&o[f]!==null&&o[f]!==void 0&&(u[f]=o[f]);return u}function La(o){if(o!==null)return JSON.parse(o)}function ls(o){return o||Math.floor(1e9*Math.random()).toString()}function uT(o){return o=o||rn(),!(Oa(o)=="Safari"||o.toLowerCase().match(/iphone|ipad|ipod/))}function cT(){var o=l.___jsl;if(o&&o.H){for(var u in o.H)if(o.H[u].r=o.H[u].r||[],o.H[u].L=o.H[u].L||[],o.H[u].r=o.H[u].L.concat(),o.CP)for(var f=0;f<o.CP.length;f++)o.CP[f]=null}}function lo(o,u){if(o>u)throw Error("Short delay should be less than long delay!");this.a=o,this.c=u,o=rn(),u=ci(),this.b=nT(o)||u==="ReactNative"}lo.prototype.get=function(){var o=l.navigator;return!(o&&typeof o.onLine=="boolean"&&(ch()||Da()==="chrome-extension:"||typeof o.connection!="undefined"))||o.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function Ng(){var o=l.document;return o&&typeof o.visibilityState!="undefined"?o.visibilityState=="visible":!0}function XF(){var o=l.document,u=null;return Ng()||!o?ge():new Ue(function(f){u=function(){Ng()&&(o.removeEventListener("visibilitychange",u,!1),f())},o.addEventListener("visibilitychange",u,!1)}).o(function(f){throw o.removeEventListener("visibilitychange",u,!1),f})}function Cc(o){try{var u=new Date(parseInt(o,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(o))return u.toUTCString()}catch{}return null}function lT(){return!(!gt("fireauth.oauthhelper",l)&&!gt("fireauth.iframe",l))}function JF(){var o=l.navigator;return o&&o.serviceWorker&&o.serviceWorker.controller||null}function ZF(){var o=l.navigator;return o&&o.serviceWorker?ge().then(function(){return o.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):ge(null)}var fT={};function Pg(o){fT[o]||(fT[o]=!0,typeof console!="undefined"&&typeof console.warn=="function"&&console.warn(o))}var Og;try{var xg={};Object.defineProperty(xg,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(xg,"abcd",{configurable:!0,enumerable:!0,value:2}),Og=xg.abcd==2}catch{Og=!1}function ce(o,u,f){Og?Object.defineProperty(o,u,{configurable:!0,enumerable:!0,value:f}):o[u]=f}function xn(o,u){if(u)for(var f in u)u.hasOwnProperty(f)&&ce(o,f,u[f])}function li(o){var u={};return xn(u,o),u}function e2(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&(u[f]=o[f]);return u}function t2(o,u){if(!u||!u.length)return!0;if(!o)return!1;for(var f=0;f<u.length;f++){var p=o[u[f]];if(p==null||p==="")return!1}return!0}function Dg(o){var u=o;if(typeof o=="object"&&o!=null){u="length"in o?[]:{};for(var f in o)ce(u,f,Dg(o[f]))}return u}function Lg(o){var u=o&&(o[jg]?"phone":null);if(u&&o&&o[Ug]){ce(this,"uid",o[Ug]),ce(this,"displayName",o[hT]||null);var f=null;o[Fg]&&(f=new Date(o[Fg]).toUTCString()),ce(this,"enrollmentTime",f),ce(this,"factorId",u)}else throw new R("internal-error","Internal assert: invalid MultiFactorInfo object")}Lg.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Mg(o){try{var u=new Ac(o)}catch{u=null}return u}var hT="displayName",Fg="enrolledAt",Ug="mfaEnrollmentId",jg="phoneInfo";function Ac(o){Lg.call(this,o),ce(this,"phoneNumber",o[jg])}M(Ac,Lg),Ac.prototype.w=function(){var o=Ac.bb.w.call(this);return o.phoneNumber=this.phoneNumber,o};function n2(o){var u={},f=o[r2],p=o[o2],m=o[s2];if(o=Mg(o[i2]),!m||m!=lh&&m!=kc&&!f||m==kc&&!p||m==Vg&&!o)throw Error("Invalid checkActionCode response!");m==kc?(u[pT]=f||null,u[vT]=f||null,u[dT]=p):(u[pT]=p||null,u[vT]=p||null,u[dT]=f||null),u[a2]=o||null,ce(this,c2,m),ce(this,u2,Dg(u))}var Vg="REVERT_SECOND_FACTOR_ADDITION",lh="EMAIL_SIGNIN",kc="VERIFY_AND_CHANGE_EMAIL",r2="email",i2="mfaInfo",o2="newEmail",s2="requestType",dT="email",pT="fromEmail",a2="multiFactorInfo",vT="previousEmail",u2="data",c2="operation";function Bg(o){o=Qn(o);var u=wr(o,gT)||null,f=wr(o,mT)||null,p=wr(o,yT)||null;if(p=p&&d2[p]||null,!u||!f||!p)throw new R("argument-error",gT+", "+mT+"and "+yT+" are required in a valid action code URL.");xn(this,{apiKey:u,operation:p,code:f,continueUrl:wr(o,l2)||null,languageCode:wr(o,f2)||null,tenantId:wr(o,h2)||null})}var gT="apiKey",mT="oobCode",l2="continueUrl",f2="languageCode",yT="mode",h2="tenantId",d2={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Vg,signIn:lh,verifyAndChangeEmail:kc,verifyEmail:"VERIFY_EMAIL"};function _T(o){try{return new Bg(o)}catch{return null}}function fh(o){var u=o[p2];if(typeof u=="undefined")throw new R("missing-continue-uri");if(typeof u!="string"||typeof u=="string"&&!u.length)throw new R("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var f=o[wT];if(f&&typeof f=="object"){u=f[ST];var p=f[IT];if(f=f[TT],typeof u=="string"&&u.length){if(this.a=u,typeof p!="undefined"&&typeof p!="boolean")throw new R("argument-error",IT+" property must be a boolean when specified.");if(this.g=!!p,typeof f!="undefined"&&(typeof f!="string"||typeof f=="string"&&!f.length))throw new R("argument-error",TT+" property must be a non empty string when specified.");this.b=f||null}else{if(typeof u!="undefined")throw new R("argument-error",ST+" property must be a non empty string when specified.");if(typeof p!="undefined"||typeof f!="undefined")throw new R("missing-android-pkg-name")}}else if(typeof f!="undefined")throw new R("argument-error",wT+" property must be a non null object when specified.");if(this.f=null,(u=o[ET])&&typeof u=="object"){if(u=u[CT],typeof u=="string"&&u.length)this.f=u;else if(typeof u!="undefined")throw new R("argument-error",CT+" property must be a non empty string when specified.")}else if(typeof u!="undefined")throw new R("argument-error",ET+" property must be a non null object when specified.");if(u=o[qg],typeof u!="undefined"&&typeof u!="boolean")throw new R("argument-error",qg+" property must be a boolean when specified.");if(this.c=!!u,o=o[bT],typeof o!="undefined"&&(typeof o!="string"||typeof o=="string"&&!o.length))throw new R("argument-error",bT+" property must be a non empty string when specified.");this.i=o||null}var wT="android",bT="dynamicLinkDomain",qg="handleCodeInApp",ET="iOS",p2="url",IT="installApp",TT="minimumVersion",ST="packageName",CT="bundleId";function hh(o){var u={};u.continueUrl=o.h,u.canHandleCodeInApp=o.c,(u.androidPackageName=o.a)&&(u.androidMinimumVersion=o.b,u.androidInstallApp=o.g),u.iOSBundleId=o.f,u.dynamicLinkDomain=o.i;for(var f in u)u[f]===null&&delete u[f];return u}function v2(o){return Se(o,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}var Rc=null;function g2(o){var u=[];return m2(o,function(f){u.push(f)}),u}function m2(o,u){function f(U){for(;p<o.length;){var H=o.charAt(p++),Ie=Rc[H];if(Ie!=null)return Ie;if(!/^[\s\xa0]*$/.test(H))throw Error("Unknown base64 encoding at char: "+H)}return U}y2();for(var p=0;;){var m=f(-1),_=f(0),b=f(64),S=f(64);if(S===64&&m===-1)break;u(m<<2|_>>4),b!=64&&(u(_<<4&240|b>>2),S!=64&&u(b<<6&192|S))}}function y2(){if(!Rc){Rc={};for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],f=0;5>f;f++)for(var p=o.concat(u[f].split("")),m=0;m<p.length;m++){var _=p[m];Rc[_]===void 0&&(Rc[_]=m)}}}function dh(o){var u=AT(o);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=o,this.a=u.exp,this.i=u.sub,o=Date.now()/1e3,this.g=u.iat||(o>this.a?this.a:o),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||this.b=="anonymous"}dh.prototype.T=function(){return this.f},dh.prototype.l=function(){return this.c},dh.prototype.toString=function(){return this.h};function ph(o){try{return new dh(o)}catch{return null}}function AT(o){if(!o||(o=o.split("."),o.length!=3))return null;o=o[1];for(var u=(4-o.length%4)%4,f=0;f<u;f++)o+=".";try{var p=g2(o);for(o=[],f=u=0;u<p.length;){var m=p[u++];if(128>m)o[f++]=String.fromCharCode(m);else if(191<m&&224>m){var _=p[u++];o[f++]=String.fromCharCode((m&31)<<6|_&63)}else if(239<m&&365>m){_=p[u++];var b=p[u++],S=p[u++],U=((m&7)<<18|(_&63)<<12|(b&63)<<6|S&63)-65536;o[f++]=String.fromCharCode(55296+(U>>10)),o[f++]=String.fromCharCode(56320+(U&1023))}else _=p[u++],b=p[u++],o[f++]=String.fromCharCode((m&15)<<12|(_&63)<<6|b&63)}return JSON.parse(o.join(""))}catch{}return null}var kT="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),vh=["client_id","response_type","scope","redirect_uri","state"],Hg={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:vh},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:vh},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:vh},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:kT},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Kg(o){for(var u in Hg)if(Hg[u].fa==o)return Hg[u];return null}function RT(o){var u={};u["facebook.com"]=PT,u["google.com"]=xT,u["github.com"]=OT,u["twitter.com"]=DT;var f=o&&o[NT];try{if(f)return u[f]?new u[f](o):new fi(o);if(typeof o[Wg]!="undefined")return new $g(o)}catch{}return null}var Wg="idToken",NT="providerId";function $g(o){var u=o[NT];if(!u&&o[Wg]){var f=ph(o[Wg]);f&&f.b&&(u=f.b)}if(!u)throw Error("Invalid additional user info!");(u=="anonymous"||u=="custom")&&(u=null),f=!1,typeof o.isNewUser!="undefined"?f=!!o.isNewUser:o.kind==="identitytoolkit#SignupNewUserResponse"&&(f=!0),ce(this,"providerId",u),ce(this,"isNewUser",f)}function fi(o){$g.call(this,o),o=La(o.rawUserInfo||"{}"),ce(this,"profile",Dg(o||{}))}M(fi,$g);function PT(o){if(fi.call(this,o),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}M(PT,fi);function OT(o){if(fi.call(this,o),this.providerId!="github.com")throw Error("Invalid provider ID!");ce(this,"username",this.profile&&this.profile.login||null)}M(OT,fi);function xT(o){if(fi.call(this,o),this.providerId!="google.com")throw Error("Invalid provider ID!")}M(xT,fi);function DT(o){if(fi.call(this,o),this.providerId!="twitter.com")throw Error("Invalid provider ID!");ce(this,"username",o.screenName||null)}M(DT,fi);function LT(o){var u=Qn(o),f=wr(u,"link"),p=wr(Qn(f),"link");return u=wr(u,"deep_link_id"),wr(Qn(u),"link")||u||p||f||o}function gh(o,u){if(!o&&!u)throw new R("internal-error","Internal assert: no raw session string available");if(o&&u)throw new R("internal-error","Internal assert: unable to determine the session type");this.a=o||null,this.b=u||null,this.type=this.a?Nc:mh}var Nc="enroll",mh="signin";gh.prototype.Ha=function(){return this.a?ge(this.a):ge(this.b)},gh.prototype.w=function(){return this.type==Nc?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function Ma(){}Ma.prototype.ka=function(){},Ma.prototype.b=function(){},Ma.prototype.c=function(){},Ma.prototype.w=function(){};function Fa(o,u){return o.then(function(f){if(f[Hr]){var p=ph(f[Hr]);if(!p||u!=p.i)throw new R("user-mismatch");return f}throw new R("user-mismatch")}).o(function(f){throw f&&f.code&&f.code==oe+"user-not-found"?new R("user-mismatch"):f})}function fs(o,u){if(u)this.a=u;else throw new R("internal-error","failed to construct a credential");ce(this,"providerId",o),ce(this,"signInMethod",o)}fs.prototype.ka=function(o){return gm(o,Gg(this))},fs.prototype.b=function(o,u){var f=Gg(this);return f.idToken=u,mm(o,f)},fs.prototype.c=function(o,u){return Fa(ym(o,Gg(this)),u)};function Gg(o){return{pendingToken:o.a,requestUri:"http://localhost"}}fs.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function _2(o){if(o&&o.providerId&&o.signInMethod&&o.providerId.indexOf("saml.")==0&&o.pendingToken)try{return new fs(o.providerId,o.pendingToken)}catch{}return null}function Li(o,u,f){if(this.a=null,u.idToken||u.accessToken)u.idToken&&ce(this,"idToken",u.idToken),u.accessToken&&ce(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&ce(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else if(u.oauthToken&&u.oauthTokenSecret)ce(this,"accessToken",u.oauthToken),ce(this,"secret",u.oauthTokenSecret);else throw new R("internal-error","failed to construct a credential");ce(this,"providerId",o),ce(this,"signInMethod",f)}Li.prototype.ka=function(o){return gm(o,zg(this))},Li.prototype.b=function(o,u){var f=zg(this);return f.idToken=u,mm(o,f)},Li.prototype.c=function(o,u){var f=zg(this);return Fa(ym(o,f),u)};function zg(o){var u={};return o.idToken&&(u.id_token=o.idToken),o.accessToken&&(u.access_token=o.accessToken),o.secret&&(u.oauth_token_secret=o.secret),u.providerId=o.providerId,o.nonce&&!o.a&&(u.nonce=o.nonce),u={postBody:zI(u).toString(),requestUri:"http://localhost"},o.a&&(delete u.postBody,u.pendingToken=o.a),u}Li.prototype.w=function(){var o={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(o.oauthIdToken=this.idToken),this.accessToken&&(o.oauthAccessToken=this.accessToken),this.secret&&(o.oauthTokenSecret=this.secret),this.nonce&&(o.nonce=this.nonce),this.a&&(o.pendingToken=this.a),o};function w2(o){if(o&&o.providerId&&o.signInMethod){var u={idToken:o.oauthIdToken,accessToken:o.oauthTokenSecret?null:o.oauthAccessToken,oauthTokenSecret:o.oauthTokenSecret,oauthToken:o.oauthTokenSecret&&o.oauthAccessToken,nonce:o.nonce,pendingToken:o.pendingToken};try{return new Li(o.providerId,u,o.signInMethod)}catch{}}return null}function hs(o,u){this.Qc=u||[],xn(this,{providerId:o,isOAuthProvider:!0}),this.Jb={},this.qb=(Kg(o)||{}).Ja||null,this.pb=null}hs.prototype.Ka=function(o){return this.Jb=It(o),this};function MT(o){if(typeof o!="string"||o.indexOf("saml.")!=0)throw new R("argument-error",'SAML provider IDs must be prefixed with "saml."');hs.call(this,o,[])}M(MT,hs);function sr(o){hs.call(this,o,vh),this.a=[]}M(sr,hs),sr.prototype.Ca=function(o){return D(this.a,o)||this.a.push(o),this},sr.prototype.Rb=function(){return ee(this.a)},sr.prototype.credential=function(o,u){var f;if(I(o)?f={idToken:o.idToken||null,accessToken:o.accessToken||null,nonce:o.rawNonce||null}:f={idToken:o||null,accessToken:u||null},!f.idToken&&!f.accessToken)throw new R("argument-error","credential failed: must provide the ID token and/or the access token.");return new Li(this.providerId,f,this.providerId)};function ds(){sr.call(this,"facebook.com")}M(ds,sr),ce(ds,"PROVIDER_ID","facebook.com"),ce(ds,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function FT(o){if(!o)throw new R("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return I(o)&&(u=o.accessToken),new ds().credential({accessToken:u})}function ps(){sr.call(this,"github.com")}M(ps,sr),ce(ps,"PROVIDER_ID","github.com"),ce(ps,"GITHUB_SIGN_IN_METHOD","github.com");function UT(o){if(!o)throw new R("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return I(o)&&(u=o.accessToken),new ps().credential({accessToken:u})}function vs(){sr.call(this,"google.com"),this.Ca("profile")}M(vs,sr),ce(vs,"PROVIDER_ID","google.com"),ce(vs,"GOOGLE_SIGN_IN_METHOD","google.com");function jT(o,u){var f=o;return I(o)&&(f=o.idToken,u=o.accessToken),new vs().credential({idToken:f,accessToken:u})}function Ua(){hs.call(this,"twitter.com",kT)}M(Ua,hs),ce(Ua,"PROVIDER_ID","twitter.com"),ce(Ua,"TWITTER_SIGN_IN_METHOD","twitter.com");function VT(o,u){var f=o;if(I(f)||(f={oauthToken:o,oauthTokenSecret:u}),!f.oauthToken||!f.oauthTokenSecret)throw new R("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Li("twitter.com",f,"twitter.com")}function fo(o,u,f){this.a=o,this.f=u,ce(this,"providerId","password"),ce(this,"signInMethod",f===br.EMAIL_LINK_SIGN_IN_METHOD?br.EMAIL_LINK_SIGN_IN_METHOD:br.EMAIL_PASSWORD_SIGN_IN_METHOD)}fo.prototype.ka=function(o){return this.signInMethod==br.EMAIL_LINK_SIGN_IN_METHOD?je(o,iU,{email:this.a,oobCode:this.f}):je(o,pS,{email:this.a,password:this.f})},fo.prototype.b=function(o,u){return this.signInMethod==br.EMAIL_LINK_SIGN_IN_METHOD?je(o,oU,{idToken:u,email:this.a,oobCode:this.f}):je(o,dS,{idToken:u,email:this.a,password:this.f})},fo.prototype.c=function(o,u){return Fa(this.ka(o),u)},fo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function b2(o){return o&&o.email&&o.password?new fo(o.email,o.password,o.signInMethod):null}function br(){xn(this,{providerId:"password",isOAuthProvider:!1})}function BT(o,u){if(u=Qg(u),!u)throw new R("argument-error","Invalid email link!");return new fo(o,u.code,br.EMAIL_LINK_SIGN_IN_METHOD)}function Qg(o){return o=LT(o),(o=_T(o))&&o.operation===lh?o:null}xn(br,{PROVIDER_ID:"password"}),xn(br,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),xn(br,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function ho(o){if(!(o.fb&&o.eb||o.La&&o.ea))throw new R("internal-error");this.a=o,ce(this,"providerId","phone"),this.fa="phone",ce(this,"signInMethod","phone")}ho.prototype.ka=function(o){return o.gb(Pc(this))},ho.prototype.b=function(o,u){var f=Pc(this);return f.idToken=u,je(o,SU,f)},ho.prototype.c=function(o,u){var f=Pc(this);return f.operation="REAUTH",o=je(o,CU,f),Fa(o,u)},ho.prototype.w=function(){var o={providerId:"phone"};return this.a.fb&&(o.verificationId=this.a.fb),this.a.eb&&(o.verificationCode=this.a.eb),this.a.La&&(o.temporaryProof=this.a.La),this.a.ea&&(o.phoneNumber=this.a.ea),o};function E2(o){if(o&&o.providerId==="phone"&&(o.verificationId&&o.verificationCode||o.temporaryProof&&o.phoneNumber)){var u={};return Z(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(f){o[f]&&(u[f]=o[f])}),new ho(u)}return null}function Pc(o){return o.a.La&&o.a.ea?{temporaryProof:o.a.La,phoneNumber:o.a.ea}:{sessionInfo:o.a.fb,code:o.a.eb}}function Mi(o){try{this.a=o||le.auth()}catch{throw new R("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}xn(this,{providerId:"phone",isOAuthProvider:!1})}Mi.prototype.gb=function(o,u){var f=this.a.a;return ge(u.verify()).then(function(p){if(typeof p!="string")throw new R("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var m=I(o)?o.session:null,_=I(o)?o.phoneNumber:o,b;return m&&m.type==Nc?b=m.Ha().then(function(S){return Q2(f,{idToken:S,phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:p}})}):m&&m.type==mh?b=m.Ha().then(function(S){return Y2(f,{mfaPendingCredential:S,mfaEnrollmentId:o.multiFactorHint&&o.multiFactorHint.uid||o.multiFactorUid,phoneSignInInfo:{recaptchaToken:p}})}):b=z2(f,{phoneNumber:_,recaptchaToken:p}),b.then(function(S){return typeof u.reset=="function"&&u.reset(),S},function(S){throw typeof u.reset=="function"&&u.reset(),S});default:throw new R("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function qT(o,u){if(!o)throw new R("missing-verification-id");if(!u)throw new R("missing-verification-code");return new ho({fb:o,eb:u})}xn(Mi,{PROVIDER_ID:"phone"}),xn(Mi,{PHONE_SIGN_IN_METHOD:"phone"});function Yg(o){if(o.temporaryProof&&o.phoneNumber)return new ho({La:o.temporaryProof,ea:o.phoneNumber});var u=o&&o.providerId;if(!u||u==="password")return null;var f=o&&o.oauthAccessToken,p=o&&o.oauthTokenSecret,m=o&&o.nonce,_=o&&o.oauthIdToken,b=o&&o.pendingToken;try{switch(u){case"google.com":return jT(_,f);case"facebook.com":return FT(f);case"github.com":return UT(f);case"twitter.com":return VT(f,p);default:return f||p||_||b?b?u.indexOf("saml.")==0?new fs(u,b):new Li(u,{pendingToken:b,idToken:o.oauthIdToken,accessToken:o.oauthAccessToken},u):new sr(u).credential({idToken:_,accessToken:f,rawNonce:m}):null}}catch{return null}}function Xg(o){if(!o.isOAuthProvider)throw new R("invalid-oauth-provider")}function Br(o,u,f,p,m,_,b){if(this.c=o,this.b=u||null,this.g=f||null,this.f=p||null,this.i=_||null,this.h=b||null,this.a=m||null,this.g||this.a){if(this.g&&this.a)throw new R("invalid-auth-event");if(this.g&&!this.f)throw new R("invalid-auth-event")}else throw new R("invalid-auth-event")}Br.prototype.getUid=function(){var o=[];return o.push(this.c),this.b&&o.push(this.b),this.f&&o.push(this.f),this.h&&o.push(this.h),o.join("-")},Br.prototype.T=function(){return this.h},Br.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function HT(o){return o=o||{},o.type?new Br(o.type,o.eventId,o.urlResponse,o.sessionId,o.error&&Pe(o.error),o.postBody,o.tenantId):null}function I2(){this.b=null,this.a=[]}var Jg=null;function T2(o){var u=Jg;u.a.push(o),u.b||(u.b=function(f){for(var p=0;p<u.a.length;p++)u.a[p](f)},o=gt("universalLinks.subscribe",l),typeof o=="function"&&o(null,u.b))}function Zg(o){var u="unauthorized-domain",f=void 0,p=Qn(o);o=p.a,p=p.c,p=="chrome-extension"?f=dI("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):p=="http"||p=="https"?f=dI("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):u="operation-not-supported-in-this-environment",R.call(this,u,f)}M(Zg,R);function Oc(o,u,f){R.call(this,o,f),o=u||{},o.Kb&&ce(this,"email",o.Kb),o.ea&&ce(this,"phoneNumber",o.ea),o.credential&&ce(this,"credential",o.credential),o.$b&&ce(this,"tenantId",o.$b)}M(Oc,R),Oc.prototype.w=function(){var o={code:this.code,message:this.message};this.email&&(o.email=this.email),this.phoneNumber&&(o.phoneNumber=this.phoneNumber),this.tenantId&&(o.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&nn(o,u),o},Oc.prototype.toJSON=function(){return this.w()};function yh(o){if(o.code){var u=o.code||"";u.indexOf(oe)==0&&(u=u.substring(oe.length));var f={credential:Yg(o),$b:o.tenantId};if(o.email)f.Kb=o.email;else if(o.phoneNumber)f.ea=o.phoneNumber;else if(!f.credential)return new R(u,o.message||void 0);return new Oc(u,f,o.message)}return null}function xc(){}xc.prototype.c=null;function KT(o){return o.c||(o.c=o.b())}var em;function _h(){}M(_h,xc),_h.prototype.a=function(){var o=WT(this);return o?new ActiveXObject(o):new XMLHttpRequest},_h.prototype.b=function(){var o={};return WT(this)&&(o[0]=!0,o[1]=!0),o};function WT(o){if(!o.f&&typeof XMLHttpRequest=="undefined"&&typeof ActiveXObject!="undefined"){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],f=0;f<u.length;f++){var p=u[f];try{return new ActiveXObject(p),o.f=p}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return o.f}em=new _h;function wh(){}M(wh,xc),wh.prototype.a=function(){var o=new XMLHttpRequest;if("withCredentials"in o)return o;if(typeof XDomainRequest!="undefined")return new $T;throw Error("Unsupported browser")},wh.prototype.b=function(){return{}};function $T(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=F(this.qc,this),this.a.onerror=F(this.Tb,this),this.a.onprogress=F(this.rc,this),this.a.ontimeout=F(this.vc,this)}e=$T.prototype,e.open=function(o,u,f){if(f!=null&&!f)throw Error("Only async requests are supported.");this.a.open(o,u)},e.send=function(o){if(o)if(typeof o=="string")this.a.send(o);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(o){return o.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,tm(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",tm(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,tm(this,1)};function tm(o,u){o.readyState=u,o.onreadystatechange&&o.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function nm(o,u,f){this.reset(o,u,f,void 0,void 0)}nm.prototype.a=null,nm.prototype.reset=function(o,u,f,p,m){delete this.a};function rm(o){this.f=o,this.b=this.c=this.a=null}function Dc(o,u){this.name=o,this.value=u}Dc.prototype.toString=function(){return this.name};var GT=new Dc("SEVERE",1e3),im=new Dc("WARNING",900),S2=new Dc("CONFIG",700),C2=new Dc("FINE",500);function zT(o){return o.c?o.c:o.a?zT(o.a):(Wn("Root logger has no level set."),null)}rm.prototype.log=function(o,u,f){if(o.value>=zT(this).value)for(E(u)&&(u=u()),o=new nm(o,String(u),this.f),f&&(o.a=f),f=this;f;)f=f.a};var om={},bh=null;function sm(o){bh||(bh=new rm(""),om[""]=bh,bh.c=S2);var u;if(!(u=om[o])){u=new rm(o);var f=o.lastIndexOf("."),p=o.substr(f+1);f=sm(o.substr(0,f)),f.b||(f.b={}),f.b[p]=u,u.a=f,om[o]=u}return u}function Er(o,u){o&&o.log(C2,u,void 0)}function Eh(o){this.f=o}M(Eh,xc),Eh.prototype.a=function(){return new Ih(this.f)},Eh.prototype.b=function(o){return function(){return o}}({});function Ih(o){On.call(this),this.u=o,this.h=void 0,this.readyState=am,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=sm("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}M(Ih,On);var am=0;e=Ih.prototype,e.open=function(o,u){if(this.readyState!=am)throw this.abort(),Error("Error reopening a connection");this.s=o,this.f=u,this.readyState=1,Mc(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};o&&(u.body=o),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Lc(this)),this.readyState=am},e.uc=function(o){this.a&&(this.g=o,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=o.headers,this.readyState=2,Mc(this)),this.a&&(this.readyState=3,Mc(this),this.a&&(this.responseType==="arraybuffer"?o.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof l.ReadableStream!="undefined"&&"body"in o?(this.response=this.responseText="",this.c=o.body.getReader(),this.m=new TextDecoder,QT(this)):o.text().then(this.tc.bind(this),this.Va.bind(this)))))};function QT(o){o.c.read().then(o.pc.bind(o)).catch(o.Va.bind(o))}e.pc=function(o){if(this.a){var u=this.m.decode(o.value?o.value:new Uint8Array(0),{stream:!o.done});u&&(this.response=this.responseText+=u),o.done?Lc(this):Mc(this),this.readyState==3&&QT(this)}},e.tc=function(o){this.a&&(this.response=this.responseText=o,Lc(this))},e.sc=function(o){this.a&&(this.response=o,Lc(this))},e.Va=function(o){var u=this.i;u&&u.log(im,"Failed to fetch url "+this.f,o instanceof Error?o:Error(o)),this.a&&Lc(this)};function Lc(o){o.readyState=4,o.g=null,o.c=null,o.m=null,Mc(o)}e.setRequestHeader=function(o,u){this.l.append(o,u)},e.getResponseHeader=function(o){return this.b?this.b.get(o.toLowerCase())||"":((o=this.i)&&o.log(im,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var o=this.i;return o&&o.log(im,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}o=[];for(var u=this.b.entries(),f=u.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=u.next();return o.join(`\r
`)};function Mc(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Ih.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(o){this.h=o?"include":"same-origin"}});function Fc(o){On.call(this),this.headers=new Na,this.D=o||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=YT,this.u=this.S=!1}M(Fc,On);var YT="";Fc.prototype.b=sm("goog.net.XhrIo");var A2=/^https?$/i,k2=["POST","PUT"];function R2(o,u,f,p,m){if(o.a)throw Error("[goog.net.XhrIo] Object is active with another request="+o.l+"; newUri="+u);f=f?f.toUpperCase():"GET",o.l=u,o.h="",o.P=f,o.J=!1,o.c=!0,o.a=o.D?o.D.a():em.a(),o.C=o.D?KT(o.D):KT(em),o.a.onreadystatechange=F(o.Wb,o);try{Er(o.b,Fi(o,"Opening Xhr")),o.N=!0,o.a.open(f,String(u),!0),o.N=!1}catch(b){Er(o.b,Fi(o,"Error opening Xhr: "+b.message)),XT(o,b);return}u=p||"";var _=new Na(o.headers);m&&LF(m,function(b,S){_.set(S,b)}),m=P(_.Y()),p=l.FormData&&u instanceof l.FormData,!D(k2,f)||m||p||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),_.forEach(function(b,S){this.a.setRequestHeader(S,b)},o),o.m&&(o.a.responseType=o.m),"withCredentials"in o.a&&o.a.withCredentials!==o.S&&(o.a.withCredentials=o.S);try{eS(o),0<o.g&&(o.u=N2(o.a),Er(o.b,Fi(o,"Will abort after "+o.g+"ms if incomplete, xhr2 "+o.u)),o.u?(o.a.timeout=o.g,o.a.ontimeout=F(o.Ma,o)):o.s=wg(o.Ma,o.g,o)),Er(o.b,Fi(o,"Sending request")),o.i=!0,o.a.send(u),o.i=!1}catch(b){Er(o.b,Fi(o,"Send error: "+b.message)),XT(o,b)}}function N2(o){return jr&&mI(9)&&typeof o.timeout=="number"&&o.ontimeout!==void 0}function P2(o){return o.toLowerCase()=="content-type"}e=Fc.prototype,e.Ma=function(){typeof c!="undefined"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Er(this.b,Fi(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function XT(o,u){o.c=!1,o.a&&(o.f=!0,o.a.abort(),o.f=!1),o.h=u,JT(o),Th(o)}function JT(o){o.J||(o.J=!0,o.dispatchEvent("complete"),o.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(Er(this.b,Fi(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Th(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Th(this,!0)),Fc.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?ZT(this):this.Jc())},e.Jc=function(){ZT(this)};function ZT(o){if(o.c&&typeof c!="undefined"){if(o.C[1]&&Uc(o)==4&&Sh(o)==2)Er(o.b,Fi(o,"Local request error detected and ignored"));else if(o.i&&Uc(o)==4)wg(o.Wb,0,o);else if(o.dispatchEvent("readystatechange"),Uc(o)==4){Er(o.b,Fi(o,"Request complete")),o.c=!1;try{var u=Sh(o);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var p;if(!(p=f)){var m;if(m=u===0){var _=String(o.l).match($I)[1]||null;if(!_&&l.self&&l.self.location){var b=l.self.location.protocol;_=b.substr(0,b.length-1)}m=!A2.test(_?_.toLowerCase():"")}p=m}if(p)o.dispatchEvent("complete"),o.dispatchEvent("success");else{try{var S=2<Uc(o)?o.a.statusText:""}catch(U){Er(o.b,"Can not get status: "+U.message),S=""}o.h=S+" ["+Sh(o)+"]",JT(o)}}finally{Th(o)}}}}function Th(o,u){if(o.a){eS(o);var f=o.a,p=o.C[0]?g:null;o.a=null,o.C=null,u||o.dispatchEvent("ready");try{f.onreadystatechange=p}catch(m){(o=o.b)&&o.log(GT,"Problem encountered resetting onreadystatechange: "+m.message,void 0)}}}function eS(o){o.a&&o.u&&(o.a.ontimeout=null),o.s&&(l.clearTimeout(o.s),o.s=null)}function Uc(o){return o.a?o.a.readyState:0}function Sh(o){try{return 2<Uc(o)?o.a.status:-1}catch{return-1}}function O2(o){try{return o.a?o.a.responseText:""}catch(u){return Er(o.b,"Can not get responseText: "+u.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case YT:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var o=this.b;return o&&o.log(GT,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return Er(this.b,"Can not get response: "+u.message),null}};function Fi(o,u){return u+" ["+o.P+" "+o.l+" "+Sh(o)+"]"}function gs(o){var u=L2;this.g=[],this.u=u,this.s=o||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}gs.prototype.cancel=function(o){if(this.a)this.c instanceof gs&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,o?u.cancel(o):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(o=new Vc,Ch(this),jc(this,!1,o))}},gs.prototype.m=function(o,u){this.i=!1,jc(this,o,u)};function jc(o,u,f){o.a=!0,o.c=f,o.f=!u,nS(o)}function Ch(o){if(o.a){if(!o.v)throw new Ah;o.v=!1}}function x2(o,u){um(o,null,u,void 0)}function um(o,u,f,p){o.g.push([u,f,p]),o.a&&nS(o)}gs.prototype.then=function(o,u,f){var p,m,_=new Ue(function(b,S){p=b,m=S});return um(this,p,function(b){b instanceof Vc?_.cancel():m(b)}),_.then(o,u,f)},gs.prototype.$goog_Thenable=!0;function tS(o){return T(o.g,function(u){return E(u[1])})}function nS(o){if(o.h&&o.a&&tS(o)){var u=o.h,f=kh[u];f&&(l.clearTimeout(f.a),delete kh[u]),o.h=0}o.b&&(o.b.l--,delete o.b),u=o.c;for(var p=f=!1;o.g.length&&!o.i;){var m=o.g.shift(),_=m[0],b=m[1];if(m=m[2],_=o.f?b:_)try{var S=_.call(m||o.s,u);S!==void 0&&(o.f=o.f&&(S==u||S instanceof Error),o.c=u=S),(et(u)||typeof l.Promise=="function"&&u instanceof l.Promise)&&(p=!0,o.i=!0)}catch(U){u=U,o.f=!0,tS(o)||(f=!0)}}o.c=u,p&&(S=F(o.m,o,!0),p=F(o.m,o,!1),u instanceof gs?(um(u,S,p),u.C=!0):u.then(S,p)),f&&(u=new rS(u),kh[u.a]=u,o.h=u.a)}function Ah(){Ae.call(this)}M(Ah,Ae),Ah.prototype.message="Deferred has already fired",Ah.prototype.name="AlreadyCalledError";function Vc(){Ae.call(this)}M(Vc,Ae),Vc.prototype.message="Deferred was canceled",Vc.prototype.name="CanceledError";function rS(o){this.a=l.setTimeout(F(this.c,this),0),this.b=o}rS.prototype.c=function(){throw delete kh[this.a],this.b};var kh={};function cm(o){var u={},f=u.document||document,p=oI(o).toString(),m=Zf(document,"SCRIPT"),_={Xb:m,Ma:void 0},b=new gs(_),S=null,U=u.timeout!=null?u.timeout:5e3;return 0<U&&(S=window.setTimeout(function(){Rh(m,!0);var H=new lm(F2,"Timeout reached for loading script "+p);Ch(b),jc(b,!1,H)},U),_.Ma=S),m.onload=m.onreadystatechange=function(){m.readyState&&m.readyState!="loaded"&&m.readyState!="complete"||(Rh(m,u.xd||!1,S),Ch(b),jc(b,!0,null))},m.onerror=function(){Rh(m,!0,S);var H=new lm(M2,"Error while loading script "+p);Ch(b),jc(b,!1,H)},_=u.attributes||{},nn(_,{type:"text/javascript",charset:"UTF-8"}),_I(m,_),hF(m,o),D2(f).appendChild(m),b}function D2(o){var u;return(u=(o||document).getElementsByTagName("HEAD"))&&u.length!=0?u[0]:o.documentElement}function L2(){if(this&&this.Xb){var o=this.Xb;o&&o.tagName=="SCRIPT"&&Rh(o,!0,this.Ma)}}function Rh(o,u,f){f!=null&&l.clearTimeout(f),o.onload=g,o.onerror=g,o.onreadystatechange=g,u&&window.setTimeout(function(){o&&o.parentNode&&o.parentNode.removeChild(o)},0)}var M2=0,F2=1;function lm(o,u){var f="Jsloader error (code #"+o+")";u&&(f+=": "+u),Ae.call(this,f),this.code=o}M(lm,Ae);function Nh(o){this.f=o}M(Nh,xc),Nh.prototype.a=function(){return new this.f},Nh.prototype.b=function(){return{}};function qr(o,u,f){if(this.c=o,o=u||{},this.l=o.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=o.secureTokenTimeout||U2,this.g=It(o.secureTokenHeaders||j2),this.h=o.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=o.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=o.firebaseTimeout||V2,this.a=It(o.firebaseHeaders||B2),f&&(this.a["X-Client-Version"]=f,this.g["X-Client-Version"]=f),f=ci()=="Node",f=l.XMLHttpRequest||f&&le.INTERNAL.node&&le.INTERNAL.node.XMLHttpRequest,!f&&!Vr())throw new R("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Vr()?this.f=new Eh(self):iT()?this.f=new Nh(f):this.f=new wh,this.b=null}var fm,Hr="idToken",U2=new lo(3e4,6e4),j2={"Content-Type":"application/x-www-form-urlencoded"},V2=new lo(3e4,6e4),B2={"Content-Type":"application/json"};function iS(o,u){u?o.a["X-Firebase-Locale"]=u:delete o.a["X-Firebase-Locale"]}function Ph(o,u){u&&(o.l=hm("https://securetoken.googleapis.com/v1/token",u),o.h=hm("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),o.i=hm("https://identitytoolkit.googleapis.com/v2/",u))}function hm(o,u){return o=Qn(o),u=Qn(u.url),o.f=o.a+o.f,_c(o,u.c),o.a=u.a,wc(o,u.g),o.toString()}function oS(o,u){u?(o.a["X-Client-Version"]=u,o.g["X-Client-Version"]=u):(delete o.a["X-Client-Version"],delete o.g["X-Client-Version"])}qr.prototype.T=function(){return this.b};function sS(o,u,f,p,m,_,b){WF()||Vr()?o=F(o.u,o):(fm||(fm=new Ue(function(S,U){H2(S,U)})),o=F(o.s,o)),o(u,f,p,m,_,b)}qr.prototype.u=function(o,u,f,p,m,_){if(Vr()&&(typeof l.fetch=="undefined"||typeof l.Headers=="undefined"||typeof l.Request=="undefined"))throw new R("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var b=new Fc(this.f);if(_){b.g=Math.max(0,_);var S=setTimeout(function(){b.dispatchEvent("timeout")},_)}HI(b,"complete",function(){S&&clearTimeout(S);var U=null;try{U=JSON.parse(O2(this))||null}catch{U=null}u&&u(U)}),_g(b,"ready",function(){S&&clearTimeout(S),MI(this)}),_g(b,"timeout",function(){S&&clearTimeout(S),MI(this),u&&u(null)}),R2(b,o,f,p,m)};var q2=new ai(Qf,"https://apis.google.com/js/client.js?onload=%{onload}"),aS="__fcb"+Math.floor(1e6*Math.random()).toString();function H2(o,u){if(((window.gapi||{}).client||{}).request)o();else{l[aS]=function(){((window.gapi||{}).client||{}).request?o():u(Error("CORS_UNSUPPORTED"))};var f=tg(q2,{onload:aS});x2(cm(f),function(){u(Error("CORS_UNSUPPORTED"))})}}qr.prototype.s=function(o,u,f,p,m){var _=this;fm.then(function(){window.gapi.client.setApiKey(_.c);var b=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:o,method:f,body:p,headers:m,authType:"none",callback:function(S){window.gapi.auth.setToken(b),u&&u(S)}})}).o(function(b){u&&u({error:{message:b&&b.message||"CORS_UNSUPPORTED"}})})};function K2(o,u){return new Ue(function(f,p){u.grant_type=="refresh_token"&&u.refresh_token||u.grant_type=="authorization_code"&&u.code?sS(o,o.l+"?key="+encodeURIComponent(o.c),function(m){m?m.error?p(wm(m)):m.access_token&&m.refresh_token?f(m):p(new R("internal-error")):p(new R("network-request-failed"))},"POST",zI(u).toString(),o.g,o.m.get()):p(new R("internal-error"))})}function uS(o,u,f,p,m,_,b){var S=Qn(u+f);At(S,"key",o.c),b&&At(S,"cb",Date.now().toString());var U=p=="GET";if(U)for(var H in m)m.hasOwnProperty(H)&&At(S,H,m[H]);return new Ue(function(Ie,tt){sS(o,S.toString(),function(Ge){Ge?Ge.error?tt(wm(Ge,_||{})):Ie(Ge):tt(new R("network-request-failed"))},p,U?void 0:XI(aT(m)),o.a,o.v.get())})}function ms(o){if(o=o.email,typeof o!="string"||!zF.test(o))throw new R("invalid-email")}function cS(o){"email"in o&&ms(o)}function W2(o,u){return je(o,tU,{identifier:u,continueUri:ch()?Ic():"http://localhost"}).then(function(f){return f.signinMethods||[]})}function $2(o){return je(o,dU,{}).then(function(u){return u.authorizedDomains||[]})}function Yn(o){if(!o[Hr])throw o.mfaPendingCredential?new R("multi-factor-auth-required",null,It(o)):new R("internal-error")}function dm(o){if(o.phoneNumber||o.temporaryProof){if(!o.phoneNumber||!o.temporaryProof)throw new R("internal-error")}else{if(!o.sessionInfo)throw new R("missing-verification-id");if(!o.code)throw new R("missing-verification-code")}}qr.prototype.Ab=function(){return je(this,mU,{})},qr.prototype.Cb=function(o,u){return je(this,hS,{idToken:o,email:u})},qr.prototype.Db=function(o,u){return je(this,dS,{idToken:o,password:u})};var G2={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=qr.prototype,e.Eb=function(o,u){var f={idToken:o},p=[];return so(G2,function(m,_){var b=u[_];b===null?p.push(m):_ in u&&(f[_]=b)}),p.length&&(f.deleteAttribute=p),je(this,hS,f)},e.wb=function(o,u){return o={requestType:"PASSWORD_RESET",email:o},nn(o,u),je(this,hU,o)},e.xb=function(o,u){return o={requestType:"EMAIL_SIGNIN",email:o},nn(o,u),je(this,cU,o)},e.vb=function(o,u){return o={requestType:"VERIFY_EMAIL",idToken:o},nn(o,u),je(this,lU,o)},e.Fb=function(o,u,f){return o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:u},nn(o,f),je(this,fU,o)};function z2(o,u){return je(o,gU,u)}e.gb=function(o){return je(this,TU,o)};function Q2(o,u){return je(o,yU,u).then(function(f){return f.phoneSessionInfo.sessionInfo})}function lS(o){if(!o.phoneVerificationInfo)throw new R("internal-error");if(!o.phoneVerificationInfo.sessionInfo)throw new R("missing-verification-id");if(!o.phoneVerificationInfo.code)throw new R("missing-verification-code")}function Y2(o,u){return je(o,_U,u).then(function(f){return f.phoneResponseInfo.sessionInfo})}function X2(o,u,f){return je(o,rU,{idToken:u,deleteProvider:f})}function pm(o){if(!o.requestUri||!o.sessionId&&!o.postBody&&!o.pendingToken)throw new R("internal-error")}function vm(o,u){return u.oauthIdToken&&u.providerId&&u.providerId.indexOf("oidc.")==0&&!u.pendingToken&&(o.sessionId?u.nonce=o.sessionId:o.postBody&&(o=new as(o.postBody),Ig(o,"nonce")&&(u.nonce=o.get("nonce")))),u}function fS(o){var u=null;if(o.needConfirmation?(o.code="account-exists-with-different-credential",u=yh(o)):o.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(o.code="credential-already-in-use",u=yh(o)):o.errorMessage=="EMAIL_EXISTS"?(o.code="email-already-in-use",u=yh(o)):o.errorMessage&&(u=vS(o.errorMessage)),u)throw u;Yn(o)}function gm(o,u){return u.returnIdpCredential=!0,je(o,wU,u)}function mm(o,u){return u.returnIdpCredential=!0,je(o,EU,u)}function ym(o,u){return u.returnIdpCredential=!0,u.autoCreate=!1,je(o,bU,u)}function _m(o){if(!o.oobCode)throw new R("invalid-action-code")}e.ob=function(o,u){return je(this,vU,{oobCode:o,newPassword:u})},e.Sa=function(o){return je(this,Z2,{oobCode:o})},e.kb=function(o){return je(this,J2,{oobCode:o})};var J2={endpoint:"setAccountInfo",A:_m,Z:"email",B:!0},Z2={endpoint:"resetPassword",A:_m,G:function(o){var u=o.requestType;if(!u||!o.email&&u!="EMAIL_SIGNIN"&&u!="VERIFY_AND_CHANGE_EMAIL")throw new R("internal-error")},B:!0},eU={endpoint:"signupNewUser",A:function(o){if(ms(o),!o.password)throw new R("weak-password")},G:Yn,V:!0,B:!0},tU={endpoint:"createAuthUri",B:!0},nU={endpoint:"deleteAccount",O:["idToken"]},rU={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(o){if(!Array.isArray(o.deleteProvider))throw new R("internal-error")}},iU={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ms,G:Yn,V:!0,B:!0},oU={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ms,G:Yn,V:!0},sU={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:lS,G:Yn,B:!0,Na:!0},aU={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:lS,G:Yn,B:!0,Na:!0},uU={endpoint:"getAccountInfo"},cU={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(o){if(o.requestType!="EMAIL_SIGNIN")throw new R("internal-error");ms(o)},Z:"email",B:!0},lU={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(o){if(o.requestType!="VERIFY_EMAIL")throw new R("internal-error")},Z:"email",B:!0},fU={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(o){if(o.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new R("internal-error")},Z:"email",B:!0},hU={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(o){if(o.requestType!="PASSWORD_RESET")throw new R("internal-error");ms(o)},Z:"email",B:!0},dU={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},pU={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(o){if(!o.recaptchaSiteKey)throw new R("internal-error")}},vU={endpoint:"resetPassword",A:_m,Z:"email",B:!0},gU={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},hS={endpoint:"setAccountInfo",O:["idToken"],A:cS,V:!0},dS={endpoint:"setAccountInfo",O:["idToken"],A:function(o){if(cS(o),!o.password)throw new R("weak-password")},G:Yn,V:!0},mU={endpoint:"signupNewUser",G:Yn,V:!0,B:!0},yU={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(o){if(!o.phoneEnrollmentInfo)throw new R("internal-error");if(!o.phoneEnrollmentInfo.phoneNumber)throw new R("missing-phone-number");if(!o.phoneEnrollmentInfo.recaptchaToken)throw new R("missing-app-credential")},G:function(o){if(!o.phoneSessionInfo||!o.phoneSessionInfo.sessionInfo)throw new R("internal-error")},B:!0,Na:!0},_U={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(o){if(!o.phoneSignInInfo||!o.phoneSignInInfo.recaptchaToken)throw new R("missing-app-credential")},G:function(o){if(!o.phoneResponseInfo||!o.phoneResponseInfo.sessionInfo)throw new R("internal-error")},B:!0,Na:!0},wU={endpoint:"verifyAssertion",A:pm,Za:vm,G:fS,V:!0,B:!0},bU={endpoint:"verifyAssertion",A:pm,Za:vm,G:function(o){if(o.errorMessage&&o.errorMessage=="USER_NOT_FOUND")throw new R("user-not-found");if(o.errorMessage)throw vS(o.errorMessage);Yn(o)},V:!0,B:!0},EU={endpoint:"verifyAssertion",A:function(o){if(pm(o),!o.idToken)throw new R("internal-error")},Za:vm,G:fS,V:!0},IU={endpoint:"verifyCustomToken",A:function(o){if(!o.token)throw new R("invalid-custom-token")},G:Yn,V:!0,B:!0},pS={endpoint:"verifyPassword",A:function(o){if(ms(o),!o.password)throw new R("wrong-password")},G:Yn,V:!0,B:!0},TU={endpoint:"verifyPhoneNumber",A:dm,G:Yn,B:!0},SU={endpoint:"verifyPhoneNumber",A:function(o){if(!o.idToken)throw new R("internal-error");dm(o)},G:function(o){if(o.temporaryProof)throw o.code="credential-already-in-use",yh(o);Yn(o)}},CU={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:dm,G:Yn,B:!0},AU={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(o){if(!!o[Hr]^!!o.refreshToken)throw new R("internal-error")},B:!0,Na:!0};function je(o,u,f){if(!t2(f,u.O))return vt(new R("internal-error"));var p=!!u.Na,m=u.Vb||"POST",_;return ge(f).then(u.A).then(function(){return u.V&&(f.returnSecureToken=!0),u.B&&o.b&&typeof f.tenantId=="undefined"&&(f.tenantId=o.b),p?uS(o,o.i,u.endpoint,m,f,u.Ib,u.mb||!1):uS(o,o.h,u.endpoint,m,f,u.Ib,u.mb||!1)}).then(function(b){return _=b,u.Za?u.Za(f,_):_}).then(u.G).then(function(){if(!u.Z)return _;if(!(u.Z in _))throw new R("internal-error");return _[u.Z]})}function vS(o){return wm({error:{errors:[{message:o}],code:400,message:o}})}function wm(o,u){var f=(o.error&&o.error.errors&&o.error.errors[0]||{}).reason||"",p={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(f=p[f]?new R(p[f]):null)return f;f=o.error&&o.error.message||"",p={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},nn(p,u||{}),u=(u=f.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0;for(var m in p)if(f.indexOf(m)===0)return new R(p[m],u);return!u&&o&&(u=Sc(o)),new R("internal-error",u)}function kU(o){this.b=o,this.a=null,this.sb=RU(this)}function RU(o){return LU().then(function(){return new Ue(function(u,f){gt("gapi.iframes.getContext")().open({where:document.body,url:o.b,messageHandlersFilter:gt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(p){function m(){clearTimeout(_),u()}o.a=p,o.a.restyle({setHideOnLeave:!1});var _=setTimeout(function(){f(Error("Network Error"))},DU.get());p.ping(m).then(m,function(){f(Error("Network Error"))})})})})}function NU(o,u){return o.sb.then(function(){return new Ue(function(f){o.a.send(u.type,u,f,gt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function PU(o,u){o.sb.then(function(){o.a.register("authEvent",u,gt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var OU=new ai(Qf,"https://apis.google.com/js/api.js?onload=%{onload}"),xU=new lo(3e4,6e4),DU=new lo(5e3,15e3),Oh=null;function LU(){return Oh||(Oh=new Ue(function(o,u){function f(){cT(),gt("gapi.load")("gapi.iframes",{callback:o,ontimeout:function(){cT(),u(Error("Network Error"))},timeout:xU.get()})}if(gt("gapi.iframes.Iframe"))o();else if(gt("gapi.load"))f();else{var p="__iframefcb"+Math.floor(1e6*Math.random()).toString();l[p]=function(){gt("gapi.load")?f():u(Error("Network Error"))},p=tg(OU,{onload:p}),ge(cm(p)).o(function(){u(Error("Network Error"))})}}).o(function(o){throw Oh=null,o}))}function gS(o,u,f,p){this.l=o,this.h=u,this.i=f,this.g=p,this.f=null,this.g?(o=Qn(this.g.url),o=ah(o.c,o.a,o.g,"/emulator/auth/iframe")):o=ah("https",this.l,null,"/__/auth/iframe"),this.a=o,At(this.a,"apiKey",this.h),At(this.a,"appName",this.i),this.b=null,this.c=[]}gS.prototype.toString=function(){return this.f?At(this.a,"v",this.f):ui(this.a.b,"v"),this.b?At(this.a,"eid",this.b):ui(this.a.b,"eid"),this.c.length?At(this.a,"fw",this.c.join(",")):ui(this.a.b,"fw"),this.a.toString()};function bm(o,u,f,p,m,_){this.u=o,this.s=u,this.c=f,this.m=p,this.v=_,this.i=this.g=this.l=null,this.a=m,this.h=this.f=null}bm.prototype.zb=function(o){return this.h=o,this},bm.prototype.toString=function(){if(this.v){var o=Qn(this.v.url);o=ah(o.c,o.a,o.g,"/emulator/auth/handler")}else o=ah("https",this.u,null,"/__/auth/handler");if(At(o,"apiKey",this.s),At(o,"appName",this.c),At(o,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var f=le.app(this.c).auth().la()}catch{f=null}u.pb=f,At(o,"providerId",this.a.providerId),f=this.a,u=aT(f.Jb);for(var p in u)u[p]=u[p].toString();p=f.Qc,u=It(u);for(var m=0;m<p.length;m++){var _=p[m];_ in u&&delete u[_]}f.qb&&f.pb&&!u[f.qb]&&(u[f.qb]=f.pb),si(u)||At(o,"customParameters",Sc(u))}if(typeof this.a.Rb=="function"&&(f=this.a.Rb(),f.length&&At(o,"scopes",f.join(","))),this.l?At(o,"redirectUrl",this.l):ui(o.b,"redirectUrl"),this.g?At(o,"eventId",this.g):ui(o.b,"eventId"),this.i?At(o,"v",this.i):ui(o.b,"v"),this.b)for(var b in this.b)this.b.hasOwnProperty(b)&&!wr(o,b)&&At(o,b,this.b[b]);return this.h?At(o,"tid",this.h):ui(o.b,"tid"),this.f?At(o,"eid",this.f):ui(o.b,"eid"),b=Em(this.c),b.length&&At(o,"fw",b.join(",")),o.toString()};function Em(o){try{return le.app(o).auth().Ga()}catch{return[]}}function mS(o,u,f,p,m,_){this.s=o,this.g=u,this.b=f,this.f=_,this.c=p||null,this.i=m||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function yS(o){var u=Ic();return $2(o).then(function(f){e:{var p=Qn(u),m=p.c;p=p.a;for(var _=0;_<f.length;_++){var b=f[_],S=p,U=m;if(b.indexOf("chrome-extension://")==0?S=Qn(b).a==S&&U=="chrome-extension":U!="http"&&U!="https"?S=!1:GF.test(b)?S=S==b:(b=b.split(".").join("\\."),S=new RegExp("^(.+\\."+b+"|"+b+")$","i").test(S)),S){f=!0;break e}}f=!1}if(!f)throw new Zg(Ic())})}function _S(o){return o.m||(o.m=uh().then(function(){if(!o.u){var u=o.c,f=o.i,p=Em(o.b),m=new gS(o.s,o.g,o.b,o.f);m.f=u,m.b=f,m.c=ee(p||[]),o.u=m.toString()}o.v=new kU(o.u),MU(o)})),o.m}e=mS.prototype,e.Pb=function(o,u,f){var p=new R("popup-closed-by-user"),m=new R("web-storage-unsupported"),_=this,b=!1;return this.ma().then(function(){FU(_).then(function(S){S||(o&&us(o),u(m),b=!0)})}).o(function(){}).then(function(){if(!b)return $F(o)}).then(function(){if(!b)return Ra(f).then(function(){u(p)})})},e.Yb=function(){var o=rn();return!Tc(o)&&!uT(o)},e.Ub=function(){return!1},e.Nb=function(o,u,f,p,m,_,b,S){if(!o)return vt(new R("popup-blocked"));if(b&&!Tc())return this.ma().o(function(H){us(o),m(H)}),p(),ge();this.a||(this.a=yS(wS(this)));var U=this;return this.a.then(function(){var H=U.ma().o(function(Ie){throw us(o),m(Ie),Ie});return p(),H}).then(function(){if(Xg(f),!b){var H=Bc(U.s,U.g,U.b,u,f,null,_,U.c,void 0,U.i,S,U.f);eT(H,o)}}).o(function(H){throw H.code=="auth/network-request-failed"&&(U.a=null),H})};function wS(o){return o.l||(o.C=o.c?xa(o.c,Em(o.b)):null,o.l=new qr(o.g,at(o.i),o.C),o.f&&Ph(o.l,o.f)),o.l}e.Ob=function(o,u,f,p){this.a||(this.a=yS(wS(this)));var m=this;return this.a.then(function(){Xg(u);var _=Bc(m.s,m.g,m.b,o,u,Ic(),f,m.c,void 0,m.i,p,m.f);eT(_)}).o(function(_){throw _.code=="auth/network-request-failed"&&(m.a=null),_})},e.ma=function(){var o=this;return _S(this).then(function(){return o.v.sb}).o(function(){throw o.a=null,new R("network-request-failed")})},e.ac=function(){return!0};function Bc(o,u,f,p,m,_,b,S,U,H,Ie,tt){return o=new bm(o,u,f,p,m,tt),o.l=_,o.g=b,o.i=S,o.b=It(U||null),o.f=H,o.zb(Ie).toString()}function MU(o){if(!o.v)throw Error("IfcHandler must be initialized!");PU(o.v,function(u){var f={};if(u&&u.authEvent){var p=!1;for(u=HT(u.authEvent),f=0;f<o.h.length;f++)p=o.h[f](u)||p;return f={},f.status=p?"ACK":"ERROR",ge(f)}return f.status="ERROR",ge(f)})}function FU(o){var u={type:"webStorageSupport"};return _S(o).then(function(){return NU(o.v,u)}).then(function(f){if(f&&f.length&&typeof f[0].webStorageSupport!="undefined")return f[0].webStorageSupport;throw Error()})}e.Ea=function(o){this.h.push(o)},e.Ta=function(o){B(this.h,function(u){return u==o})};function bS(o){if(this.a=o||le.INTERNAL.reactNative&&le.INTERNAL.reactNative.AsyncStorage,!this.a)throw new R("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=bS.prototype,e.get=function(o){return ge(this.a.getItem(o)).then(function(u){return u&&La(u)})},e.set=function(o,u){return ge(this.a.setItem(o,Sc(u)))},e.U=function(o){return ge(this.a.removeItem(o))},e.ca=function(){},e.ia=function(){};function ES(o){this.b=o,this.a={},this.f=F(this.c,this)}var IS=[];function UU(){var o=Vr()?self:null;if(Z(IS,function(f){f.b==o&&(u=f)}),!u){var u=new ES(o);IS.push(u)}return u}ES.prototype.c=function(o){var u=o.data.eventType,f=o.data.eventId,p=this.a[u];if(p&&0<p.length){o.ports[0].postMessage({status:"ack",eventId:f,eventType:u,response:null});var m=[];Z(p,function(_){m.push(ge().then(function(){return _(o.origin,o.data.data)}))}),AI(m).then(function(_){var b=[];Z(_,function(S){b.push({fulfilled:S.Qb,value:S.value,reason:S.reason?S.reason.message:void 0})}),Z(b,function(S){for(var U in S)typeof S[U]=="undefined"&&delete S[U]}),o.ports[0].postMessage({status:"done",eventId:f,eventType:u,response:b})})}};function TS(o,u,f){si(o.a)&&o.b.addEventListener("message",o.f),typeof o.a[u]=="undefined"&&(o.a[u]=[]),o.a[u].push(f)}function SS(o){this.a=o}SS.prototype.postMessage=function(o,u){this.a.postMessage(o,u)};function CS(o){this.c=o,this.b=!1,this.a=[]}function AS(o,u,f,p){var m,_=f||{},b,S,U,H=null;if(o.b)return vt(Error("connection_unavailable"));var Ie=p?800:50,tt=typeof MessageChannel!="undefined"?new MessageChannel:null;return new Ue(function(Ge,$t){tt?(m=Math.floor(Math.random()*Math.pow(10,20)).toString(),tt.port1.start(),S=setTimeout(function(){$t(Error("unsupported_event"))},Ie),b=function(Ui){Ui.data.eventId===m&&(Ui.data.status==="ack"?(clearTimeout(S),U=setTimeout(function(){$t(Error("timeout"))},3e3)):Ui.data.status==="done"?(clearTimeout(U),typeof Ui.data.response!="undefined"?Ge(Ui.data.response):$t(Error("unknown_error"))):(clearTimeout(S),clearTimeout(U),$t(Error("invalid_response"))))},H={messageChannel:tt,onMessage:b},o.a.push(H),tt.port1.addEventListener("message",b),o.c.postMessage({eventType:u,eventId:m,data:_},[tt.port2])):$t(Error("connection_unavailable"))}).then(function(Ge){return Im(o,H),Ge}).o(function(Ge){throw Im(o,H),Ge})}function Im(o,u){if(u){var f=u.messageChannel,p=u.onMessage;f&&(f.port1.removeEventListener("message",p),f.port1.close()),B(o.a,function(m){return m==u})}}CS.prototype.close=function(){for(;0<this.a.length;)Im(this,this.a[0]);this.b=!0};function kS(){if(!Cm())throw new R("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=l.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var o=this;Vr()&&self?(this.v=UU(),TS(this.v,"keyChanged",function(u,f){return PS(o).then(function(p){return 0<p.length&&Z(o.a,function(m){m(p)}),{keyProcessed:D(p,f.key)}})}),TS(this.v,"ping",function(){return ge(["keyChanged"])})):ZF().then(function(u){(o.h=u)&&(o.g=new CS(new SS(u)),AS(o.g,"ping",null,!0).then(function(f){f[0].fulfilled&&D(f[0].value,"keyChanged")&&(o.s=!0)}).o(function(){}))})}var Tm;function jU(o){return new Ue(function(u,f){var p=o.m.deleteDatabase("firebaseLocalStorageDb");p.onsuccess=function(){u()},p.onerror=function(m){f(Error(m.target.error))}})}function RS(o){return new Ue(function(u,f){var p=o.m.open("firebaseLocalStorageDb",1);p.onerror=function(m){try{m.preventDefault()}catch{}f(Error(m.target.error))},p.onupgradeneeded=function(m){m=m.target.result;try{m.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(_){f(_)}},p.onsuccess=function(m){m=m.target.result,m.objectStoreNames.contains("firebaseLocalStorage")?u(m):jU(o).then(function(){return RS(o)}).then(function(_){u(_)}).o(function(_){f(_)})}})}function Sm(o){return o.i||(o.i=RS(o)),o.i}function xh(o,u){function f(m,_){Sm(o).then(u).then(m).o(function(b){if(3<++p)_(b);else return Sm(o).then(function(S){return S.close(),o.i=void 0,f(m,_)}).o(function(S){_(S)})})}var p=0;return new Ue(f)}function Cm(){try{return!!l.indexedDB}catch{return!1}}function qc(o){return o.objectStore("firebaseLocalStorage")}function Hc(o,u){return o.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function ja(o){return new Ue(function(u,f){o.onsuccess=function(p){p&&p.target?u(p.target.result):u()},o.onerror=function(p){f(p.target.error)}})}e=kS.prototype,e.set=function(o,u){var f=this,p=!1;return xh(this,function(m){return m=qc(Hc(m,!0)),ja(m.get(o))}).then(function(m){return xh(f,function(_){if(_=qc(Hc(_,!0)),m)return m.value=u,ja(_.put(m));f.b++,p=!0;var b={};return b.fbase_key=o,b.value=u,ja(_.add(b))})}).then(function(){return f.c[o]=u,NS(f,o)}).oa(function(){p&&f.b--})};function NS(o,u){return o.g&&o.h&&JF()===o.h?AS(o.g,"keyChanged",{key:u},o.s).then(function(){}).o(function(){}):ge()}e.get=function(o){return xh(this,function(u){return ja(qc(Hc(u,!1)).get(o))}).then(function(u){return u&&u.value})},e.U=function(o){var u=this,f=!1;return xh(this,function(p){return f=!0,u.b++,ja(qc(Hc(p,!0)).delete(o))}).then(function(){return delete u.c[o],NS(u,o)}).oa(function(){f&&u.b--})};function PS(o){return Sm(o).then(function(u){var f=qc(Hc(u,!1));return f.getAll?ja(f.getAll()):new Ue(function(p,m){var _=[],b=f.openCursor();b.onsuccess=function(S){(S=S.target.result)?(_.push(S.value),S.continue()):p(_)},b.onerror=function(S){m(S.target.error)}})}).then(function(u){var f={},p=[];if(o.b==0){for(p=0;p<u.length;p++)f[u[p].fbase_key]=u[p].value;p=tT(o.c,f),o.c=f}return p})}e.ca=function(o){this.a.length==0&&VU(this),this.a.push(o)},e.ia=function(o){B(this.a,function(u){return u==o}),this.a.length==0&&OS(this)};function VU(o){function u(){o.f=setTimeout(function(){o.l=PS(o).then(function(f){0<f.length&&Z(o.a,function(p){p(f)})}).then(function(){u()}).o(function(f){f.message!="STOP_EVENT"&&u()})},800)}OS(o),u()}function OS(o){o.l&&o.l.cancel("STOP_EVENT"),o.f&&(clearTimeout(o.f),o.f=null)}function xS(o){var u=this,f=null;this.a=[],this.type="indexedDB",this.c=o,this.b=ge().then(function(){if(Cm()){var p=ls(),m="__sak"+p;return Tm||(Tm=new kS),f=Tm,f.set(m,p).then(function(){return f.get(m)}).then(function(_){if(_!==p)throw Error("indexedDB not supported!");return f.U(m)}).then(function(){return f}).o(function(){return u.c})}return u.c}).then(function(p){return u.type=p.type,p.ca(function(m){Z(u.a,function(_){_(m)})}),p})}e=xS.prototype,e.get=function(o){return this.b.then(function(u){return u.get(o)})},e.set=function(o,u){return this.b.then(function(f){return f.set(o,u)})},e.U=function(o){return this.b.then(function(u){return u.U(o)})},e.ca=function(o){this.a.push(o)},e.ia=function(o){B(this.a,function(u){return u==o})};function Kc(){this.a={},this.type="inMemory"}e=Kc.prototype,e.get=function(o){return ge(this.a[o])},e.set=function(o,u){return this.a[o]=u,ge()},e.U=function(o){return delete this.a[o],ge()},e.ca=function(){},e.ia=function(){};function Dh(){if(!BU())throw ci()=="Node"?new R("internal-error","The LocalStorage compatibility library was not found."):new R("web-storage-unsupported");this.a=DS()||le.INTERNAL.node.localStorage,this.type="localStorage"}function DS(){try{var o=l.localStorage,u=ls();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function BU(){var o=ci()=="Node";if(o=DS()||o&&le.INTERNAL.node&&le.INTERNAL.node.localStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=Dh.prototype,e.get=function(o){var u=this;return ge().then(function(){var f=u.a.getItem(o);return La(f)})},e.set=function(o,u){var f=this;return ge().then(function(){var p=Sc(u);p===null?f.U(o):f.a.setItem(o,p)})},e.U=function(o){var u=this;return ge().then(function(){u.a.removeItem(o)})},e.ca=function(o){l.window&&_r(l.window,"storage",o)},e.ia=function(o){l.window&&or(l.window,"storage",o)};function Am(){this.type="nullStorage"}e=Am.prototype,e.get=function(){return ge(null)},e.set=function(){return ge()},e.U=function(){return ge()},e.ca=function(){},e.ia=function(){};function km(){if(!qU())throw ci()=="Node"?new R("internal-error","The SessionStorage compatibility library was not found."):new R("web-storage-unsupported");this.a=LS()||le.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function LS(){try{var o=l.sessionStorage,u=ls();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function qU(){var o=ci()=="Node";if(o=LS()||o&&le.INTERNAL.node&&le.INTERNAL.node.sessionStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=km.prototype,e.get=function(o){var u=this;return ge().then(function(){var f=u.a.getItem(o);return La(f)})},e.set=function(o,u){var f=this;return ge().then(function(){var p=Sc(u);p===null?f.U(o):f.a.setItem(o,p)})},e.U=function(o){var u=this;return ge().then(function(){u.a.removeItem(o)})},e.ca=function(){},e.ia=function(){};function HU(){var o={};o.Browser=KU,o.Node=WU,o.ReactNative=$U,o.Worker=GU,this.a=o[ci()]}var Rm,KU={F:Dh,cb:km},WU={F:Dh,cb:km},$U={F:bS,cb:Am},GU={F:Dh,cb:Am},Va={rd:"local",NONE:"none",td:"session"};function zU(o){var u=new R("invalid-persistence-type"),f=new R("unsupported-persistence-type");e:{for(p in Va)if(Va[p]==o){var p=!0;break e}p=!1}if(!p||typeof o!="string")throw u;switch(ci()){case"ReactNative":if(o==="session")throw f;break;case"Node":if(o!=="none")throw f;break;case"Worker":if(o==="session"||!Cm()&&o!=="none")throw f;break;default:if(!Rg()&&o!=="none")throw f}}function MS(){var o=!!(!uT(rn())&&Ag()),u=Tc(),f=Rg();this.m=o,this.h=u,this.l=f,this.a={},Rm||(Rm=new HU),o=Rm;try{this.g=!Sg()&&lT()||!l.indexedDB?new o.a.F:new xS(Vr()?new Kc:new o.a.F)}catch{this.g=new Kc,this.h=!0}try{this.i=new o.a.cb}catch{this.i=new Kc}this.v=new Kc,this.f=F(this.Zb,this),this.b={}}var Nm;function Wc(){return Nm||(Nm=new MS),Nm}function ys(o,u){switch(u){case"session":return o.i;case"none":return o.v;default:return o.g}}function Ba(o,u){return"firebase:"+o.name+(u?":"+u:"")}function QU(o,u,f){var p=Ba(u,f),m=ys(o,u.F);return o.get(u,f).then(function(_){var b=null;try{b=La(l.localStorage.getItem(p))}catch{}if(b&&!_)return l.localStorage.removeItem(p),o.set(u,b,f);b&&_&&m.type!="localStorage"&&l.localStorage.removeItem(p)})}e=MS.prototype,e.get=function(o,u){return ys(this,o.F).get(Ba(o,u))};function qa(o,u,f){return f=Ba(u,f),u.F=="local"&&(o.b[f]=null),ys(o,u.F).U(f)}e.set=function(o,u,f){var p=Ba(o,f),m=this,_=ys(this,o.F);return _.set(p,u).then(function(){return _.get(p)}).then(function(b){o.F=="local"&&(m.b[p]=b)})},e.addListener=function(o,u,f){o=Ba(o,u),this.l&&(this.b[o]=l.localStorage.getItem(o)),si(this.a)&&(ys(this,"local").ca(this.f),this.h||(Sg()||!lT())&&l.indexedDB||!this.l||YU(this)),this.a[o]||(this.a[o]=[]),this.a[o].push(f)},e.removeListener=function(o,u,f){o=Ba(o,u),this.a[o]&&(B(this.a[o],function(p){return p==f}),this.a[o].length==0&&delete this.a[o]),si(this.a)&&(ys(this,"local").ia(this.f),Pm(this))};function YU(o){Pm(o),o.c=setInterval(function(){for(var u in o.a){var f=l.localStorage.getItem(u),p=o.b[u];f!=p&&(o.b[u]=f,f=new os({type:"storage",key:u,target:window,oldValue:p,newValue:f,a:!0}),o.Zb(f))}},1e3)}function Pm(o){o.c&&(clearInterval(o.c),o.c=null)}e.Zb=function(o){if(o&&o.g){var u=o.a.key;if(u==null)for(var f in this.a){var p=this.b[f];typeof p=="undefined"&&(p=null);var m=l.localStorage.getItem(f);m!==p&&(this.b[f]=m,this.nb(f))}else if(u.indexOf("firebase:")==0&&this.a[u]){if(typeof o.a.a!="undefined"?ys(this,"local").ia(this.f):Pm(this),this.m){if(f=l.localStorage.getItem(u),p=o.a.newValue,p!==f)p!==null?l.localStorage.setItem(u,p):l.localStorage.removeItem(u);else if(this.b[u]===p&&typeof o.a.a=="undefined")return}var _=this;f=function(){(typeof o.a.a!="undefined"||_.b[u]!==l.localStorage.getItem(u))&&(_.b[u]=l.localStorage.getItem(u),_.nb(u))},jr&&ao&&ao==10&&l.localStorage.getItem(u)!==o.a.newValue&&o.a.newValue!==o.a.oldValue?setTimeout(f,10):f()}}else Z(o,F(this.nb,this))},e.nb=function(o){this.a[o]&&Z(this.a[o],function(u){u()})};function XU(o){this.a=o,this.b=Wc()}var Om={name:"authEvent",F:"local"};function JU(o){return o.b.get(Om,o.a).then(function(u){return HT(u)})}function ZU(){this.a=Wc()}function ej(){this.b=-1}function Lh(o,u){this.b=FS,this.f=l.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=o,this.h=u,this.l=l.Int32Array?new Int32Array(64):Array(64),Mh===void 0&&(l.Int32Array?Mh=new Int32Array(VS):Mh=VS),this.reset()}var Mh;M(Lh,ej);for(var FS=64,tj=FS-1,US=[],xm=0;xm<tj;xm++)US[xm]=0;var jS=Y(128,US);Lh.prototype.reset=function(){this.g=this.c=0,this.a=l.Int32Array?new Int32Array(this.h):ee(this.h)};function Dm(o){for(var u=o.f,f=o.l,p=0,m=0;m<u.length;)f[p++]=u[m]<<24|u[m+1]<<16|u[m+2]<<8|u[m+3],m=4*p;for(u=16;64>u;u++){m=f[u-15]|0,p=f[u-2]|0;var _=(f[u-16]|0)+((m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3)|0,b=(f[u-7]|0)+((p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10)|0;f[u]=_+b|0}p=o.a[0]|0,m=o.a[1]|0;var S=o.a[2]|0,U=o.a[3]|0,H=o.a[4]|0,Ie=o.a[5]|0,tt=o.a[6]|0;for(_=o.a[7]|0,u=0;64>u;u++){var Ge=((p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10))+(p&m^p&S^m&S)|0;b=H&Ie^~H&tt,_=_+((H>>>6|H<<26)^(H>>>11|H<<21)^(H>>>25|H<<7))|0,b=b+(Mh[u]|0)|0,b=_+(b+(f[u]|0)|0)|0,_=tt,tt=Ie,Ie=H,H=U+b|0,U=S,S=m,m=p,p=b+Ge|0}o.a[0]=o.a[0]+p|0,o.a[1]=o.a[1]+m|0,o.a[2]=o.a[2]+S|0,o.a[3]=o.a[3]+U|0,o.a[4]=o.a[4]+H|0,o.a[5]=o.a[5]+Ie|0,o.a[6]=o.a[6]+tt|0,o.a[7]=o.a[7]+_|0}function Lm(o,u,f){f===void 0&&(f=u.length);var p=0,m=o.c;if(typeof u=="string")for(;p<f;)o.f[m++]=u.charCodeAt(p++),m==o.b&&(Dm(o),m=0);else if(w(u))for(;p<f;){var _=u[p++];if(!(typeof _=="number"&&0<=_&&255>=_&&_==(_|0)))throw Error("message must be a byte array");o.f[m++]=_,m==o.b&&(Dm(o),m=0)}else throw Error("message must be string or array");o.c=m,o.g+=f}var VS=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function BS(){Lh.call(this,8,nj)}M(BS,Lh);var nj=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function qS(o,u,f,p,m,_){this.v=o,this.i=u,this.l=f,this.m=p||null,this.u=m||null,this.s=_,this.h=u+":"+f,this.C=new ZU,this.g=new XU(this.h),this.f=null,this.b=[],this.a=this.c=null}function Fh(o){return new R("invalid-cordova-configuration",o)}e=qS.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=QF().then(function(){if(typeof gt("universalLinks.subscribe",l)!="function")throw Fh("cordova-universal-links-plugin-fix is not installed");if(typeof gt("BuildInfo.packageName",l)=="undefined")throw Fh("cordova-plugin-buildinfo is not installed");if(typeof gt("cordova.plugins.browsertab.openUrl",l)!="function")throw Fh("cordova-plugin-browsertab is not installed");if(typeof gt("cordova.InAppBrowser.open",l)!="function")throw Fh("cordova-plugin-inappbrowser is not installed")},function(){throw new R("cordova-not-ready")})};function rj(){for(var o=20,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}function ij(o){var u=new BS;Lm(u,o),o=[];var f=8*u.g;56>u.c?Lm(u,jS,56-u.c):Lm(u,jS,u.b-(u.c-56));for(var p=63;56<=p;p--)u.f[p]=f&255,f/=256;for(Dm(u),p=f=0;p<u.i;p++)for(var m=24;0<=m;m-=8)o[f++]=u.a[p]>>m&255;return v2(o)}e.Pb=function(o,u){return u(new R("operation-not-supported-in-this-environment")),ge()},e.Nb=function(){return vt(new R("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(o,u,f,p){if(this.c)return vt(new R("redirect-operation-pending"));var m=this,_=l.document,b=null,S=null,U=null,H=null;return this.c=ge().then(function(){return Xg(u),KS(m)}).then(function(){return oj(m,o,u,f,p)}).then(function(){return new Ue(function(Ie,tt){S=function(){var Ge=gt("cordova.plugins.browsertab.close",l);return Ie(),typeof Ge=="function"&&Ge(),m.a&&typeof m.a.close=="function"&&(m.a.close(),m.a=null),!1},m.Ea(S),U=function(){b||(b=Ra(2e3).then(function(){tt(new R("redirect-cancelled-by-user"))}))},H=function(){Ng()&&U()},_.addEventListener("resume",U,!1),rn().toLowerCase().match(/android/)||_.addEventListener("visibilitychange",H,!1)}).o(function(Ie){return Mm(m).then(function(){throw Ie})})}).oa(function(){U&&_.removeEventListener("resume",U,!1),H&&_.removeEventListener("visibilitychange",H,!1),b&&b.cancel(),S&&m.Ta(S),m.c=null})};function oj(o,u,f,p,m){var _=rj(),b=new Br(u,p,null,_,new R("no-auth-event"),null,m),S=gt("BuildInfo.packageName",l);if(typeof S!="string")throw new R("invalid-cordova-configuration");var U=gt("BuildInfo.displayName",l),H={};if(rn().toLowerCase().match(/iphone|ipad|ipod/))H.ibi=S;else if(rn().toLowerCase().match(/android/))H.apn=S;else return vt(new R("operation-not-supported-in-this-environment"));U&&(H.appDisplayName=U),_=ij(_),H.sessionId=_;var Ie=Bc(o.v,o.i,o.l,u,f,null,p,o.m,H,o.u,m,o.s);return o.ma().then(function(){var tt=o.h;return o.C.a.set(Om,b.w(),tt)}).then(function(){var tt=gt("cordova.plugins.browsertab.isAvailable",l);if(typeof tt!="function")throw new R("invalid-cordova-configuration");var Ge=null;tt(function($t){if($t){if(Ge=gt("cordova.plugins.browsertab.openUrl",l),typeof Ge!="function")throw new R("invalid-cordova-configuration");Ge(Ie)}else{if(Ge=gt("cordova.InAppBrowser.open",l),typeof Ge!="function")throw new R("invalid-cordova-configuration");$t=rn(),o.a=Ge(Ie,$t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||$t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function HS(o,u){for(var f=0;f<o.b.length;f++)try{o.b[f](u)}catch{}}function KS(o){return o.f||(o.f=o.ma().then(function(){return new Ue(function(u){function f(p){return u(p),o.Ta(f),!1}o.Ea(f),sj(o)})})),o.f}function Mm(o){var u=null;return JU(o.g).then(function(f){return u=f,f=o.g,qa(f.b,Om,f.a)}).then(function(){return u})}function sj(o){function u(b){p=!0,m&&m.cancel(),Mm(o).then(function(S){var U=f;if(S&&b&&b.url){var H=null;U=LT(b.url),U.indexOf("/__/auth/callback")!=-1&&(H=Qn(U),H=La(wr(H,"firebaseError")||null),H=(H=typeof H=="object"?Pe(H):null)?new Br(S.c,S.b,null,null,H,null,S.T()):new Br(S.c,S.b,U,S.f,null,null,S.T())),U=H||f}HS(o,U)})}var f=new Br("unknown",null,null,null,new R("no-auth-event")),p=!1,m=Ra(500).then(function(){return Mm(o).then(function(){p||HS(o,f)})}),_=l.handleOpenURL;l.handleOpenURL=function(b){if(b.toLowerCase().indexOf(gt("BuildInfo.packageName",l).toLowerCase()+"://")==0&&u({url:b}),typeof _=="function")try{_(b)}catch(S){console.error(S)}},Jg||(Jg=new I2),T2(u)}e.Ea=function(o){this.b.push(o),KS(this).o(function(u){u.code==="auth/invalid-cordova-configuration"&&(u=new Br("unknown",null,null,null,new R("no-auth-event")),o(u))})},e.Ta=function(o){B(this.b,function(u){return u==o})};function aj(o){this.a=o,this.b=Wc()}var Fm={name:"pendingRedirect",F:"session"};function uj(o){return o.b.set(Fm,"pending",o.a)}function Um(o){return qa(o.b,Fm,o.a)}function cj(o){return o.b.get(Fm,o.a).then(function(u){return u=="pending"})}function Uh(o,u,f,p){this.i={},this.u=0,this.D=o,this.v=u,this.m=f,this.J=p,this.h=[],this.f=!1,this.l=F(this.s,this),this.b=new Vh,this.C=new eC,this.g=new aj(XS(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=WS(this.D,this.v,this.m,Ze,this.J)}function WS(o,u,f,p,m){var _=le.SDK_VERSION||null;return Cg()?new qS(o,u,f,_,p,m):new mS(o,u,f,_,p,m)}Uh.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=WS(this.D,this.v,this.m,null,this.J),this.i={}};function $S(o){o.f||(o.f=!0,o.a.Ea(o.l));var u=o.a;return o.a.ma().o(function(f){throw o.a==u&&o.reset(),f})}function GS(o){o.a.Yb()&&$S(o).o(function(u){var f=new Br("unknown",null,null,null,new R("operation-not-supported-in-this-environment"));Vm(u)&&o.s(f)}),o.a.Ub()||JS(o.b)}function jh(o,u){D(o.h,u)||o.h.push(u),o.f||cj(o.g).then(function(f){f?Um(o.g).then(function(){$S(o).o(function(p){var m=new Br("unknown",null,null,null,new R("operation-not-supported-in-this-environment"));Vm(p)&&o.s(m)})}):GS(o)}).o(function(){GS(o)})}function jm(o,u){B(o.h,function(f){return f==u})}Uh.prototype.s=function(o){if(!o)throw new R("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),o&&o.getUid()&&this.i.hasOwnProperty(o.getUid()))return!1;for(var u=!1,f=0;f<this.h.length;f++){var p=this.h[f];if(p.Gb(o.c,o.b)){(u=this.c[o.c])&&(u.h(o,p),o&&(o.f||o.b)&&(this.i[o.getUid()]=!0,this.u=Date.now())),u=!0;break}}return JS(this.b),u};var lj=new lo(2e3,1e4),fj=new lo(3e4,6e4);Uh.prototype.ra=function(){return this.b.ra()};function zS(o,u,f,p,m,_,b){return o.a.Nb(u,f,p,function(){o.f||(o.f=!0,o.a.Ea(o.l))},function(){o.reset()},m,_,b)}function Vm(o){return!!(o&&o.code=="auth/cordova-not-ready")}function QS(o,u,f,p,m){var _;return uj(o.g).then(function(){return o.a.Ob(u,f,p,m).o(function(b){if(Vm(b))throw new R("operation-not-supported-in-this-environment");return _=b,Um(o.g).then(function(){throw _})}).then(function(){return o.a.ac()?new Ue(function(){}):Um(o.g).then(function(){return o.ra()}).then(function(){}).o(function(){})})})}function YS(o,u,f,p,m){return o.a.Pb(p,function(_){u.na(f,null,_,m)},lj.get())}var Bm={};function XS(o,u,f){return o=o+":"+u,f&&(o=o+":"+f.url),o}function qm(o,u,f,p){var m=XS(u,f,p);return Bm[m]||(Bm[m]=new Uh(o,u,f,p)),Bm[m]}function Vh(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}Vh.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Vh.prototype.h=function(o,u){if(o){this.reset(),this.g=!0;var f=o.c,p=o.b,m=o.a&&o.a.code=="auth/web-storage-unsupported",_=o.a&&o.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!m&&!_),f!="unknown"||m||_?o.a?(_s(this,!0,null,o.a),ge()):u.Fa(f,p)?hj(this,o,u):vt(new R("invalid-auth-event")):(_s(this,!1,null,null),ge())}else vt(new R("invalid-auth-event"))};function JS(o){o.g||(o.g=!0,_s(o,!1,null,null))}function Bh(o){o.g&&!o.i&&_s(o,!1,null,null)}function hj(o,u,f){f=f.Fa(u.c,u.b);var p=u.g,m=u.f,_=u.i,b=u.T(),S=!!u.c.match(/Redirect$/);f(p,m,b,_).then(function(U){_s(o,S,U,null)}).o(function(U){_s(o,S,null,U)})}function dj(o,u){if(o.b=function(){return vt(u)},o.c.length)for(var f=0;f<o.c.length;f++)o.c[f](u)}function ZS(o,u){if(o.b=function(){return ge(u)},o.f.length)for(var f=0;f<o.f.length;f++)o.f[f](u)}function _s(o,u,f,p){u?p?dj(o,p):ZS(o,f):ZS(o,{user:null}),o.f=[],o.c=[]}Vh.prototype.ra=function(){var o=this;return new Ue(function(u,f){o.b?o.b().then(u,f):(o.f.push(u),o.c.push(f),pj(o))})};function pj(o){var u=new R("timeout");o.a&&o.a.cancel(),o.a=Ra(fj.get()).then(function(){o.b||(o.g=!0,_s(o,!0,null,u))})}function eC(){}eC.prototype.h=function(o,u){if(o){var f=o.c,p=o.b;o.a?(u.na(o.c,null,o.a,o.b),ge()):u.Fa(f,p)?vj(o,u):vt(new R("invalid-auth-event"))}else vt(new R("invalid-auth-event"))};function vj(o,u){var f=o.b,p=o.c;u.Fa(p,f)(o.g,o.f,o.T(),o.i).then(function(m){u.na(p,m,null,f)}).o(function(m){u.na(p,null,m,f)})}function tC(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(o){this.jb=o},enumerable:!1})}function Hm(o,u){this.a=u,ce(this,"verificationId",o)}Hm.prototype.confirm=function(o){return o=qT(this.verificationId,o),this.a(o)};function Km(o,u,f,p){return new Mi(o).gb(u,f).then(function(m){return new Hm(m,p)})}function gj(o){var u=AT(o);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new R("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");xn(this,{token:o,expirationTime:Cc(1e3*u.exp),authTime:Cc(1e3*u.auth_time),issuedAtTime:Cc(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function Wm(o,u,f){var p=u&&u[rC];if(!p)throw new R("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=o,this.f=It(u),this.g=f,this.c=new gh(null,p),this.b=[];var m=this;Z(u[nC]||[],function(_){(_=Mg(_))&&m.b.push(_)}),ce(this,"auth",this.a),ce(this,"session",this.c),ce(this,"hints",this.b)}var nC="mfaInfo",rC="mfaPendingCredential";Wm.prototype.Rc=function(o){var u=this;return o.tb(this.a.a,this.c).then(function(f){var p=It(u.f);return delete p[nC],delete p[rC],nn(p,f),u.g(p)})};function $m(o,u,f,p){R.call(this,"multi-factor-auth-required",p,u),this.b=new Wm(o,u,f),ce(this,"resolver",this.b)}M($m,R);function iC(o,u,f){if(o&&I(o.serverResponse)&&o.code==="auth/multi-factor-auth-required")try{return new $m(u,o.serverResponse,f,o.message)}catch{}return null}function oC(){}oC.prototype.tb=function(o,u,f){return u.type==Nc?mj(this,o,u,f):yj(this,o,u)};function mj(o,u,f,p){return f.Ha().then(function(m){return m={idToken:m},typeof p!="undefined"&&(m.displayName=p),nn(m,{phoneVerificationInfo:Pc(o.a)}),je(u,sU,m)})}function yj(o,u,f){return f.Ha().then(function(p){return p={mfaPendingCredential:p},nn(p,{phoneVerificationInfo:Pc(o.a)}),je(u,aU,p)})}function Gm(o){ce(this,"factorId",o.fa),this.a=o}M(Gm,oC);function sC(o){if(Gm.call(this,o),this.a.fa!=Mi.PROVIDER_ID)throw new R("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}M(sC,Gm);function Ha(o,u){zn.call(this,o);for(var f in u)this[f]=u[f]}M(Ha,zn);function zm(o,u){this.a=o,this.b=[],this.c=F(this.yc,this),_r(this.a,"userReloaded",this.c);var f=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&Z(u.multiFactor.enrolledFactors,function(p){var m=null,_={};if(p){p.uid&&(_[Ug]=p.uid),p.displayName&&(_[hT]=p.displayName),p.enrollmentTime&&(_[Fg]=new Date(p.enrollmentTime).toISOString()),p.phoneNumber&&(_[jg]=p.phoneNumber);try{m=new Ac(_)}catch{}p=m}else p=null;p&&f.push(p)}),qh(this,f)}function _j(o){var u=[];return Z(o.mfaInfo||[],function(f){(f=Mg(f))&&u.push(f)}),u}e=zm.prototype,e.yc=function(o){qh(this,_j(o.hd))};function qh(o,u){o.b=u,ce(o,"enrolledFactors",u)}e.Sb=function(){return this.a.I().then(function(o){return new gh(o,null)})},e.fc=function(o,u){var f=this,p=this.a.a;return this.Sb().then(function(m){return o.tb(p,m,u)}).then(function(m){return hi(f.a,m),f.a.reload()})},e.bd=function(o){var u=this,f=typeof o=="string"?o:o.uid,p=this.a.a;return this.a.I().then(function(m){return je(p,AU,{idToken:m,mfaEnrollmentId:f})}).then(function(m){var _=ft(u.b,function(b){return b.uid!=f});return qh(u,_),hi(u.a,m),u.a.reload().o(function(b){if(b.code!="auth/user-token-expired")throw b})})},e.w=function(){return{multiFactor:{enrolledFactors:Se(this.b,function(o){return o.w()})}}};function Qm(o,u,f){if(this.h=o,this.i=u,this.g=f,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}Qm.prototype.start=function(){this.a=this.c,Ym(this,!0)};function wj(o,u){return u?(o.a=o.c,o.g()):(u=o.a,o.a*=2,o.a>o.f&&(o.a=o.f),u)}function Ym(o,u){o.stop(),o.b=Ra(wj(o,u)).then(function(){return XF()}).then(function(){return o.h()}).then(function(){Ym(o,!0)}).o(function(f){o.i(f)&&Ym(o,!1)})}Qm.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function Xm(o){this.f=o,this.b=this.a=null,this.c=Date.now()}Xm.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function aC(o,u){typeof u=="undefined"&&(o.b?(u=o.b,u=u.a-u.g):u=0),o.c=Date.now()+1e3*u}function uC(o,u){o.b=ph(u[Hr]||""),o.a=u.refreshToken,u=u.expiresIn,aC(o,typeof u!="undefined"?Number(u):void 0)}function bj(o,u){o.b=u.b,o.a=u.a,o.c=u.c}function Ej(o,u){return K2(o.f,u).then(function(f){return o.b=ph(f.access_token),o.a=f.refresh_token,aC(o,f.expires_in),{accessToken:o.b.toString(),refreshToken:o.a}}).o(function(f){throw f.code=="auth/user-token-expired"&&(o.a=null),f})}Xm.prototype.getToken=function(o){return o=!!o,this.b&&!this.a?vt(new R("user-token-expired")):o||!this.b||Date.now()>this.c-3e4?this.a?Ej(this,{grant_type:"refresh_token",refresh_token:this.a}):ge(null):ge({accessToken:this.b.toString(),refreshToken:this.a})};function Hh(o,u){this.a=o||null,this.b=u||null,xn(this,{lastSignInTime:Cc(u||null),creationTime:Cc(o||null)})}function Ij(o){return new Hh(o.a,o.b)}Hh.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function Tj(o,u,f,p,m,_){xn(this,{uid:o,displayName:p||null,photoURL:m||null,email:f||null,phoneNumber:_||null,providerId:u})}function ar(o,u,f){this.N=[],this.l=o.apiKey,this.m=o.appName,this.s=o.authDomain||null;var p=le.SDK_VERSION?xa(le.SDK_VERSION):null;this.a=new qr(this.l,at(Ze),p),(this.u=o.emulatorConfig||null)&&Ph(this.a,this.u),this.h=new Xm(this.a),iy(this,u[Hr]),uC(this.h,u),ce(this,"refreshToken",this.h.a),lC(this,f||{}),On.call(this),this.P=!1,this.s&&cs()&&(this.b=qm(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=Sj(this),this.ba=F(this.ib,this);var m=this;this.za=null,this.Pa=function(_){m.xa(_.h)},this.qa=null,this.Ba=function(_){Jm(m,_.c)},this.$=null,this.aa=[],this.Oa=function(_){$c(m,_.f)},this.ja=null,this.S=new zm(this,f),ce(this,"multiFactor",this.S)}M(ar,On),ar.prototype.xa=function(o){this.za=o,iS(this.a,o)};function Jm(o,u){o.u=u,Ph(o.a,u),o.b&&(u=o.b,o.b=qm(o.s,o.l,o.m,o.u),o.P&&(jm(u,o),jh(o.b,o)))}ar.prototype.la=function(){return this.za};function Zm(o,u){o.qa&&or(o.qa,"languageCodeChanged",o.Pa),(o.qa=u)&&_r(u,"languageCodeChanged",o.Pa)}function ey(o,u){o.$&&or(o.$,"emulatorConfigChanged",o.Ba),(o.$=u)&&_r(u,"emulatorConfigChanged",o.Ba)}function $c(o,u){o.aa=u,oS(o.a,le.SDK_VERSION?xa(le.SDK_VERSION,o.aa):null)}ar.prototype.Ga=function(){return ee(this.aa)};function ty(o,u){o.ja&&or(o.ja,"frameworkChanged",o.Oa),(o.ja=u)&&_r(u,"frameworkChanged",o.Oa)}ar.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function ny(o){try{return le.app(o.m).auth()}catch{throw new R("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+o.m+"'!")}}function Sj(o){return new Qm(function(){return o.I(!0)},function(u){return!!(u&&u.code=="auth/network-request-failed")},function(){var u=o.h.c-Date.now()-3e5;return 0<u?u:0})}function cC(o){o.J||o.D.b||(o.D.start(),or(o,"tokenChanged",o.ba),_r(o,"tokenChanged",o.ba))}function ry(o){or(o,"tokenChanged",o.ba),o.D.stop()}function iy(o,u){o.Aa=u,ce(o,"_lat",u)}function Cj(o,u){B(o.W,function(f){return f==u})}function ws(o){for(var u=[],f=0;f<o.W.length;f++)u.push(o.W[f](o));return AI(u).then(function(){return o})}function Gc(o){o.b&&!o.P&&(o.P=!0,jh(o.b,o))}function lC(o,u){xn(o,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new Hh(u.createdAt,u.lastLoginAt),providerData:[]}),o.a.b=o.tenantId}ce(ar.prototype,"providerId","firebase");function fC(){}function oy(o){return ge().then(function(){if(o.J)throw new R("app-deleted")})}function sy(o){return Se(o.providerData,function(u){return u.providerId})}function ay(o,u){u&&(hC(o,u.providerId),o.providerData.push(u))}function hC(o,u){B(o.providerData,function(f){return f.providerId==u})}function po(o,u,f){(u!="uid"||f)&&o.hasOwnProperty(u)&&ce(o,u,f)}function Kh(o,u){o!=u&&(xn(o,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),u.metadata?ce(o,"metadata",Ij(u.metadata)):ce(o,"metadata",new Hh),Z(u.providerData,function(f){ay(o,f)}),bj(o.h,u.h),ce(o,"refreshToken",o.h.a),qh(o.S,u.S.b))}e=ar.prototype,e.reload=function(){var o=this;return Vt(this,oy(this).then(function(){return uy(o).then(function(){return ws(o)}).then(fC)}))};function uy(o){return o.I().then(function(u){var f=o.isAnonymous;return Aj(o,u).then(function(){return f||po(o,"isAnonymous",!1),u})})}e.oc=function(o){return this.I(o).then(function(u){return new gj(u)})},e.I=function(o){var u=this;return Vt(this,oy(this).then(function(){return u.h.getToken(o)}).then(function(f){if(!f)throw new R("internal-error");return f.accessToken!=u.Aa&&(iy(u,f.accessToken),u.dispatchEvent(new Ha("tokenChanged"))),po(u,"refreshToken",f.refreshToken),f.accessToken}))};function hi(o,u){u[Hr]&&o.Aa!=u[Hr]&&(uC(o.h,u),o.dispatchEvent(new Ha("tokenChanged")),iy(o,u[Hr]),po(o,"refreshToken",o.h.a))}function Aj(o,u){return je(o.a,uU,{idToken:u}).then(F(o.Kc,o))}e.Kc=function(o){if(o=o.users,!o||!o.length)throw new R("internal-error");o=o[0],lC(this,{uid:o.localId,displayName:o.displayName,photoURL:o.photoUrl,email:o.email,emailVerified:!!o.emailVerified,phoneNumber:o.phoneNumber,lastLoginAt:o.lastLoginAt,createdAt:o.createdAt,tenantId:o.tenantId});for(var u=kj(o),f=0;f<u.length;f++)ay(this,u[f]);po(this,"isAnonymous",!(this.email&&o.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new Ha("userReloaded",{hd:o}))};function kj(o){return(o=o.providerUserInfo)&&o.length?Se(o,function(u){return new Tj(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}e.Lc=function(o){return Pg("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(o)},e.ub=function(o){var u=this,f=null;return Vt(this,o.c(this.a,this.uid).then(function(p){return hi(u,p),f=zc(u,p,"reauthenticate"),u.i=null,u.reload()}).then(function(){return f}),!0)};function Wh(o,u){return uy(o).then(function(){if(D(sy(o),u))return ws(o).then(function(){throw new R("provider-already-linked")})})}e.Cc=function(o){return Pg("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(o)},e.rb=function(o){var u=this,f=null;return Vt(this,Wh(this,o.providerId).then(function(){return u.I()}).then(function(p){return o.b(u.a,p)}).then(function(p){return f=zc(u,p,"link"),dC(u,p)}).then(function(){return f}))},e.Dc=function(o,u){var f=this;return Vt(this,Wh(this,"phone").then(function(){return Km(ny(f),o,u,F(f.rb,f))}))},e.Mc=function(o,u){var f=this;return Vt(this,ge().then(function(){return Km(ny(f),o,u,F(f.ub,f))}),!0)};function zc(o,u,f){var p=Yg(u);return u=RT(u),li({user:o,credential:p,additionalUserInfo:u,operationType:f})}function dC(o,u){return hi(o,u),o.reload().then(function(){return o})}e.Cb=function(o){var u=this;return Vt(this,this.I().then(function(f){return u.a.Cb(f,o)}).then(function(f){return hi(u,f),u.reload()}))},e.ed=function(o){var u=this;return Vt(this,this.I().then(function(f){return o.b(u.a,f)}).then(function(f){return hi(u,f),u.reload()}))},e.Db=function(o){var u=this;return Vt(this,this.I().then(function(f){return u.a.Db(f,o)}).then(function(f){return hi(u,f),u.reload()}))},e.Eb=function(o){if(o.displayName===void 0&&o.photoURL===void 0)return oy(this);var u=this;return Vt(this,this.I().then(function(f){return u.a.Eb(f,{displayName:o.displayName,photoUrl:o.photoURL})}).then(function(f){return hi(u,f),po(u,"displayName",f.displayName||null),po(u,"photoURL",f.photoUrl||null),Z(u.providerData,function(p){p.providerId==="password"&&(ce(p,"displayName",u.displayName),ce(p,"photoURL",u.photoURL))}),ws(u)}).then(fC))},e.cd=function(o){var u=this;return Vt(this,uy(this).then(function(f){return D(sy(u),o)?X2(u.a,f,[o]).then(function(p){var m={};return Z(p.providerUserInfo||[],function(_){m[_.providerId]=!0}),Z(sy(u),function(_){m[_]||hC(u,_)}),m[Mi.PROVIDER_ID]||ce(u,"phoneNumber",null),ws(u)}):ws(u).then(function(){throw new R("no-such-provider")})}))},e.delete=function(){var o=this;return Vt(this,this.I().then(function(u){return je(o.a,nU,{idToken:u})}).then(function(){o.dispatchEvent(new Ha("userDeleted"))})).then(function(){for(var u=0;u<o.N.length;u++)o.N[u].cancel("app-deleted");Zm(o,null),ey(o,null),ty(o,null),o.N=[],o.J=!0,ry(o),ce(o,"refreshToken",null),o.b&&jm(o.b,o)})},e.Gb=function(o,u){return!!(o=="linkViaPopup"&&(this.g||null)==u&&this.f||o=="reauthViaPopup"&&(this.g||null)==u&&this.f||o=="linkViaRedirect"&&(this.ga||null)==u||o=="reauthViaRedirect"&&(this.ga||null)==u)},e.na=function(o,u,f,p){o!="linkViaPopup"&&o!="reauthViaPopup"||p!=(this.g||null)||(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="linkViaPopup"&&u==(this.g||null)?F(this.Lb,this):o=="reauthViaPopup"&&u==(this.g||null)?F(this.Mb,this):o=="linkViaRedirect"&&(this.ga||null)==u?F(this.Lb,this):o=="reauthViaRedirect"&&(this.ga||null)==u?F(this.Mb,this):null},e.Ec=function(o){var u=this;return pC(this,"linkViaPopup",o,function(){return Wh(u,o.providerId).then(function(){return ws(u)})},!1)},e.Nc=function(o){return pC(this,"reauthViaPopup",o,function(){return ge()},!0)};function pC(o,u,f,p,m){if(!cs())return vt(new R("operation-not-supported-in-this-environment"));if(o.i&&!m)return vt(o.i);var _=Kg(f.providerId),b=ls(o.uid+":::"),S=null;(!Tc()||Ag())&&o.s&&f.isOAuthProvider&&(S=Bc(o.s,o.l,o.m,u,f,null,b,le.SDK_VERSION||null,null,null,o.tenantId,o.u));var U=rT(S,_&&_.va,_&&_.ua);return p=p().then(function(){if(gC(o),!m)return o.I().then(function(){})}).then(function(){return zS(o.b,U,u,f,b,!!S,o.tenantId)}).then(function(){return new Ue(function(H,Ie){o.na(u,null,new R("cancelled-popup-request"),o.g||null),o.f=H,o.C=Ie,o.g=b,o.c=YS(o.b,o,u,U,b)})}).then(function(H){return U&&us(U),H?li(H):null}).o(function(H){throw U&&us(U),H}),Vt(o,p,m)}e.Fc=function(o){var u=this;return vC(this,"linkViaRedirect",o,function(){return Wh(u,o.providerId)},!1)},e.Oc=function(o){return vC(this,"reauthViaRedirect",o,function(){return ge()},!0)};function vC(o,u,f,p,m){if(!cs())return vt(new R("operation-not-supported-in-this-environment"));if(o.i&&!m)return vt(o.i);var _=null,b=ls(o.uid+":::");return p=p().then(function(){if(gC(o),!m)return o.I().then(function(){})}).then(function(){return o.ga=b,ws(o)}).then(function(S){return o.ha&&(S=o.ha,S=S.b.set(cy,o.w(),S.a)),S}).then(function(){return QS(o.b,u,f,b,o.tenantId)}).o(function(S){if(_=S,o.ha)return yC(o.ha);throw _}).then(function(){if(_)throw _}),Vt(o,p,m)}function gC(o){if(!o.b||!o.P)throw o.b&&!o.P?new R("internal-error"):new R("auth-domain-config-required")}e.Lb=function(o,u,f,p){var m=this;this.c&&(this.c.cancel(),this.c=null);var _=null;return f=this.I().then(function(b){return mm(m.a,{requestUri:o,postBody:p,sessionId:u,idToken:b})}).then(function(b){return _=zc(m,b,"link"),dC(m,b)}).then(function(){return _}),Vt(this,f)},e.Mb=function(o,u,f,p){var m=this;this.c&&(this.c.cancel(),this.c=null);var _=null,b=ge().then(function(){return Fa(ym(m.a,{requestUri:o,sessionId:u,postBody:p,tenantId:f}),m.uid)}).then(function(S){return _=zc(m,S,"reauthenticate"),hi(m,S),m.i=null,m.reload()}).then(function(){return _});return Vt(this,b,!0)},e.vb=function(o){var u=this,f=null;return Vt(this,this.I().then(function(p){return f=p,typeof o=="undefined"||si(o)?{}:hh(new fh(o))}).then(function(p){return u.a.vb(f,p)}).then(function(p){if(u.email!=p)return u.reload()}).then(function(){}))},e.Fb=function(o,u){var f=this,p=null;return Vt(this,this.I().then(function(m){return p=m,typeof u=="undefined"||si(u)?{}:hh(new fh(u))}).then(function(m){return f.a.Fb(p,o,m)}).then(function(m){if(f.email!=m)return f.reload()}).then(function(){}))};function Vt(o,u,f){var p=Rj(o,u,f);return o.N.push(p),p.oa(function(){j(o.N,p)}),p.o(function(m){var _=null;throw m&&m.code==="auth/multi-factor-auth-required"&&(_=iC(m.w(),ny(o),F(o.jc,o))),_||m})}e.jc=function(o){var u=null,f=this;return o=Fa(ge(o),f.uid).then(function(p){return u=zc(f,p,"reauthenticate"),hi(f,p),f.i=null,f.reload()}).then(function(){return u}),Vt(this,o,!0)};function Rj(o,u,f){return o.i&&!f?(u.cancel(),vt(o.i)):u.o(function(p){throw!p||p.code!="auth/user-disabled"&&p.code!="auth/user-token-expired"||(o.i||o.dispatchEvent(new Ha("userInvalidated")),o.i=p),p})}e.toJSON=function(){return this.w()},e.w=function(){var o={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&nn(o,this.metadata.w()),Z(this.providerData,function(u){o.providerData.push(e2(u))}),nn(o,this.S.w()),o};function mC(o){if(!o.apiKey)return null;var u={apiKey:o.apiKey,authDomain:o.authDomain,appName:o.appName,emulatorConfig:o.emulatorConfig},f={};if(o.stsTokenManager&&o.stsTokenManager.accessToken){f[Hr]=o.stsTokenManager.accessToken,f.refreshToken=o.stsTokenManager.refreshToken||null;var p=o.stsTokenManager.expirationTime;p&&(f.expiresIn=(p-Date.now())/1e3)}else return null;var m=new ar(u,f,o);return o.providerData&&Z(o.providerData,function(_){_&&ay(m,li(_))}),o.redirectEventId&&(m.ga=o.redirectEventId),m}function Nj(o,u,f,p){var m=new ar(o,u);return f&&(m.ha=f),p&&$c(m,p),m.reload().then(function(){return m})}function Pj(o,u,f,p){var m=o.h,_={};return _[Hr]=m.b&&m.b.toString(),_.refreshToken=m.a,u=new ar(u||{apiKey:o.l,authDomain:o.s,appName:o.m},_),f&&(u.ha=f),p&&$c(u,p),Kh(u,o),u}function Oj(o){this.a=o,this.b=Wc()}var cy={name:"redirectUser",F:"session"};function yC(o){return qa(o.b,cy,o.a)}function xj(o,u){return o.b.get(cy,o.a).then(function(f){return f&&u&&(f.authDomain=u),mC(f||{})})}function ly(o){this.a=o,this.b=Wc(),this.c=null,this.f=Dj(this),this.b.addListener(di("local"),this.a,F(this.g,this))}ly.prototype.g=function(){var o=this,u=di("local");Ka(this,function(){return ge().then(function(){return o.c&&o.c.F!="local"?o.b.get(u,o.a):null}).then(function(f){if(f)return fy(o,"local").then(function(){o.c=u})})})};function fy(o,u){var f=[],p;for(p in Va)Va[p]!==u&&f.push(qa(o.b,di(Va[p]),o.a));return f.push(qa(o.b,hy,o.a)),IF(f)}function Dj(o){var u=di("local"),f=di("session"),p=di("none");return QU(o.b,u,o.a).then(function(){return o.b.get(f,o.a)}).then(function(m){return m?f:o.b.get(p,o.a).then(function(_){return _?p:o.b.get(u,o.a).then(function(b){return b?u:o.b.get(hy,o.a).then(function(S){return S?di(S):u})})})}).then(function(m){return o.c=m,fy(o,m.F)}).o(function(){o.c||(o.c=u)})}var hy={name:"persistence",F:"session"};function di(o){return{name:"authUser",F:o}}ly.prototype.yb=function(o){var u=null,f=this;return zU(o),Ka(this,function(){return o!=f.c.F?f.b.get(f.c,f.a).then(function(p){return u=p,fy(f,o)}).then(function(){if(f.c=di(o),u)return f.b.set(f.c,u,f.a)}):ge()})};function Lj(o){return Ka(o,function(){return o.b.set(hy,o.c.F,o.a)})}function _C(o,u){return Ka(o,function(){return o.b.set(o.c,u.w(),o.a)})}function wC(o){return Ka(o,function(){return qa(o.b,o.c,o.a)})}function bC(o,u,f){return Ka(o,function(){return o.b.get(o.c,o.a).then(function(p){return p&&u&&(p.authDomain=u),p&&f&&(p.emulatorConfig=f),mC(p||{})})})}function Ka(o,u){return o.f=o.f.then(u,u),o.f}function Kr(o){if(this.l=!1,ce(this,"settings",new tC),ce(this,"app",o),ot(this).options&&ot(this).options.apiKey)o=le.SDK_VERSION?xa(le.SDK_VERSION):null,this.a=new qr(ot(this).options&&ot(this).options.apiKey,at(Ze),o);else throw new R("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=le.INTERNAL.createSubscribe(F(this.zc,this)),this.W=void 0,this.ib=le.INTERNAL.createSubscribe(F(this.Ac,this)),Wa(this,null),this.i=new ly(ot(this).options.apiKey+":"+ot(this).name),this.D=new Oj(ot(this).options.apiKey+":"+ot(this).name),this.$=Tt(this,Bj(this)),this.h=Tt(this,qj(this)),this.ba=!1,this.ja=F(this.Zc,this),this.Ba=F(this.da,this),this.qa=F(this.mc,this),this.za=F(this.wc,this),this.Aa=F(this.xc,this),this.b=null,Uj(this),this.INTERNAL={},this.INTERNAL.delete=F(this.delete,this),this.INTERNAL.logFramework=F(this.Gc,this),this.u=0,On.call(this),Fj(this),this.J=[],this.R=null}M(Kr,On);function EC(o){zn.call(this,"languageCodeChanged"),this.h=o}M(EC,zn);function IC(o){zn.call(this,"emulatorConfigChanged"),this.c=o}M(IC,zn);function TC(o){zn.call(this,"frameworkChanged"),this.f=o}M(TC,zn),e=Kr.prototype,e.yb=function(o){return o=this.i.yb(o),Tt(this,o)},e.xa=function(o){this.aa===o||this.l||(this.aa=o,iS(this.a,this.aa),this.dispatchEvent(new EC(this.la())))},e.la=function(){return this.aa},e.fd=function(){var o=l.navigator;this.xa(o&&(o.languages&&o.languages[0]||o.language||o.userLanguage)||null)},e.gd=function(o,u){if(!this.R){if(!/^https?:\/\//.test(o))throw new R("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");u=u?!!u.disableWarnings:!1,Mj(u),this.R={url:o,ec:u},this.settings.jb=!0,Ph(this.a,this.R),this.dispatchEvent(new IC(this.R))}};function Mj(o){typeof console!="undefined"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),l.document&&!o&&uh().then(function(){var u=l.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#b50000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),l.document.body.appendChild(u)})}e.Gc=function(o){this.J.push(o),oS(this.a,le.SDK_VERSION?xa(le.SDK_VERSION,this.J):null),this.dispatchEvent(new TC(this.J))},e.Ga=function(){return ee(this.J)},e.zb=function(o){this.S===o||this.l||(this.S=o,this.a.b=this.S)},e.T=function(){return this.S};function Fj(o){Object.defineProperty(o,"lc",{get:function(){return this.la()},set:function(u){this.xa(u)},enumerable:!1}),o.aa=null,Object.defineProperty(o,"ti",{get:function(){return this.T()},set:function(u){this.zb(u)},enumerable:!1}),o.S=null,Object.defineProperty(o,"emulatorConfig",{get:function(){if(this.R){var u=Qn(this.R.url);u=li({protocol:u.c,host:u.a,port:u.g,options:li({disableWarnings:this.R.ec})})}else u=null;return u},enumerable:!1})}e.toJSON=function(){return{apiKey:ot(this).options.apiKey,authDomain:ot(this).options.authDomain,appName:ot(this).name,currentUser:ke(this)&&ke(this).w()}};function dy(o){return o.Oa||vt(new R("auth-domain-config-required"))}function Uj(o){var u=ot(o).options.authDomain,f=ot(o).options.apiKey;u&&cs()&&(o.Oa=o.$.then(function(){if(!o.l){if(o.b=qm(u,f,ot(o).name,o.R),jh(o.b,o),ke(o)&&Gc(ke(o)),o.m){Gc(o.m);var p=o.m;p.xa(o.la()),Zm(p,o),p=o.m,$c(p,o.J),ty(p,o),p=o.m,Jm(p,o.R),ey(p,o),o.m=null}return o.b}}))}e.Gb=function(o,u){switch(o){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},e.na=function(o,u,f,p){o=="signInViaPopup"&&this.g==p&&(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="signInViaRedirect"||o=="signInViaPopup"&&this.g==u&&this.f?F(this.ic,this):null},e.ic=function(o,u,f,p){var m=this,_={requestUri:o,postBody:p,sessionId:u,tenantId:f};return this.c&&(this.c.cancel(),this.c=null),m.$.then(function(){return bs(m,gm(m.a,_))})},e.Xc=function(o){if(!cs())return vt(new R("operation-not-supported-in-this-environment"));var u=this,f=Kg(o.providerId),p=ls(),m=null;(!Tc()||Ag())&&ot(this).options.authDomain&&o.isOAuthProvider&&(m=Bc(ot(this).options.authDomain,ot(this).options.apiKey,ot(this).name,"signInViaPopup",o,null,p,le.SDK_VERSION||null,null,null,this.T(),this.R));var _=rT(m,f&&f.va,f&&f.ua);return f=dy(this).then(function(b){return zS(b,_,"signInViaPopup",o,p,!!m,u.T())}).then(function(){return new Ue(function(b,S){u.na("signInViaPopup",null,new R("cancelled-popup-request"),u.g),u.f=b,u.C=S,u.g=p,u.c=YS(u.b,u,"signInViaPopup",_,p)})}).then(function(b){return _&&us(_),b?li(b):null}).o(function(b){throw _&&us(_),b}),Tt(this,f)},e.Yc=function(o){if(!cs())return vt(new R("operation-not-supported-in-this-environment"));var u=this,f=dy(this).then(function(){return Lj(u.i)}).then(function(){return QS(u.b,"signInViaRedirect",o,void 0,u.T())});return Tt(this,f)};function SC(o){if(!cs())return vt(new R("operation-not-supported-in-this-environment"));var u=dy(o).then(function(){return o.b.ra()}).then(function(f){return f?li(f):null});return Tt(o,u)}e.ra=function(){var o=this;return SC(this).then(function(u){return o.b&&Bh(o.b.b),u}).o(function(u){throw o.b&&Bh(o.b.b),u})},e.dd=function(o){if(!o)return vt(new R("null-user"));if(this.S!=o.tenantId)return vt(new R("tenant-id-mismatch"));var u=this,f={};f.apiKey=ot(this).options.apiKey,f.authDomain=ot(this).options.authDomain,f.appName=ot(this).name;var p=Pj(o,f,u.D,u.Ga());return Tt(this,this.h.then(function(){if(ot(u).options.apiKey!=o.l)return p.reload()}).then(function(){return ke(u)&&o.uid==ke(u).uid?(Kh(ke(u),o),u.da(o)):(Wa(u,p),Gc(p),u.da(p))}).then(function(){Qc(u)}))};function jj(o,u){var f={};return f.apiKey=ot(o).options.apiKey,f.authDomain=ot(o).options.authDomain,f.appName=ot(o).name,o.R&&(f.emulatorConfig=o.R),o.$.then(function(){return Nj(f,u,o.D,o.Ga())}).then(function(p){return ke(o)&&p.uid==ke(o).uid?(Kh(ke(o),p),o.da(p)):(Wa(o,p),Gc(p),o.da(p))}).then(function(){Qc(o)})}function Wa(o,u){ke(o)&&(Cj(ke(o),o.Ba),or(ke(o),"tokenChanged",o.qa),or(ke(o),"userDeleted",o.za),or(ke(o),"userInvalidated",o.Aa),ry(ke(o))),u&&(u.W.push(o.Ba),_r(u,"tokenChanged",o.qa),_r(u,"userDeleted",o.za),_r(u,"userInvalidated",o.Aa),0<o.u&&cC(u)),ce(o,"currentUser",u),u&&(u.xa(o.la()),Zm(u,o),$c(u,o.J),ty(u,o),Jm(u,o.R),ey(u,o))}e.Bb=function(){var o=this,u=this.h.then(function(){return o.b&&Bh(o.b.b),ke(o)?(Wa(o,null),wC(o.i).then(function(){Qc(o)})):ge()});return Tt(this,u)};function Vj(o){var u=xj(o.D,ot(o).options.authDomain).then(function(f){return(o.m=f)&&(f.ha=o.D),yC(o.D)});return Tt(o,u)}function Bj(o){var u=ot(o).options.authDomain,f=Vj(o).then(function(){return bC(o.i,u,o.R)}).then(function(p){return p?(p.ha=o.D,o.m&&(o.m.ga||null)==(p.ga||null)?p:p.reload().then(function(){return _C(o.i,p).then(function(){return p})}).o(function(m){return m.code=="auth/network-request-failed"?p:wC(o.i)})):null}).then(function(p){Wa(o,p||null)});return Tt(o,f)}function qj(o){return o.$.then(function(){return SC(o)}).o(function(){}).then(function(){if(!o.l)return o.ja()}).o(function(){}).then(function(){if(!o.l){o.ba=!0;var u=o.i;u.b.addListener(di("local"),u.a,o.ja)}})}e.Zc=function(){var o=this;return bC(this.i,ot(this).options.authDomain).then(function(u){if(!o.l){var f;if(f=ke(o)&&u){f=ke(o).uid;var p=u.uid;f=f==null||f===""||p===void 0||p===null||p===""?!1:f==p}if(f)return Kh(ke(o),u),ke(o).I();(ke(o)||u)&&(Wa(o,u),u&&(Gc(u),u.ha=o.D),o.b&&jh(o.b,o),Qc(o))}})},e.da=function(o){return _C(this.i,o)},e.mc=function(){Qc(this),this.da(ke(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function bs(o,u){var f=null,p=null;return Tt(o,u.then(function(m){return f=Yg(m),p=RT(m),jj(o,m)},function(m){var _=null;throw m&&m.code==="auth/multi-factor-auth-required"&&(_=iC(m.w(),o,F(o.kc,o))),_||m}).then(function(){return li({user:ke(o),credential:f,additionalUserInfo:p,operationType:"signIn"})}))}e.kc=function(o){var u=this;return this.h.then(function(){return bs(u,ge(o))})},e.zc=function(o){var u=this;this.addAuthTokenListener(function(){o.next(ke(u))})},e.Ac=function(o){var u=this;Hj(this,function(){o.next(ke(u))})},e.Ic=function(o,u,f){var p=this;return this.ba&&Promise.resolve().then(function(){typeof o=="function"?o(ke(p)):typeof o.next=="function"&&o.next(ke(p))}),this.Pa(o,u,f)},e.Hc=function(o,u,f){var p=this;return this.ba&&Promise.resolve().then(function(){p.W=p.getUid(),typeof o=="function"?o(ke(p)):typeof o.next=="function"&&o.next(ke(p))}),this.ib(o,u,f)},e.nc=function(o){var u=this,f=this.h.then(function(){return ke(u)?ke(u).I(o).then(function(p){return{accessToken:p}}):null});return Tt(this,f)},e.Tc=function(o){var u=this;return this.h.then(function(){return bs(u,je(u.a,IU,{token:o}))}).then(function(f){var p=f.user;return po(p,"isAnonymous",!1),u.da(p),f})},e.Uc=function(o,u){var f=this;return this.h.then(function(){return bs(f,je(f.a,pS,{email:o,password:u}))})},e.dc=function(o,u){var f=this;return this.h.then(function(){return bs(f,je(f.a,eU,{email:o,password:u}))})},e.ab=function(o){var u=this;return this.h.then(function(){return bs(u,o.ka(u.a))})},e.Sc=function(o){return Pg("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(o)},e.Ab=function(){var o=this;return this.h.then(function(){var u=ke(o);if(u&&u.isAnonymous){var f=li({providerId:null,isNewUser:!1});return li({user:u,credential:null,additionalUserInfo:f,operationType:"signIn"})}return bs(o,o.a.Ab()).then(function(p){var m=p.user;return po(m,"isAnonymous",!0),o.da(m),p})})};function ot(o){return o.app}function ke(o){return o.currentUser}e.getUid=function(){return ke(this)&&ke(this).uid||null};function $h(o){return ke(o)&&ke(o)._lat||null}function Qc(o){if(o.ba){for(var u=0;u<o.s.length;u++)o.s[u]&&o.s[u]($h(o));if(o.W!==o.getUid()&&o.N.length)for(o.W=o.getUid(),u=0;u<o.N.length;u++)o.N[u]&&o.N[u]($h(o))}}e.cc=function(o){this.addAuthTokenListener(o),this.u++,0<this.u&&ke(this)&&cC(ke(this))},e.Pc=function(o){var u=this;Z(this.s,function(f){f==o&&u.u--}),0>this.u&&(this.u=0),this.u==0&&ke(this)&&ry(ke(this)),this.removeAuthTokenListener(o)},e.addAuthTokenListener=function(o){var u=this;this.s.push(o),Tt(this,this.h.then(function(){u.l||D(u.s,o)&&o($h(u))}))},e.removeAuthTokenListener=function(o){B(this.s,function(u){return u==o})};function Hj(o,u){o.N.push(u),Tt(o,o.h.then(function(){!o.l&&D(o.N,u)&&o.W!==o.getUid()&&(o.W=o.getUid(),u($h(o)))}))}e.delete=function(){this.l=!0;for(var o=0;o<this.P.length;o++)this.P[o].cancel("app-deleted");return this.P=[],this.i&&(o=this.i,o.b.removeListener(di("local"),o.a,this.ja)),this.b&&(jm(this.b,this),Bh(this.b.b)),Promise.resolve()};function Tt(o,u){return o.P.push(u),u.oa(function(){j(o.P,u)}),u}e.hc=function(o){return Tt(this,W2(this.a,o))},e.Bc=function(o){return!!Qg(o)},e.xb=function(o,u){var f=this;return Tt(this,ge().then(function(){var p=new fh(u);if(!p.c)throw new R("argument-error",qg+" must be true when sending sign in link to email");return hh(p)}).then(function(p){return f.a.xb(o,p)}).then(function(){}))},e.jd=function(o){return this.Sa(o).then(function(u){return u.data.email})},e.ob=function(o,u){return Tt(this,this.a.ob(o,u).then(function(){}))},e.Sa=function(o){return Tt(this,this.a.Sa(o).then(function(u){return new n2(u)}))},e.kb=function(o){return Tt(this,this.a.kb(o).then(function(){}))},e.wb=function(o,u){var f=this;return Tt(this,ge().then(function(){return typeof u=="undefined"||si(u)?{}:hh(new fh(u))}).then(function(p){return f.a.wb(o,p)}).then(function(){}))},e.Wc=function(o,u){return Tt(this,Km(this,o,u,F(this.ab,this)))},e.Vc=function(o,u){var f=this;return Tt(this,ge().then(function(){var p=u||Ic(),m=BT(o,p);if(p=Qg(p),!p)throw new R("argument-error","Invalid email link!");if(p.tenantId!==f.T())throw new R("tenant-id-mismatch");return f.ab(m)}))};function Yc(){}Yc.prototype.render=function(){},Yc.prototype.reset=function(){},Yc.prototype.getResponse=function(){},Yc.prototype.execute=function(){};function $a(){this.a={},this.b=1e12}var py=null;$a.prototype.render=function(o,u){return this.a[this.b.toString()]=new Gh(o,u),this.b++},$a.prototype.reset=function(o){var u=vy(this,o);o=CC(o),u&&o&&(u.delete(),delete this.a[o])},$a.prototype.getResponse=function(o){return(o=vy(this,o))?o.getResponse():null},$a.prototype.execute=function(o){(o=vy(this,o))&&o.execute()};function vy(o,u){return(u=CC(u))&&o.a[u]||null}function CC(o){return(o=typeof o=="undefined"?1e12:o)?o.toString():null}function Gh(o,u){this.g=!1,this.c=u,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=gc(o);var f=this;this.i=function(){f.execute()},this.h?this.execute():_r(this.f,"click",this.i)}Gh.prototype.getResponse=function(){return gy(this),this.b},Gh.prototype.execute=function(){gy(this);var o=this;this.a||(this.a=setTimeout(function(){o.b=YF();var u=o.c.callback,f=o.c["expired-callback"];if(u)try{u(o.b)}catch{}o.a=setTimeout(function(){if(o.a=null,o.b=null,f)try{f()}catch{}o.h&&o.execute()},6e4)},500))},Gh.prototype.delete=function(){gy(this),this.g=!0,clearTimeout(this.a),this.a=null,or(this.f,"click",this.i)};function gy(o){if(o.g)throw Error("reCAPTCHA mock was already deleted!")}function my(){}ce(my,"FACTOR_ID","phone");function yy(){}yy.prototype.g=function(){return py||(py=new $a),ge(py)},yy.prototype.c=function(){};var _y=null;function wy(){this.b=l.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Kj=new ai(Qf,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Wj=new lo(3e4,6e4);wy.prototype.g=function(o){var u=this;return new Ue(function(f,p){var m=setTimeout(function(){p(new R("network-request-failed"))},Wj.get());if(!l.grecaptcha||o!==u.f&&!u.b){l[u.a]=function(){if(l.grecaptcha){u.f=o;var b=l.grecaptcha.render;l.grecaptcha.render=function(S,U){return S=b(S,U),u.b++,S},clearTimeout(m),f(l.grecaptcha)}else clearTimeout(m),p(new R("internal-error"));delete l[u.a]};var _=tg(Kj,{onload:u.a,hl:o||""});ge(cm(_)).o(function(){clearTimeout(m),p(new R("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(m),f(l.grecaptcha)})},wy.prototype.c=function(){this.b--};var by=null;function Ey(o,u,f,p,m,_,b){if(ce(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=u,this.g=null,b?(_y||(_y=new yy),b=_y):(by||(by=new wy),b=by),this.m=b,this.a=f||{theme:"light",type:"image"},this.h=[],this.a[RC])throw new R("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[$j]==="invisible",!l.document)throw new R("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!gc(u)||!this.i&&gc(u).hasChildNodes())throw new R("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new qr(o,_||null,m||null),this.u=p||function(){return null};var S=this;this.l=[];var U=this.a[AC];this.a[AC]=function(Ie){if(NC(S,Ie),typeof U=="function")U(Ie);else if(typeof U=="string"){var tt=gt(U,l);typeof tt=="function"&&tt(Ie)}};var H=this.a[kC];this.a[kC]=function(){if(NC(S,null),typeof H=="function")H();else if(typeof H=="string"){var Ie=gt(H,l);typeof Ie=="function"&&Ie()}}}var AC="callback",kC="expired-callback",RC="sitekey",$j="size";function NC(o,u){for(var f=0;f<o.l.length;f++)try{o.l[f](u)}catch{}}function Gj(o,u){B(o.l,function(f){return f==u})}function Iy(o,u){return o.h.push(u),u.oa(function(){j(o.h,u)}),u}e=Ey.prototype,e.Ia=function(){var o=this;return this.f?this.f:this.f=Iy(this,ge().then(function(){if(ch()&&!Vr())return uh();throw new R("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return o.m.g(o.u())}).then(function(u){return o.g=u,je(o.s,pU,{})}).then(function(u){o.a[RC]=u.recaptchaSiteKey}).o(function(u){throw o.f=null,u}))},e.render=function(){zh(this);var o=this;return Iy(this,this.Ia().then(function(){if(o.c===null){var u=o.v;if(!o.i){var f=gc(u);u=_F("DIV"),f.appendChild(u)}o.c=o.g.render(u,o.a)}return o.c}))},e.verify=function(){zh(this);var o=this;return Iy(this,this.render().then(function(u){return new Ue(function(f){var p=o.g.getResponse(u);if(p)f(p);else{var m=function(_){_&&(Gj(o,m),f(_))};o.l.push(m),o.i&&o.g.execute(o.c)}})}))},e.reset=function(){zh(this),this.c!==null&&this.g.reset(this.c)};function zh(o){if(o.J)throw new R("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){zh(this),this.J=!0,this.m.c();for(var o=0;o<this.h.length;o++)this.h[o].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){o=gc(this.v);for(var u;u=o.firstChild;)o.removeChild(u)}};function Ty(o,u,f){var p=!1;try{this.b=f||le.app()}catch{throw new R("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)f=this.b.options.apiKey;else throw new R("invalid-api-key");var m=this,_=null;try{_=this.b.auth().Ga()}catch{}try{p=this.b.auth().settings.appVerificationDisabledForTesting}catch{}_=le.SDK_VERSION?xa(le.SDK_VERSION,_):null,Ey.call(this,f,o,u,function(){try{var b=m.b.auth().la()}catch{b=null}return b},_,at(Ze),p)}M(Ty,Ey);function PC(o,u,f,p){e:{f=Array.prototype.slice.call(f);for(var m=0,_=!1,b=0;b<u.length;b++)if(u[b].optional)_=!0;else{if(_)throw new R("internal-error","Argument validator encountered a required argument after an optional argument.");m++}if(_=u.length,f.length<m||_<f.length)p="Expected "+(m==_?m==1?"1 argument":m+" arguments":m+"-"+_+" arguments")+" but got "+f.length+".";else{for(m=0;m<f.length;m++)if(_=u[m].optional&&f[m]===void 0,!u[m].M(f[m])&&!_){if(u=u[m],0>m||m>=OC.length)throw new R("internal-error","Argument validator received an unsupported number of arguments.");f=OC[m],p=(p?"":f+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break e}p=null}}if(p)throw new R("argument-error",o+" failed: "+p)}var OC="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function ue(o,u){return{name:o||"",K:"a valid string",optional:!!u,M:function(f){return typeof f=="string"}}}function Sy(o,u){return{name:o||"",K:"a boolean",optional:!!u,M:function(f){return typeof f=="boolean"}}}function xt(o,u){return{name:o||"",K:"a valid object",optional:!!u,M:I}}function Ga(o,u){return{name:o||"",K:"a function",optional:!!u,M:function(f){return typeof f=="function"}}}function pi(o,u){return{name:o||"",K:"null",optional:!!u,M:function(f){return f===null}}}function zj(){return{name:"",K:"an HTML element",optional:!1,M:function(o){return!!(o&&o instanceof Element)}}}function Qj(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(o){return!!(o&&o instanceof Kr)}}}function Yj(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(o){return!!(o&&o instanceof le.app.App)}}}function vo(o){return{name:o?o+"Credential":"credential",K:o?"a valid "+o+" credential":"a valid credential",optional:!1,M:function(u){if(!u)return!1;var f=!o||u.providerId===o;return!(!u.ka||!f)}}}function xC(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(o){return o?!!o.tb:!1}}}function za(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}}function Cy(o,u){return I(o)&&typeof o.type=="string"&&o.type===u&&typeof o.Ha=="function"}function DC(o){return I(o)&&typeof o.uid=="string"}function Qh(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(o){return!(!o||typeof o.type!="string"||typeof o.verify!="function")}}}function kt(o,u,f,p){return{name:f||"",K:o.K+" or "+u.K,optional:!!p,M:function(m){return o.M(m)||u.M(m)}}}function _t(o,u){for(var f in u){var p=u[f].name;o[p]=MC(p,o[f],u[f].j)}}function LC(o,u){for(var f in u){var p=u[f].name;p!==f&&Object.defineProperty(o,p,{get:G(function(m){return this[m]},f),set:G(function(m,_,b,S){PC(m,[b],[S],!0),this[_]=S},p,f,u[f].lb),enumerable:!0})}}function Rt(o,u,f,p){o[u]=MC(u,f,p)}function MC(o,u,f){function p(){var b=Array.prototype.slice.call(arguments);return PC(m,f,b),u.apply(this,b)}if(!f)return u;var m=Xj(o),_;for(_ in u)p[_]=u[_];for(_ in u.prototype)p.prototype[_]=u.prototype[_];return p}function Xj(o){return o=o.split("."),o[o.length-1]}_t(Kr.prototype,{kb:{name:"applyActionCode",j:[ue("code")]},Sa:{name:"checkActionCode",j:[ue("code")]},ob:{name:"confirmPasswordReset",j:[ue("code"),ue("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[ue("email"),ue("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[ue("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[ue("emailLink")]},Hc:{name:"onAuthStateChanged",j:[kt(xt(),Ga(),"nextOrObserver"),Ga("opt_error",!0),Ga("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[kt(xt(),Ga(),"nextOrObserver"),Ga("opt_error",!0),Ga("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[ue("email"),kt(xt("opt_actionCodeSettings",!0),pi(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[ue("email"),xt("actionCodeSettings")]},yb:{name:"setPersistence",j:[ue("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[vo()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[vo()]},Tc:{name:"signInWithCustomToken",j:[ue("token")]},Uc:{name:"signInWithEmailAndPassword",j:[ue("email"),ue("password")]},Vc:{name:"signInWithEmailLink",j:[ue("email"),ue("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[ue("phoneNumber"),Qh()]},Xc:{name:"signInWithPopup",j:[za()]},Yc:{name:"signInWithRedirect",j:[za()]},dd:{name:"updateCurrentUser",j:[kt(function(o){return{name:"user",K:"an instance of Firebase User",optional:!!o,M:function(u){return!!(u&&u instanceof ar)}}}(),pi(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[ue(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[ue("url"),xt("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[ue("code")]}}),LC(Kr.prototype,{lc:{name:"languageCode",lb:kt(ue(),pi(),"languageCode")},ti:{name:"tenantId",lb:kt(ue(),pi(),"tenantId")}}),Kr.Persistence=Va,Kr.Persistence.LOCAL="local",Kr.Persistence.SESSION="session",Kr.Persistence.NONE="none",_t(ar.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Sy("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Sy("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[vo()]},rb:{name:"linkWithCredential",j:[vo()]},Dc:{name:"linkWithPhoneNumber",j:[ue("phoneNumber"),Qh()]},Ec:{name:"linkWithPopup",j:[za()]},Fc:{name:"linkWithRedirect",j:[za()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[vo()]},ub:{name:"reauthenticateWithCredential",j:[vo()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[ue("phoneNumber"),Qh()]},Nc:{name:"reauthenticateWithPopup",j:[za()]},Oc:{name:"reauthenticateWithRedirect",j:[za()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[kt(xt("opt_actionCodeSettings",!0),pi(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[ue(null,!0)]},cd:{name:"unlink",j:[ue("provider")]},Cb:{name:"updateEmail",j:[ue("email")]},Db:{name:"updatePassword",j:[ue("password")]},ed:{name:"updatePhoneNumber",j:[vo("phone")]},Eb:{name:"updateProfile",j:[xt("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[ue("email"),kt(xt("opt_actionCodeSettings",!0),pi(null,!0),"opt_actionCodeSettings",!0)]}}),_t($a.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),_t(Yc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),_t(Ue.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),LC(tC.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Sy("appVerificationDisabledForTesting")}}),_t(Hm.prototype,{confirm:{name:"confirm",j:[ue("verificationCode")]}}),Rt(Ma,"fromJSON",function(o){o=typeof o=="string"?JSON.parse(o):o;for(var u,f=[w2,b2,E2,_2],p=0;p<f.length;p++)if(u=f[p](o))return u;return null},[kt(ue(),xt(),"json")]),Rt(br,"credential",function(o,u){return new fo(o,u)},[ue("email"),ue("password")]),_t(fo.prototype,{w:{name:"toJSON",j:[ue(null,!0)]}}),_t(ds.prototype,{Ca:{name:"addScope",j:[ue("scope")]},Ka:{name:"setCustomParameters",j:[xt("customOAuthParameters")]}}),Rt(ds,"credential",FT,[kt(ue(),xt(),"token")]),Rt(br,"credentialWithLink",BT,[ue("email"),ue("emailLink")]),_t(ps.prototype,{Ca:{name:"addScope",j:[ue("scope")]},Ka:{name:"setCustomParameters",j:[xt("customOAuthParameters")]}}),Rt(ps,"credential",UT,[kt(ue(),xt(),"token")]),_t(vs.prototype,{Ca:{name:"addScope",j:[ue("scope")]},Ka:{name:"setCustomParameters",j:[xt("customOAuthParameters")]}}),Rt(vs,"credential",jT,[kt(ue(),kt(xt(),pi()),"idToken"),kt(ue(),pi(),"accessToken",!0)]),_t(Ua.prototype,{Ka:{name:"setCustomParameters",j:[xt("customOAuthParameters")]}}),Rt(Ua,"credential",VT,[kt(ue(),xt(),"token"),ue("secret",!0)]),_t(sr.prototype,{Ca:{name:"addScope",j:[ue("scope")]},credential:{name:"credential",j:[kt(ue(),kt(xt(),pi()),"optionsOrIdToken"),kt(ue(),pi(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[xt("customOAuthParameters")]}}),_t(Li.prototype,{w:{name:"toJSON",j:[ue(null,!0)]}}),_t(fs.prototype,{w:{name:"toJSON",j:[ue(null,!0)]}}),Rt(Mi,"credential",qT,[ue("verificationId"),ue("verificationCode")]),_t(Mi.prototype,{gb:{name:"verifyPhoneNumber",j:[kt(ue(),function(o,u){return{name:o||"phoneInfoOptions",K:"valid phone info options",optional:!!u,M:function(f){return f?f.session&&f.phoneNumber?Cy(f.session,Nc)&&typeof f.phoneNumber=="string":f.session&&f.multiFactorHint?Cy(f.session,mh)&&DC(f.multiFactorHint):f.session&&f.multiFactorUid?Cy(f.session,mh)&&typeof f.multiFactorUid=="string":f.phoneNumber?typeof f.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Qh()]}}),_t(ho.prototype,{w:{name:"toJSON",j:[ue(null,!0)]}}),_t(R.prototype,{toJSON:{name:"toJSON",j:[ue(null,!0)]}}),_t(Oc.prototype,{toJSON:{name:"toJSON",j:[ue(null,!0)]}}),_t(Zg.prototype,{toJSON:{name:"toJSON",j:[ue(null,!0)]}}),_t($m.prototype,{toJSON:{name:"toJSON",j:[ue(null,!0)]}}),_t(Wm.prototype,{Rc:{name:"resolveSignIn",j:[xC()]}}),_t(zm.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[xC(),ue("displayName",!0)]},bd:{name:"unenroll",j:[kt({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:DC},ue(),"multiFactorInfoIdentifier")]}}),_t(Ty.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Rt(Bg,"parseLink",_T,[ue("link")]),Rt(my,"assertion",function(o){return new sC(o)},[vo("phone")]),function(){if(typeof le!="undefined"&&le.INTERNAL&&le.INTERNAL.registerComponent){var o={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:lh,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Vg,VERIFY_AND_CHANGE_EMAIL:kc,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Kr,AuthCredential:Ma,Error:R};Rt(o,"EmailAuthProvider",br,[]),Rt(o,"FacebookAuthProvider",ds,[]),Rt(o,"GithubAuthProvider",ps,[]),Rt(o,"GoogleAuthProvider",vs,[]),Rt(o,"TwitterAuthProvider",Ua,[]),Rt(o,"OAuthProvider",sr,[ue("providerId")]),Rt(o,"SAMLAuthProvider",MT,[ue("providerId")]),Rt(o,"PhoneAuthProvider",Mi,[Qj()]),Rt(o,"RecaptchaVerifier",Ty,[kt(ue(),zj(),"recaptchaContainer"),xt("recaptchaParameters",!0),Yj()]),Rt(o,"ActionCodeURL",Bg,[]),Rt(o,"PhoneMultiFactorGenerator",my,[]),le.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return u=u.getProvider("app").getImmediate(),new Kr(u)},multipleInstances:!1,serviceProps:o,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(u){u.getProvider("auth-internal").initialize()}}),le.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return u=u.getProvider("auth").getImmediate(),{getUid:F(u.getUid,u),getToken:F(u.nc,u),addAuthTokenListener:F(u.cc,u),removeAuthTokenListener:F(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),le.registerVersion("@firebase/auth","0.16.8"),le.INTERNAL.extendNamespace({User:ar})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{});var fq="@firebase/database",hq="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fP="";function hP(e){fP=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dq=function(){function e(t){this.domStorage_=t,this.prefix_="firebase:"}return e.prototype.set=function(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),qt(n))},e.prototype.get=function(t){var n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Bl(n)},e.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},e.prototype.prefixedName_=function(t){return this.prefix_+t},e.prototype.toString=function(){return this.domStorage_.toString()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pq=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n},e.prototype.get=function(t){return gr(this.cache_,t)?this.cache_[t]:null},e.prototype.remove=function(t){delete this.cache_[t]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dP=function(e){try{if(typeof window!="undefined"&&typeof window[e]!="undefined"){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new dq(t)}}catch{}return new pq},Fs=dP("localStorage"),$_=dP("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var du=new da("@firebase/database"),pP=function(){var e=1;return function(){return e++}}(),vP=function(e){var t=O3(e),n=new k3;n.update(t);var r=n.digest();return Gp.encodeByteArray(r)},yf=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?n+=yf.apply(null,i):typeof i=="object"?n+=qt(i):n+=i,n+=" "}return n},$s=null,OA=!0,gP=function(e,t){z(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(du.logLevel=Fe.VERBOSE,$s=du.log.bind(du),t&&$_.set("logging_enabled",!0)):typeof e=="function"?$s=e:($s=null,$_.remove("logging_enabled"))},Qt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(OA===!0&&(OA=!1,$s===null&&$_.get("logging_enabled")===!0&&gP(!0)),$s){var n=yf.apply(null,e);$s(n)}},_f=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Qt.apply(void 0,Oe([e],ln(t)))}},G_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+yf.apply(void 0,Oe([],ln(e)));du.error(n)},Ci=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+yf.apply(void 0,Oe([],ln(e)));throw du.error(n),new Error(n)},hn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+yf.apply(void 0,Oe([],ln(e)));du.warn(n)},vq=function(){typeof window!="undefined"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&hn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Qp=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},gq=function(e){if(document.readyState==="complete")e();else{var t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Xi="[MIN_NAME]",Ai="[MAX_NAME]",pa=function(e,t){if(e===t)return 0;if(e===Xi||t===Ai)return-1;if(t===Xi||e===Ai)return 1;var n=Bd(e),r=Bd(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1},mq=function(e,t){return e===t?0:e<t?-1:1},Zc=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+qt(t))},Db=function(e){if(typeof e!="object"||e===null)return qt(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)i!==0&&(r+=","),r+=qt(t[i]),r+=":",r+=Db(e[t[i]]);return r+="}",r},mP=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Wt(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var yP=function(e){z(!Qp(e),"Invalid JSON number");var t=11,n=52,r=(1<<t-1)-1,i,s,a,c,l;e===0?(s=0,a=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=c+r,a=Math.round(e*Math.pow(2,n-c)-Math.pow(2,n))):(s=0,a=Math.round(e/Math.pow(2,1-r-n))));var h=[];for(l=n;l;l-=1)h.push(a%2?1:0),a=Math.floor(a/2);for(l=t;l;l-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();var d=h.join(""),v="";for(l=0;l<64;l+=8){var g=parseInt(d.substr(l,8),2).toString(16);g.length===1&&(g="0"+g),v=v+g}return v.toLowerCase()},yq=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},_q=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function wq(e,t){var n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var bq=new RegExp("^-?(0*)\\d{1,10}$"),_P=-2147483648,Lb=2147483647,Bd=function(e){if(bq.test(e)){var t=Number(e);if(t>=_P&&t<=Lb)return t}return null},Zu=function(e){try{e()}catch(t){setTimeout(function(){var n=t.stack||"";throw hn("Exception was thrown by user callback.",n),t},Math.floor(0))}},Eq=function(){var e=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return e.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},gl=function(e,t){var n=setTimeout(e,t);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Iq=function(){function e(t,n){var r=this;this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(function(i){return r.appCheck=i})}return e.prototype.getToken=function(t){var n=this;return this.appCheck?this.appCheck.getToken(t):new Promise(function(r,i){setTimeout(function(){n.appCheck?n.getToken(t).then(r,i):r(null)},0)})},e.prototype.addTokenChangeListener=function(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(function(r){return r.addTokenListener(t)})},e.prototype.notifyForInvalidToken=function(){hn('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tq=function(){function e(t,n,r){var i=this;this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(function(s){return i.auth_=s})}return e.prototype.getToken=function(t){var n=this;return this.auth_?this.auth_.getToken(t).catch(function(r){return r&&r.code==="auth/token-not-initialized"?(Qt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)}):new Promise(function(r,i){setTimeout(function(){n.auth_?n.getToken(t).then(r,i):r(null)},0)})},e.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(function(n){return n.addAuthTokenListener(t)})},e.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(n){return n.removeAuthTokenListener(t)})},e.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',hn(t)},e}(),ml=function(){function e(t){this.accessToken=t}return e.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(t){t(this.accessToken)},e.prototype.removeTokenChangeListener=function(t){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mb="5",wP="v",bP="s",EP="r",IP="f",TP=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,SP="ls",Sq="p",z_="ac",CP="websocket",AP="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fb=function(){function e(t,n,r,i,s,a,c){s===void 0&&(s=!1),a===void 0&&(a=""),c===void 0&&(c=!1),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=c,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Fs.get("host:"+t)||this._host}return e.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},e.prototype.isCustomHost=function(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Fs.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},e.prototype.toURLString=function(){var t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+t+this.host+"/"+n},e}();function Cq(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function kP(e,t,n){z(typeof t=="string","typeof type must == string"),z(typeof n=="object","typeof params must == object");var r;if(t===CP)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===AP)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);Cq(e)&&(n.ns=e.namespace);var i=[];return Wt(n,function(s,a){i.push(s+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Aq=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(t,n){n===void 0&&(n=1),gr(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n},e.prototype.get=function(){return tP(this.counters_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var By={},qy={};function Ub(e){var t=e.toString();return By[t]||(By[t]=new Aq),By[t]}function kq(e,t){var n=e.toString();return qy[n]||(qy[n]=t()),qy[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rq=function(){function e(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(t,n){var r=this;this.pendingResponses[t]=n;for(var i=function(){var c=s.pendingResponses[s.currentResponseNum];delete s.pendingResponses[s.currentResponseNum];for(var l=function(d){c[d]&&Zu(function(){r.onMessage_(c[d])})},h=0;h<c.length;++h)l(h);if(s.currentResponseNum===s.closeAfterResponse)return s.onClose&&(s.onClose(),s.onClose=null),"break";s.currentResponseNum++},s=this;this.pendingResponses[this.currentResponseNum];){var a=i();if(a==="break")break}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xA="start",Nq="close",Pq="pLPCommand",Oq="pRTLPCB",RP="id",NP="pw",PP="ser",xq="cb",Dq="seg",Lq="ts",Mq="d",Fq="dframe",OP=1870,xP=30,Uq=OP-xP,jq=25e3,Vq=3e4,jb=function(){function e(t,n,r,i,s,a,c){var l=this;this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=_f(t),this.stats_=Ub(n),this.urlFn=function(h){return l.appCheckToken&&(h[z_]=l.appCheckToken),kP(n,AP,h)}}return e.prototype.open=function(t,n){var r=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Rq(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(Vq)),gq(function(){if(!r.isClosed_){r.scriptTagHolder=new Bq(function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var l=ln(a,5),h=l[0],d=l[1],v=l[2];if(l[3],l[4],r.incrementIncomingBytes_(a),!!r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,h===xA)r.id=d,r.password=v;else if(h===Nq)d?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(d,function(){r.onClosed_()})):r.onClosed_();else throw new Error("Unrecognized command received: "+h)},function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var l=ln(a,2),h=l[0],d=l[1];r.incrementIncomingBytes_(a),r.myPacketOrderer.handleResponse(h,d)},function(){r.onClosed_()},r.urlFn);var i={};i[xA]="t",i[PP]=Math.floor(Math.random()*1e8),r.scriptTagHolder.uniqueCallbackIdentifier&&(i[xq]=r.scriptTagHolder.uniqueCallbackIdentifier),i[wP]=Mb,r.transportSessionId&&(i[bP]=r.transportSessionId),r.lastSessionId&&(i[SP]=r.lastSessionId),r.applicationId&&(i[Sq]=r.applicationId),r.appCheckToken&&(i[z_]=r.appCheckToken),typeof location!="undefined"&&location.hostname&&TP.test(location.hostname)&&(i[EP]=IP);var s=r.urlFn(i);r.log_("Connecting via long-poll to "+s),r.scriptTagHolder.addTag(s,function(){})}})},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return e.forceAllow_?!0:!e.forceDisallow_&&typeof document!="undefined"&&document.createElement!=null&&!yq()&&!_q()},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(t){var n=qt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);for(var r=eP(n),i=mP(r,Uq),s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(t,n){this.myDisconnFrame=document.createElement("iframe");var r={};r[Fq]="t",r[RP]=t,r[NP]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},e.prototype.incrementIncomingBytes_=function(t){var n=qt(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)},e}(),Bq=function(){function e(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=pP(),window[Pq+this.uniqueCallbackIdentifier]=t,window[Oq+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var s="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){var a=document.domain;s='<script>document.domain="'+a+'";<\/script>'}var c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(l){Qt("frame writing exception"),l.stack&&Qt(l.stack),Qt(l)}}}return e.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{var n=t.contentWindow.document;n||Qt("No IE domain setting required")}catch{var r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},e.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){t.myIFrame!==null&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var n=this.onDisconnect;n&&(this.onDisconnect=null,n())},e.prototype.startLongPoll=function(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t[RP]=this.myID,t[NP]=this.myPW,t[PP]=this.currentSerial;for(var n=this.urlFn(t),r="",i=0;this.pendingSegs.length>0;){var s=this.pendingSegs[0];if(s.d.length+xP+r.length<=OP){var a=this.pendingSegs.shift();r=r+"&"+Dq+i+"="+a.seg+"&"+Lq+i+"="+a.ts+"&"+Mq+i+"="+a.d,i++}else break}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1},e.prototype.enqueueSegment=function(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(t,n){var r=this;this.outstandingRequests.add(n);var i=function(){r.outstandingRequests.delete(n),r.newRequest_()},s=setTimeout(i,Math.floor(jq)),a=function(){clearTimeout(s),i()};this.addTag(t,a)},e.prototype.addTag=function(t,n){var r=this;setTimeout(function(){try{if(!r.sendNewPolls)return;var i=r.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){var s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){Qt("Long-poll script failed to load: "+t),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qq=16384,Hq=45e3,qd=null;typeof MozWebSocket!="undefined"?qd=MozWebSocket:typeof WebSocket!="undefined"&&(qd=WebSocket);var xs=function(){function e(t,n,r,i,s,a,c){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=_f(this.connId),this.stats_=Ub(n),this.connURL=e.connectionURL_(n,a,c,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(t,n,r,i){var s={};return s[wP]=Mb,typeof location!="undefined"&&location.hostname&&TP.test(location.hostname)&&(s[EP]=IP),n&&(s[bP]=n),r&&(s[SP]=r),i&&(s[z_]=i),kP(t,CP,s)},e.prototype.open=function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Fs.set("previous_websocket_failure",!0);try{var i,s,a,c;if(!iP()){var s={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new qd(this.connURL,[],s)}}catch(h){this.log_("Error instantiating WebSocket.");var l=h.message||h.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(h){r.handleIncomingFrame(h)},this.mySock.onerror=function(h){r.log_("WebSocket error.  Closing connection.");var d=h.message||h.data;d&&r.log_(d),r.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if(typeof navigator!="undefined"&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&qd!==null&&!e.forceDisallow_},e.previouslyFailed=function(){return Fs.isInMemoryStorage||Fs.get("previous_websocket_failure")===!0},e.prototype.markConnectionHealthy=function(){Fs.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var n=this.frames.join("");this.frames=null;var r=Bl(n);this.onMessage(r)}},e.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},e.prototype.extractFrameCount_=function(t){if(z(this.frames===null,"We already have a frame buffer"),t.length<=6){var n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t},e.prototype.handleIncomingFrame=function(t){if(this.mySock!==null){var n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{var r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}},e.prototype.send=function(t){this.resetKeepAlive();var n=qt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);var r=mP(n,qq);r.length>1&&this.sendString_(String(r.length));for(var i=0;i<r.length;i++)this.sendString_(r[i])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(Hq))},e.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kq=function(){function e(t){this.initTransports_(t)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[jb,xs]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=xs&&xs.isAvailable(),s=i&&!xs.previouslyFailed();if(t.webSocketOnly&&(i||hn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[xs];else{var a=this.transports_=[];try{for(var c=Zt(e.ALL_TRANSPORTS),l=c.next();!l.done;l=c.next()){var h=l.value;h&&h.isAvailable()&&a.push(h)}}catch(d){n={error:d}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wq=6e4,$q=5e3,Gq=10*1024,zq=100*1024,Hy="t",DA="d",Qq="s",LA="r",Yq="e",MA="o",FA="a",UA="n",jA="p",Xq="h",DP=function(){function e(t,n,r,i,s,a,c,l,h,d){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=c,this.onDisconnect_=l,this.onKill_=h,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=_f("c:"+this.id+":"),this.transportManager_=new Kq(n),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var t=this,n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(r,i)},Math.floor(0));var s=n.healthyTimeout||0;s>0&&(this.healthyTimeout_=gl(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>zq?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>Gq?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(s)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(t){var n=this;return function(r){t===n.conn_?n.onConnectionLost_(r):t===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},e.prototype.connReceiver_=function(t){var n=this;return function(r){n.state_!==2&&(t===n.rx_?n.onPrimaryMessageReceived_(r):t===n.secondaryConn_?n.onSecondaryMessageReceived_(r):n.log_("message on old connection"))}},e.prototype.sendRequest=function(t){var n={t:"d",d:t};this.sendData_(n)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(t){if(Hy in t){var n=t[Hy];n===FA?this.upgradeIfSecondaryHealthy_():n===LA?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===MA&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(t){var n=Zc("t",t),r=Zc("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:jA,d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:FA,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:UA,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(t){var n=Zc("t",t),r=Zc("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)},e.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(t){var n=Zc(Hy,t);if(DA in t){var r=t[DA];if(n===Xq)this.onHandshake_(r);else if(n===UA){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Qq?this.onConnectionShutdown_(r):n===LA?this.onReset_(r):n===Yq?G_("Server Error: "+r):n===MA?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):G_("Unknown control packet command: "+n)}},e.prototype.onHandshake_=function(t){var n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Mb!==r&&hn("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},e.prototype.startUpgrade_=function(t){var n=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,i),gl(function(){n.secondaryConn_&&(n.log_("Timed out trying to upgrade."),n.secondaryConn_.close())},Math.floor(Wq))},e.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(t,n){var r=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):gl(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor($q))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:jA,d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()},e.prototype.onConnectionLost_=function(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Fs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},e.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)},e.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LP=function(){function e(){}return e.prototype.put=function(t,n,r,i){},e.prototype.merge=function(t,n,r,i){},e.prototype.refreshAuthToken=function(t){},e.prototype.refreshAppCheckToken=function(t){},e.prototype.onDisconnectPut=function(t,n,r){},e.prototype.onDisconnectMerge=function(t,n,r){},e.prototype.onDisconnectCancel=function(t,n){},e.prototype.reportStats=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MP=function(){function e(t){this.allowedEvents_=t,this.listeners_={},z(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Array.isArray(this.listeners_[t]))for(var i=Oe([],ln(this.listeners_[t])),s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)},e.prototype.on=function(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});var i=this.getInitialEvent(t);i&&n.apply(r,i)},e.prototype.off=function(t,n,r){this.validateEventType_(t);for(var i=this.listeners_[t]||[],s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}},e.prototype.validateEventType_=function(t){z(this.allowedEvents_.find(function(n){return n===t}),"Unknown event: "+t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VA=function(e){ne(t,e);function t(){var n=e.call(this,["online"])||this;return n.online_=!0,typeof window!="undefined"&&typeof window.addEventListener!="undefined"&&!kb()&&(window.addEventListener("online",function(){n.online_||(n.online_=!0,n.trigger("online",!0))},!1),window.addEventListener("offline",function(){n.online_&&(n.online_=!1,n.trigger("online",!1))},!1)),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return z(n==="online","Unknown event type: "+n),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(MP);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BA=32,qA=768,Xe=function(){function e(t,n){if(n===void 0){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return e.prototype.toString=function(){for(var t="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"},e}();function Qe(){return new Xe("")}function xe(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ho(e){return e.pieces_.length-e.pieceNum_}function ct(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Xe(e.pieces_,t)}function Vb(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Jq(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function ql(e,t){return t===void 0&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function FP(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Xe(t,0)}function yt(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Xe)for(var r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else for(var i=t.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new Xe(n,0)}function De(e){return e.pieceNum_>=e.pieces_.length}function Bn(e,t){var n=xe(e),r=xe(t);if(n===null)return t;if(n===r)return Bn(ct(e),ct(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Zq(e,t){for(var n=ql(e,0),r=ql(t,0),i=0;i<n.length&&i<r.length;i++){var s=pa(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function Bb(e,t){if(Ho(e)!==Ho(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ar(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Ho(e)>Ho(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var eH=function(){function e(t,n){this.errorPrefix_=n,this.parts_=ql(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=zp(this.parts_[r]);UP(this)}return e}();function tH(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=zp(t),UP(e)}function nH(e){var t=e.parts_.pop();e.byteLength_-=zp(t),e.parts_.length>0&&(e.byteLength_-=1)}function UP(e){if(e.byteLength_>qA)throw new Error(e.errorPrefix_+"has a key path longer than "+qA+" bytes ("+e.byteLength_+").");if(e.parts_.length>BA)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+BA+") or object contains a cycle "+Rs(e))}function Rs(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rH=function(e){ne(t,e);function t(){var n=e.call(this,["visible"])||this,r,i;return typeof document!="undefined"&&typeof document.addEventListener!="undefined"&&(typeof document.hidden!="undefined"?(i="visibilitychange",r="hidden"):typeof document.mozHidden!="undefined"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden!="undefined"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden!="undefined"&&(i="webkitvisibilitychange",r="webkitHidden")),n.visible_=!0,i&&document.addEventListener(i,function(){var s=!document[r];s!==n.visible_&&(n.visible_=s,n.trigger("visible",s))},!1),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return z(n==="visible","Unknown event type: "+n),[this.visible_]},t}(MP);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var el=1e3,iH=60*5*1e3,oH=3*1e3,HA=30*1e3,sH=1.3,aH=3e4,uH="server_kill",KA=3,Gs=function(e){ne(t,e);function t(n,r,i,s,a,c,l,h){var d=e.call(this)||this;if(d.repoInfo_=n,d.applicationId_=r,d.onDataUpdate_=i,d.onConnectStatus_=s,d.onServerInfoUpdate_=a,d.authTokenProvider_=c,d.appCheckTokenProvider_=l,d.authOverride_=h,d.id=t.nextPersistentConnectionId_++,d.log_=_f("p:"+d.id+":"),d.interruptReasons_={},d.listens=new Map,d.outstandingPuts_=[],d.outstandingGets_=[],d.outstandingPutCount_=0,d.outstandingGetCount_=0,d.onDisconnectRequestQueue_=[],d.connected_=!1,d.reconnectDelay_=el,d.maxReconnectDelay_=iH,d.securityDebugCallback_=null,d.lastSessionId=null,d.establishConnectionTimer_=null,d.visible_=!1,d.requestCBHash_={},d.requestNumber_=0,d.realtime_=null,d.authToken_=null,d.appCheckToken_=null,d.forceTokenRefresh_=!1,d.invalidAuthTokenCount_=0,d.invalidAppCheckTokenCount_=0,d.firstConnection_=!0,d.lastConnectionAttemptTime_=null,d.lastConnectionEstablishedTime_=null,h&&!iP())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return rH.getInstance().on("visible",d.onVisible_,d),n.host.indexOf("fblocal")===-1&&VA.getInstance().on("online",d.onOnline_,d),d}return t.prototype.sendRequest=function(n,r,i){var s=++this.requestNumber_,a={r:s,a:n,b:r};this.log_(qt(a)),z(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[s]=i)},t.prototype.get=function(n){var r=this;this.initConnection_();var i=new Xt,s={p:n._path.toString(),q:n._queryObject},a={action:"g",request:s,onComplete:function(l){var h=l.d;l.s==="ok"?(r.onDataUpdate_(s.p,h,!1,null),i.resolve(h)):i.reject(h)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;var c=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var l=r.outstandingGets_[c];l===void 0||a!==l||(delete r.outstandingGets_[c],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),r.log_("get "+c+" timed out on connection"),i.reject(new Error("Client is offline.")))},oH),this.connected_&&this.sendGet_(c),i.promise},t.prototype.listen=function(n,r,i,s){this.initConnection_();var a=n._queryIdentifier,c=n._path.toString();this.log_("Listen called for "+c+" "+a),this.listens.has(c)||this.listens.set(c,new Map),z(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),z(!this.listens.get(c).has(a),"listen() called twice for same path/queryId.");var l={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(c).set(a,l),this.connected_&&this.sendListen_(l)},t.prototype.sendGet_=function(n){var r=this,i=this.outstandingGets_[n];this.sendRequest("g",i.request,function(s){delete r.outstandingGets_[n],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})},t.prototype.sendListen_=function(n){var r=this,i=n.query,s=i._path.toString(),a=i._queryIdentifier;this.log_("Listen on "+s+" for "+a);var c={p:s},l="q";n.tag&&(c.q=i._queryObject,c.t=n.tag),c.h=n.hashFn(),this.sendRequest(l,c,function(h){var d=h.d,v=h.s;t.warnOnListenWarnings_(d,i);var g=r.listens.get(s)&&r.listens.get(s).get(a);g===n&&(r.log_("listen response",h),v!=="ok"&&r.removeListen_(s,a),n.onComplete&&n.onComplete(v,d))})},t.warnOnListenWarnings_=function(n,r){if(n&&typeof n=="object"&&gr(n,"w")){var i=ta(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){var s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',a=r._path.toString();hn("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+s+" at ")+(a+" to your security rules for better performance."))}}},t.prototype.refreshAuthToken=function(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(n)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(n){var r=n&&n.length===40;(r||C3(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=HA)},t.prototype.refreshAppCheckToken=function(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},t.prototype.tryAuth=function(){var n=this;if(this.connected_&&this.authToken_){var r=this.authToken_,i=S3(r)?"auth":"gauth",s={cred:r};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(i,s,function(a){var c=a.s,l=a.d||"error";n.authToken_===r&&(c==="ok"?n.invalidAuthTokenCount_=0:n.onAuthRevoked_(c,l))})}},t.prototype.tryAppCheck=function(){var n=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(r){var i=r.s,s=r.d||"error";i==="ok"?n.invalidAppCheckTokenCount_=0:n.onAppCheckRevoked_(i,s)})},t.prototype.unlisten=function(n,r){var i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),z(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");var a=this.removeListen_(i,s);a&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)},t.prototype.sendUnlisten_=function(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);var a={p:n},c="n";s&&(a.q=i,a.t=s),this.sendRequest(c,a)},t.prototype.onDisconnectPut=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})},t.prototype.onDisconnectMerge=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})},t.prototype.onDisconnectCancel=function(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})},t.prototype.sendOnDisconnect_=function(n,r,i,s){var a={p:r,d:i};this.log_("onDisconnect "+n,a),this.sendRequest(n,a,function(c){s&&setTimeout(function(){s(c.s,c.d)},Math.floor(0))})},t.prototype.put=function(n,r,i,s){this.putInternal("p",n,r,i,s)},t.prototype.merge=function(n,r,i,s){this.putInternal("m",n,r,i,s)},t.prototype.putInternal=function(n,r,i,s,a){this.initConnection_();var c={p:r,d:i};a!==void 0&&(c.h=a),this.outstandingPuts_.push({action:n,request:c,onComplete:s}),this.outstandingPutCount_++;var l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)},t.prototype.sendPut_=function(n){var r=this,i=this.outstandingPuts_[n].action,s=this.outstandingPuts_[n].request,a=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,s,function(c){r.log_(i+" response",c),delete r.outstandingPuts_[n],r.outstandingPutCount_--,r.outstandingPutCount_===0&&(r.outstandingPuts_=[]),a&&a(c.s,c.d)})},t.prototype.reportStats=function(n){var r=this;if(this.connected_){var i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,function(s){var a=s.s;if(a!=="ok"){var c=s.d;r.log_("reportStats","Error sending stats: "+c)}})}},t.prototype.onDataMessage_=function(n){if("r"in n){this.log_("from server: "+qt(n));var r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}},t.prototype.onDataPush_=function(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):G_("Unrecognized action received from server: "+qt(n)+`
Are you using the latest client?`)},t.prototype.onReady_=function(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(n){var r=this;z(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){r.establishConnectionTimer_=null,r.establishConnection_()},Math.floor(n))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=el,this.realtime_||this.scheduleConnect_(0)),this.visible_=n},t.prototype.onOnline_=function(n){n?(this.log_("Browser went online."),this.reconnectDelay_=el,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var n=new Date().getTime()-this.lastConnectionEstablishedTime_;n>aH&&(this.reconnectDelay_=el),this.lastConnectionEstablishedTime_=null}var r=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-r);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*sH)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return k(this,void 0,void 0,function(){var n,r,i,s,a,c,l,h,d,v,g,y,w,E,I=this;return A(this,function(C){switch(C.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null,n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,a=this.lastSessionId,c=!1,l=null,h=function(){l?l.close():(c=!0,i())},d=function(N){z(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(N)},this.realtime_={close:h,sendRequest:d},v=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,C.label=1;case 1:return C.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)])];case 2:return g=ln.apply(void 0,[C.sent(),2]),y=g[0],w=g[1],c?Qt("getToken() completed but was canceled"):(Qt("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=w&&w.token,l=new DP(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,function(N){hn(N+" ("+I.repoInfo_.toString()+")"),I.interrupt(uH)},a)),[3,4];case 3:return E=C.sent(),this.log_("Failed to get token: "+E),c||(this.repoInfo_.nodeAdmin&&hn(E),h()),[3,4];case 4:return[2]}})})},t.prototype.interrupt=function(n){Qt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(n){Qt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],K_(this.interruptReasons_)&&(this.reconnectDelay_=el,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(n){var r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})},t.prototype.cancelSentTransactions_=function(){for(var n=0;n<this.outstandingPuts_.length;n++){var r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(n,r){var i;r?i=r.map(function(a){return Db(a)}).join("$"):i="default";var s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")},t.prototype.removeListen_=function(n,r){var i=new Xe(n).toString(),s;if(this.listens.has(i)){var a=this.listens.get(i);s=a.get(r),a.delete(r),a.size===0&&this.listens.delete(i)}else s=void 0;return s},t.prototype.onAuthRevoked_=function(n,r){Qt("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=KA&&(this.reconnectDelay_=HA,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(n,r){Qt("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=KA&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))},t.prototype.restoreState_=function(){var n,r,i,s;this.tryAuth(),this.tryAppCheck();try{for(var a=Zt(this.listens.values()),c=a.next();!c.done;c=a.next()){var l=c.value;try{for(var h=(i=void 0,Zt(l.values())),d=h.next();!d.done;d=h.next()){var v=d.value;this.sendListen_(v)}}catch(w){i={error:w}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}}}catch(w){n={error:w}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}for(var g=0;g<this.outstandingPuts_.length;g++)this.outstandingPuts_[g]&&this.sendPut_(g);for(;this.onDisconnectRequestQueue_.length;){var y=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(y.action,y.pathString,y.data,y.onComplete)}for(var g=0;g<this.outstandingGets_.length;g++)this.outstandingGets_[g]&&this.sendGet_(g)},t.prototype.sendConnectStats_=function(){var n={},r="js";n["sdk."+r+"."+fP.replace(/\./g,"-")]=1,kb()?n["framework.cordova"]=1:rP()&&(n["framework.reactnative"]=1),this.reportStats(n)},t.prototype.shouldReconnect_=function(){var n=VA.getInstance().currentlyOnline();return K_(this.interruptReasons_)&&n},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(LP);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be=function(){function e(t,n){this.name=t,this.node=n}return e.Wrap=function(t,n){return new e(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yp=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(t,n){var r=new Be(Xi,t),i=new Be(Xi,n);return this.compare(r,i)!==0},e.prototype.minPost=function(){return Be.MIN},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rd,jP=function(e){ne(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return rd},set:function(n){rd=n},enumerable:!1,configurable:!0}),t.prototype.compare=function(n,r){return pa(n.name,r.name)},t.prototype.isDefinedOn=function(n){throw Xu("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(n,r){return!1},t.prototype.minPost=function(){return Be.MIN},t.prototype.maxPost=function(){return new Be(Ai,rd)},t.prototype.makePost=function(n,r){return z(typeof n=="string","KeyIndex indexValue must always be a string."),new Be(n,rd)},t.prototype.toString=function(){return".key"},t}(Yp),wi=new jP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var id=function(){function e(t,n,r,i,s){s===void 0&&(s=null),this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];for(var a=1;!t.isEmpty();)if(t=t,a=n?r(t.key,n):1,i&&(a*=-1),a<0)this.isReverse_?t=t.left:t=t.right;else if(a===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}return e.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},e}(),Yr=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r!=null?r:e.RED,this.left=i!=null?i:Hi.EMPTY_NODE,this.right=s!=null?s:Hi.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,s){return new e(t!=null?t:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Hi.EMPTY_NODE;var t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()},e.prototype.remove=function(t,n){var r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return Hi.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},e.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t},e.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),cH=function(){function e(){}return e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.insert=function(t,n,r){return new Yr(t,n,null)},e.prototype.remove=function(t,n){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Hi=function(){function e(t,n){n===void 0&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Yr.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Yr.BLACK,null,null))},e.prototype.get=function(t){for(var n,r=this.root_;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null},e.prototype.getPredecessorKey=function(t){for(var n,r=this.root_,i=null;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},e.prototype.getIterator=function(t){return new id(this.root_,null,this.comparator_,!1,t)},e.prototype.getIteratorFrom=function(t,n){return new id(this.root_,t,this.comparator_,!1,n)},e.prototype.getReverseIteratorFrom=function(t,n){return new id(this.root_,t,this.comparator_,!0,n)},e.prototype.getReverseIterator=function(t){return new id(this.root_,null,this.comparator_,!0,t)},e.EMPTY_NODE=new cH,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lH(e,t){return pa(e.name,t.name)}function qb(e,t){return pa(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q_;function fH(e){Q_=e}var VP=function(e){return typeof e=="number"?"number:"+yP(e):"string:"+e},BP=function(e){if(e.isLeafNode()){var t=e.val();z(typeof t=="string"||typeof t=="number"||typeof t=="object"&&gr(t,".sv"),"Priority must be a string or number.")}else z(e===Q_||e.isEmpty(),"priority of unexpected type.");z(e===Q_||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WA,Eu=function(){function e(t,n){n===void 0&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,z(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),BP(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return WA},set:function(t){WA=t},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return t===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return De(t)?this:xe(t)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(t,n){return null},e.prototype.updateImmediateChild=function(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=xe(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(z(r!==".priority"||Ho(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ct(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(t,n){return!1},e.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+VP(this.priorityNode_.val())+":");var n=typeof this.value_;t+=n+":",n==="number"?t+=yP(this.value_):t+=this.value_,this.lazyHash_=vP(t)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(z(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),s=e.VALUE_TYPE_ORDER.indexOf(r);return z(i>=0,"Unknown leaf type: "+n),z(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qP,HP;function hH(e){qP=e}function dH(e){HP=e}var pH=function(e){ne(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.getPriority(),s=r.node.getPriority(),a=i.compareTo(s);return a===0?pa(n.name,r.name):a},t.prototype.isDefinedOn=function(n){return!n.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(n,r){return!n.getPriority().equals(r.getPriority())},t.prototype.minPost=function(){return Be.MIN},t.prototype.maxPost=function(){return new Be(Ai,new Eu("[PRIORITY-POST]",HP))},t.prototype.makePost=function(n,r){var i=qP(n);return new Be(r,new Eu("[PRIORITY-POST]",i))},t.prototype.toString=function(){return".priority"},t}(Yp),lt=new pH;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vH=Math.log(2),gH=function(){function e(t){var n=function(s){return parseInt(Math.log(s)/vH,10)},r=function(s){return parseInt(Array(s+1).join("1"),2)};this.count=n(t+1),this.current_=this.count-1;var i=r(this.count);this.bits_=t+1&i}return e.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},e}(),Hd=function(e,t,n,r){e.sort(t);var i=function(l,h){var d=h-l,v,g;if(d===0)return null;if(d===1)return v=e[l],g=n?n(v):v,new Yr(g,v.node,Yr.BLACK,null,null);var y=parseInt(d/2,10)+l,w=i(l,y),E=i(y+1,h);return v=e[y],g=n?n(v):v,new Yr(g,v.node,Yr.BLACK,w,E)},s=function(l){for(var h=null,d=null,v=e.length,g=function(C,N){var O=v-C,L=v;v-=C;var V=i(O+1,L),F=e[O],G=n?n(F):F;y(new Yr(G,F.node,N,null,V))},y=function(C){h?(h.left=C,h=C):(d=C,h=C)},w=0;w<l.count;++w){var E=l.nextBitIsOne(),I=Math.pow(2,l.count-(w+1));E?g(I,Yr.BLACK):(g(I,Yr.BLACK),g(I,Yr.RED))}return d},a=new gH(e.length),c=s(a);return new Hi(r||t,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ky,Ya={},Kd=function(){function e(t,n){this.indexes_=t,this.indexSet_=n}return Object.defineProperty(e,"Default",{get:function(){return z(Ya&&lt,"ChildrenNode.ts has not been loaded"),Ky=Ky||new e({".priority":Ya},{".priority":lt}),Ky},enumerable:!1,configurable:!0}),e.prototype.get=function(t){var n=ta(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Hi?n:null},e.prototype.hasIndex=function(t){return gr(this.indexSet_,t.toString())},e.prototype.addIndex=function(t,n){z(t!==wi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,s=n.getIterator(Be.Wrap),a=s.getNext();a;)i=i||t.isDefinedOn(a.node),r.push(a),a=s.getNext();var c;i?c=Hd(r,t.getCompare()):c=Ya;var l=t.toString(),h=ye({},this.indexSet_);h[l]=t;var d=ye({},this.indexes_);return d[l]=c,new e(d,h)},e.prototype.addToIndexes=function(t,n){var r=this,i=jd(this.indexes_,function(s,a){var c=ta(r.indexSet_,a);if(z(c,"Missing index implementation for "+a),s===Ya)if(c.isDefinedOn(t.node)){for(var l=[],h=n.getIterator(Be.Wrap),d=h.getNext();d;)d.name!==t.name&&l.push(d),d=h.getNext();return l.push(t),Hd(l,c.getCompare())}else return Ya;else{var v=n.get(t.name),g=s;return v&&(g=g.remove(new Be(t.name,v))),g.insert(t,t.node)}});return new e(i,this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){var r=jd(this.indexes_,function(i){if(i===Ya)return i;var s=n.get(t.name);return s?i.remove(new Be(t.name,s)):i});return new e(r,this.indexSet_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tl,Ce=function(){function e(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&BP(this.priorityNode_),this.children_.isEmpty()&&z(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return tl||(tl=new e(new Hi(qb),null,Kd.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||tl},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(t){if(t===".priority")return this.getPriority();var n=this.children_.get(t);return n===null?tl:n},e.prototype.getChild=function(t){var n=xe(t);return n===null?this:this.getImmediateChild(n).getChild(ct(t))},e.prototype.hasChild=function(t){return this.children_.get(t)!==null},e.prototype.updateImmediateChild=function(t,n){if(z(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);var r=new Be(t,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?tl:this.priorityNode_;return new e(i,a,s)},e.prototype.updateChild=function(t,n){var r=xe(t);if(r===null)return n;z(xe(t)!==".priority"||Ho(t)===1,".priority must be the last token in a path");var i=this.getImmediateChild(r).updateChild(ct(t),n);return this.updateImmediateChild(r,i)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,s=!0;if(this.forEachChild(lt,function(l,h){n[l]=h.val(t),r++,s&&e.INTEGER_REGEXP_.test(l)?i=Math.max(i,Number(l)):s=!1}),!t&&s&&i<2*r){var a=[];for(var c in n)a[c]=n[c];return a}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.getPriority().isEmpty()||(t+="priority:"+VP(this.getPriority().val())+":"),this.forEachChild(lt,function(n,r){var i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":vP(t)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(t,n,r){var i=this.resolveIndex_(r);if(i){var s=i.getPredecessorKey(new Be(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)},e.prototype.getFirstChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.minKey();return r&&r.name}else return this.children_.minKey()},e.prototype.getFirstChild=function(t){var n=this.getFirstChildName(t);return n?new Be(n,this.children_.get(n)):null},e.prototype.getLastChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.maxKey();return r&&r.name}else return this.children_.maxKey()},e.prototype.getLastChild=function(t){var n=this.getLastChildName(t);return n?new Be(n,this.children_.get(n)):null},e.prototype.forEachChild=function(t,n){var r=this.resolveIndex_(t);return r?r.inorderTraversal(function(i){return n(i.name,i.node)}):this.children_.inorderTraversal(n)},e.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},e.prototype.getIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,function(a){return a});for(var i=this.children_.getIteratorFrom(t.name,Be.Wrap),s=i.peek();s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i},e.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},e.prototype.getReverseIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,function(a){return a});for(var i=this.children_.getReverseIteratorFrom(t.name,Be.Wrap),s=i.peek();s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i},e.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===wf?-1:0},e.prototype.withIndex=function(t){if(t===wi||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(t){return t===wi||this.indexMap_.hasIndex(t)},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){for(var r=this.getIterator(lt),i=n.getIterator(lt),s=r.getNext(),a=i.getNext();s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1},e.prototype.resolveIndex_=function(t){return t===wi?null:this.indexMap_.get(t.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),mH=function(e){ne(t,e);function t(){return e.call(this,new Hi(qb),Ce.EMPTY_NODE,Kd.Default)||this}return t.prototype.compareTo=function(n){return n===this?0:1},t.prototype.equals=function(n){return n===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(n){return Ce.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(Ce),wf=new mH;Object.defineProperties(Be,{MIN:{value:new Be(Xi,Ce.EMPTY_NODE)},MAX:{value:new Be(Ai,wf)}});jP.__EMPTY_NODE=Ce.EMPTY_NODE;Eu.__childrenNodeConstructor=Ce;fH(wf);dH(wf);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yH=!0;function wt(e,t){if(t===void 0&&(t=null),e===null)return Ce.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),z(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){var n=e;return new Eu(n,wt(t))}if(!(e instanceof Array)&&yH){var r=[],i=!1,s=e;if(Wt(s,function(h,d){if(h.substring(0,1)!=="."){var v=wt(d);v.isEmpty()||(i=i||!v.getPriority().isEmpty(),r.push(new Be(h,v)))}}),r.length===0)return Ce.EMPTY_NODE;var a=Hd(r,lH,function(h){return h.name},qb);if(i){var c=Hd(r,lt.getCompare());return new Ce(a,wt(t),new Kd({".priority":c},{".priority":lt}))}else return new Ce(a,wt(t),Kd.Default)}else{var l=Ce.EMPTY_NODE;return Wt(e,function(h,d){if(gr(e,h)&&h.substring(0,1)!=="."){var v=wt(d);(v.isLeafNode()||!v.isEmpty())&&(l=l.updateImmediateChild(h,v))}}),l.updatePriority(wt(t))}}hH(wt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hb=function(e){ne(t,e);function t(n){var r=e.call(this)||this;return r.indexPath_=n,z(!De(n)&&xe(n)!==".priority","Can't create PathIndex with empty path or .priority key"),r}return t.prototype.extractChild=function(n){return n.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(n){return!n.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(n,r){var i=this.extractChild(n.node),s=this.extractChild(r.node),a=i.compareTo(s);return a===0?pa(n.name,r.name):a},t.prototype.makePost=function(n,r){var i=wt(n),s=Ce.EMPTY_NODE.updateChild(this.indexPath_,i);return new Be(r,s)},t.prototype.maxPost=function(){var n=Ce.EMPTY_NODE.updateChild(this.indexPath_,wf);return new Be(Ai,n)},t.prototype.toString=function(){return ql(this.indexPath_,0).join("/")},t}(Yp);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _H=function(e){ne(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.compareTo(r.node);return i===0?pa(n.name,r.name):i},t.prototype.isDefinedOn=function(n){return!0},t.prototype.indexedValueChanged=function(n,r){return!n.equals(r)},t.prototype.minPost=function(){return Be.MIN},t.prototype.maxPost=function(){return Be.MAX},t.prototype.makePost=function(n,r){var i=wt(n);return new Be(r,i)},t.prototype.toString=function(){return".value"},t}(Yp),Kb=new _H;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Iu="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Y_="-",KP="z",WP=786,wH=function(){var e=0,t=[];return function(n){var r=n===e;e=n;var i,s=new Array(8);for(i=7;i>=0;i--)s[i]=Iu.charAt(n%64),n=Math.floor(n/64);z(n===0,"Cannot push at time == 0");var a=s.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=Iu.charAt(t[i]);return z(a.length===20,"nextPushId: Length should be 20."),a}}(),$A=function(e){if(e===""+Lb)return Y_;var t=Bd(e);if(t!=null)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<WP)return n.push(Y_),n.join("");for(var i=n.length-1;i>=0&&n[i]===KP;)i--;if(i===-1)return Ai;var s=n[i],a=Iu.charAt(Iu.indexOf(s)+1);return n[i]=a,n.slice(0,i+1).join("")},GA=function(e){if(e===""+_P)return Xi;var t=Bd(e);if(t!=null)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return n[n.length-1]===Y_?n.length===1?""+Lb:(delete n[n.length-1],n.join("")):(n[n.length-1]=Iu.charAt(Iu.indexOf(n[n.length-1])-1),n.join("")+KP.repeat(WP-n.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(e){return{type:"value",snapshotNode:e}}function Tu(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Hl(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Kl(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function bH(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wb=function(){function e(t){this.index_=t}return e.prototype.updateChild=function(t,n,r,i,s,a){z(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var c=t.getImmediateChild(n);return c.getChild(i).equals(r.getChild(i))&&c.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?t.hasChild(n)?a.trackChildChange(Hl(n,c)):z(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?a.trackChildChange(Tu(n,r)):a.trackChildChange(Kl(n,r,c))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)},e.prototype.updateFullNode=function(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(lt,function(i,s){n.hasChild(i)||r.trackChildChange(Hl(i,s))}),n.isLeafNode()||n.forEachChild(lt,function(i,s){if(t.hasChild(i)){var a=t.getImmediateChild(i);a.equals(s)||r.trackChildChange(Kl(i,s,a))}else r.trackChildChange(Tu(i,s))})),n.withIndex(this.index_)},e.prototype.updatePriority=function(t,n){return t.isEmpty()?Ce.EMPTY_NODE:t.updatePriority(n)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GP=function(){function e(t){this.indexedFilter_=new Wb(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},e.prototype.updateChild=function(t,n,r,i,s,a){return this.matches(new Be(n,r))||(r=Ce.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,a)},e.prototype.updateFullNode=function(t,n,r){n.isLeafNode()&&(n=Ce.EMPTY_NODE);var i=n.withIndex(this.index_);i=i.updatePriority(Ce.EMPTY_NODE);var s=this;return n.forEachChild(lt,function(a,c){s.matches(new Be(a,c))||(i=i.updateImmediateChild(a,Ce.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(t){if(t.hasStart()){var n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()},e.getEndPost_=function(t){if(t.hasEnd()){var n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EH=function(){function e(t){this.rangedFilter_=new GP(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return e.prototype.updateChild=function(t,n,r,i,s,a){return this.rangedFilter_.matches(new Be(n,r))||(r=Ce.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,a):this.fullLimitUpdateChild_(t,n,r,s,a)},e.prototype.updateFullNode=function(t,n,r){var i;if(n.isLeafNode()||n.isEmpty())i=Ce.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Ce.EMPTY_NODE.withIndex(this.index_);var s=void 0;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;s.hasNext()&&a<this.limit_;){var c=s.getNext(),l=void 0;if(this.reverse_?l=this.index_.compare(this.rangedFilter_.getStartPost(),c)<=0:l=this.index_.compare(c,this.rangedFilter_.getEndPost())<=0,l)i=i.updateImmediateChild(c.name,c.node),a++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(Ce.EMPTY_NODE);var h=void 0,d=void 0,v=void 0,s=void 0;if(this.reverse_){s=i.getReverseIterator(this.index_),h=this.rangedFilter_.getEndPost(),d=this.rangedFilter_.getStartPost();var g=this.index_.getCompare();v=function(I,C){return g(C,I)}}else s=i.getIterator(this.index_),h=this.rangedFilter_.getStartPost(),d=this.rangedFilter_.getEndPost(),v=this.index_.getCompare();for(var a=0,y=!1;s.hasNext();){var c=s.getNext();!y&&v(h,c)<=0&&(y=!0);var l=y&&a<this.limit_&&v(c,d)<=0;l?a++:i=i.updateImmediateChild(c.name,Ce.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(t,n,r,i,s){var a;if(this.reverse_){var c=this.index_.getCompare();a=function(N,O){return c(O,N)}}else a=this.index_.getCompare();var l=t;z(l.numChildren()===this.limit_,"");var h=new Be(n,r),d=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),v=this.rangedFilter_.matches(h);if(l.hasChild(n)){for(var g=l.getImmediateChild(n),y=i.getChildAfterChild(this.index_,d,this.reverse_);y!=null&&(y.name===n||l.hasChild(y.name));)y=i.getChildAfterChild(this.index_,y,this.reverse_);var w=y==null?1:a(y,h),E=v&&!r.isEmpty()&&w>=0;if(E)return s!=null&&s.trackChildChange(Kl(n,r,g)),l.updateImmediateChild(n,r);s!=null&&s.trackChildChange(Hl(n,g));var I=l.updateImmediateChild(n,Ce.EMPTY_NODE),C=y!=null&&this.rangedFilter_.matches(y);return C?(s!=null&&s.trackChildChange(Tu(y.name,y.node)),I.updateImmediateChild(y.name,y.node)):I}else return r.isEmpty()?t:v&&a(d,h)>=0?(s!=null&&(s.trackChildChange(Hl(d.name,d.node)),s.trackChildChange(Tu(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(d.name,Ce.EMPTY_NODE)):t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zP=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=lt}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"},e.prototype.getIndexStartValue=function(){return z(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return z(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Xi},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return z(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return z(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ai},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},e.prototype.getLimit=function(){return z(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===lt},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function IH(e){return e.loadsAllData()?new Wb(e.getIndex()):e.hasLimit()?new EH(e):new GP(e)}function TH(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function SH(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function X_(e,t,n){var r=e.copy();return r.startSet_=!0,t===void 0&&(t=null),r.indexStartValue_=t,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function CH(e,t,n){var r;if(e.index_===wi)typeof t=="string"&&(t=$A(t)),r=X_(e,t,n);else{var i=void 0;n==null?i=Ai:i=$A(n),r=X_(e,t,i)}return r.startAfterSet_=!0,r}function J_(e,t,n){var r=e.copy();return r.endSet_=!0,t===void 0&&(t=null),r.indexEndValue_=t,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function AH(e,t,n){var r,i;return e.index_===wi?(typeof t=="string"&&(t=GA(t)),i=J_(e,t,n)):(n==null?r=Xi:r=GA(n),i=J_(e,t,r)),i.endBeforeSet_=!0,i}function Xp(e,t){var n=e.copy();return n.index_=t,n}function zA(e){var t={};if(e.isDefault())return t;var n;return e.index_===lt?n="$priority":e.index_===Kb?n="$value":e.index_===wi?n="$key":(z(e.index_ instanceof Hb,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=qt(n),e.startSet_&&(t.startAt=qt(e.indexStartValue_),e.startNameSet_&&(t.startAt+=","+qt(e.indexStartName_))),e.endSet_&&(t.endAt=qt(e.indexEndValue_),e.endNameSet_&&(t.endAt+=","+qt(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function QA(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==lt&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kH=function(e){ne(t,e);function t(n,r,i,s){var a=e.call(this)||this;return a.repoInfo_=n,a.onDataUpdate_=r,a.authTokenProvider_=i,a.appCheckTokenProvider_=s,a.log_=_f("p:rest:"),a.listens_={},a}return t.prototype.reportStats=function(n){throw new Error("Method not implemented.")},t.getListenId_=function(n,r){return r!==void 0?"tag$"+r:(z(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())},t.prototype.listen=function(n,r,i,s){var a=this,c=n._path.toString();this.log_("Listen called for "+c+" "+n._queryIdentifier);var l=t.getListenId_(n,i),h={};this.listens_[l]=h;var d=zA(n._queryParams);this.restRequest_(c+".json",d,function(v,g){var y=g;if(v===404&&(y=null,v=null),v===null&&a.onDataUpdate_(c,y,!1,i),ta(a.listens_,l)===h){var w;v?v===401?w="permission_denied":w="rest_error:"+v:w="ok",s(w,null)}})},t.prototype.unlisten=function(n,r){var i=t.getListenId_(n,r);delete this.listens_[i]},t.prototype.get=function(n){var r=this,i=zA(n._queryParams),s=n._path.toString(),a=new Xt;return this.restRequest_(s+".json",i,function(c,l){var h=l;c===404&&(h=null,c=null),c===null?(r.onDataUpdate_(s,h,!1,null),a.resolve(h)):a.reject(new Error(h))}),a.promise},t.prototype.refreshAuthToken=function(n){},t.prototype.restRequest_=function(n,r,i){var s=this;return r===void 0&&(r={}),r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(a){var c=ln(a,2),l=c[0],h=c[1];l&&l.accessToken&&(r.auth=l.accessToken),h&&h.token&&(r.ac=h.token);var d=(s.repoInfo_.secure?"https://":"http://")+s.repoInfo_.host+n+"?ns="+s.repoInfo_.namespace+A3(r);s.log_("Sending REST request for "+d);var v=new XMLHttpRequest;v.onreadystatechange=function(){if(i&&v.readyState===4){s.log_("REST Response for "+d+" received. status:",v.status,"response:",v.responseText);var g=null;if(v.status>=200&&v.status<300){try{g=Bl(v.responseText)}catch{hn("Failed to parse JSON response for "+d+": "+v.responseText)}i(null,g)}else v.status!==401&&v.status!==404&&hn("Got unsuccessful REST response for "+d+" Status: "+v.status),i(v.status);i=null}},v.open("GET",d,!0),v.send()})},t}(LP);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RH=function(){function e(){this.rootNode_=Ce.EMPTY_NODE}return e.prototype.getNode=function(t){return this.rootNode_.getChild(t)},e.prototype.updateSnapshot=function(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(){return{value:null,children:new Map}}function ec(e,t,n){if(De(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{var r=xe(t);e.children.has(r)||e.children.set(r,Wd());var i=e.children.get(r);t=ct(t),ec(i,t,n)}}function Z_(e,t){if(De(t))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(lt,function(s,a){ec(e,new Xe(s),a)}),Z_(e,t)}else if(e.children.size>0){var r=xe(t);if(t=ct(t),e.children.has(r)){var i=Z_(e.children.get(r),t);i&&e.children.delete(r)}return e.children.size===0}else return!0}function ew(e,t,n){e.value!==null?n(t,e.value):NH(e,function(r,i){var s=new Xe(t.toString()+"/"+r);ew(i,s,n)})}function NH(e,t){e.children.forEach(function(n,r){t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QP=function(){function e(t){this.collection_=t,this.last_=null}return e.prototype.get=function(){var t=this.collection_.get(),n=ye({},t);return this.last_&&Wt(this.last_,function(r,i){n[r]=n[r]-i}),this.last_=t,n},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YA=10*1e3,PH=30*1e3,OH=5*60*1e3,xH=function(){function e(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new QP(t);var r=YA+(PH-YA)*Math.random();gl(this.reportStats_.bind(this),Math.floor(r))}return e.prototype.reportStats_=function(){var t=this,n=this.statsListener_.get(),r={},i=!1;Wt(n,function(s,a){a>0&&gr(t.statsToReport_,s)&&(r[s]=a,i=!0)}),i&&this.server_.reportStats(r),gl(this.reportStats_.bind(this),Math.floor(Math.random()*2*OH))},e}();function DH(e,t){e.statsToReport_[t]=!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zr;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Zr||(Zr={}));function $b(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Gb(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function zb(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LH=function(){function e(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Zr.ACK_USER_WRITE,this.source=$b()}return e.prototype.operationForChild=function(t){if(De(this.path)){if(this.affectedTree.value!=null)return z(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Xe(t));return new e(Qe(),n,this.revert)}else return z(xe(this.path)===t,"operationForChild called for unrelated child."),new e(ct(this.path),this.affectedTree,this.revert)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YP=function(){function e(t,n){this.source=t,this.path=n,this.type=Zr.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return De(this.path)?new e(this.source,Qe()):new e(this.source,ct(this.path))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jp=function(){function e(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Zr.OVERWRITE}return e.prototype.operationForChild=function(t){return De(this.path)?new e(this.source,Qe(),this.snap.getImmediateChild(t)):new e(this.source,ct(this.path),this.snap)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qb=function(){function e(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Zr.MERGE}return e.prototype.operationForChild=function(t){if(De(this.path)){var n=this.children.subtree(new Xe(t));return n.isEmpty()?null:n.value?new Jp(this.source,Qe(),n.value):new e(this.source,Qe(),n)}else return z(xe(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,ct(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ko=function(){function e(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(t){if(De(t))return this.isFullyInitialized()&&!this.filtered_;var n=xe(t);return this.isCompleteForChild(n)},e.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},e.prototype.getNode=function(){return this.node_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MH=function(){function e(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}return e}();function FH(e,t,n,r){var i=[],s=[];return t.forEach(function(a){a.type==="child_changed"&&e.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(bH(a.childName,a.snapshotNode))}),nl(e,i,"child_removed",t,r,n),nl(e,i,"child_added",t,r,n),nl(e,i,"child_moved",s,r,n),nl(e,i,"child_changed",t,r,n),nl(e,i,"value",t,r,n),i}function nl(e,t,n,r,i,s){var a=r.filter(function(c){return c.type===n});a.sort(function(c,l){return jH(e,c,l)}),a.forEach(function(c){var l=UH(e,c,s);i.forEach(function(h){h.respondsTo(c.type)&&t.push(h.createEvent(l,e.query_))})})}function UH(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function jH(e,t,n){if(t.childName==null||n.childName==null)throw Xu("Should only compare child_ events.");var r=new Be(t.childName,t.snapshotNode),i=new Be(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(e,t){return{eventCache:e,serverCache:t}}function yl(e,t,n,r){return Zp(new Ko(t,n,r),e.serverCache)}function XP(e,t,n,r){return Zp(e.eventCache,new Ko(t,n,r))}function $d(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function na(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wy,VH=function(){return Wy||(Wy=new Hi(mq)),Wy},mr=function(){function e(t,n){n===void 0&&(n=VH()),this.value=t,this.children=n}return e.fromObject=function(t){var n=new e(null);return Wt(t,function(r,i){n=n.set(new Xe(r),i)}),n},e.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(t,n){if(this.value!=null&&n(this.value))return{path:Qe(),value:this.value};if(De(t))return null;var r=xe(t),i=this.children.get(r);if(i!==null){var s=i.findRootMostMatchingPathAndValue(ct(t),n);if(s!=null){var a=yt(new Xe(r),s.path);return{path:a,value:s.value}}else return null}else return null},e.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},e.prototype.subtree=function(t){if(De(t))return this;var n=xe(t),r=this.children.get(n);return r!==null?r.subtree(ct(t)):new e(null)},e.prototype.set=function(t,n){if(De(t))return new e(n,this.children);var r=xe(t),i=this.children.get(r)||new e(null),s=i.set(ct(t),n),a=this.children.insert(r,s);return new e(this.value,a)},e.prototype.remove=function(t){if(De(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=xe(t),r=this.children.get(n);if(r){var i=r.remove(ct(t)),s=void 0;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new e(null):new e(this.value,s)}else return this},e.prototype.get=function(t){if(De(t))return this.value;var n=xe(t),r=this.children.get(n);return r?r.get(ct(t)):null},e.prototype.setTree=function(t,n){if(De(t))return n;var r=xe(t),i=this.children.get(r)||new e(null),s=i.setTree(ct(t),n),a=void 0;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new e(this.value,a)},e.prototype.fold=function(t){return this.fold_(Qe(),t)},e.prototype.fold_=function(t,n){var r={};return this.children.inorderTraversal(function(i,s){r[i]=s.fold_(yt(t,i),n)}),n(t,this.value,r)},e.prototype.findOnPath=function(t,n){return this.findOnPath_(t,Qe(),n)},e.prototype.findOnPath_=function(t,n,r){var i=this.value?r(n,this.value):!1;if(i)return i;if(De(t))return null;var s=xe(t),a=this.children.get(s);return a?a.findOnPath_(ct(t),yt(n,s),r):null},e.prototype.foreachOnPath=function(t,n){return this.foreachOnPath_(t,Qe(),n)},e.prototype.foreachOnPath_=function(t,n,r){if(De(t))return this;this.value&&r(n,this.value);var i=xe(t),s=this.children.get(i);return s?s.foreachOnPath_(ct(t),yt(n,i),r):new e(null)},e.prototype.foreach=function(t){this.foreach_(Qe(),t)},e.prototype.foreach_=function(t,n){this.children.inorderTraversal(function(r,i){i.foreach_(yt(t,r),n)}),this.value&&n(t,this.value)},e.prototype.foreachChild=function(t){this.children.inorderTraversal(function(n,r){r.value&&t(n,r.value)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $i=function(){function e(t){this.writeTree_=t}return e.empty=function(){return new e(new mr(null))},e}();function _l(e,t,n){if(De(t))return new $i(new mr(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){var i=r.path,s=r.value,a=Bn(i,t);return s=s.updateChild(a,n),new $i(e.writeTree_.set(i,s))}else{var c=new mr(n),l=e.writeTree_.setTree(t,c);return new $i(l)}}function tw(e,t,n){var r=e;return Wt(n,function(i,s){r=_l(r,yt(t,i),s)}),r}function XA(e,t){if(De(t))return $i.empty();var n=e.writeTree_.setTree(t,new mr(null));return new $i(n)}function nw(e,t){return va(e,t)!=null}function va(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Bn(n.path,t)):null}function JA(e){var t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(lt,function(r,i){t.push(new Be(r,i))}):e.writeTree_.children.inorderTraversal(function(r,i){i.value!=null&&t.push(new Be(r,i.value))}),t}function Fo(e,t){if(De(t))return e;var n=va(e,t);return n!=null?new $i(new mr(n)):new $i(e.writeTree_.subtree(t))}function rw(e){return e.writeTree_.isEmpty()}function Su(e,t){return JP(Qe(),e.writeTree_,t)}function JP(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal(function(i,s){i===".priority"?(z(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=JP(yt(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(yt(e,".priority"),r)),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(e,t){return nO(t,e)}function BH(e,t,n,r,i){z(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=_l(e.visibleWrites,t,n)),e.lastWriteId=r}function qH(e,t,n,r){z(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=tw(e.visibleWrites,t,n),e.lastWriteId=r}function HH(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function KH(e,t){var n=e.allWrites.findIndex(function(h){return h.writeId===t});z(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,s=!1,a=e.allWrites.length-1;i&&a>=0;){var c=e.allWrites[a];c.visible&&(a>=n&&WH(c,r.path)?i=!1:Ar(r.path,c.path)&&(s=!0)),a--}if(i){if(s)return $H(e),!0;if(r.snap)e.visibleWrites=XA(e.visibleWrites,r.path);else{var l=r.children;Wt(l,function(h){e.visibleWrites=XA(e.visibleWrites,yt(r.path,h))})}return!0}else return!1}function WH(e,t){if(e.snap)return Ar(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Ar(yt(e.path,n),t))return!0;return!1}function $H(e){e.visibleWrites=ZP(e.allWrites,GH,Qe()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function GH(e){return e.visible}function ZP(e,t,n){for(var r=$i.empty(),i=0;i<e.length;++i){var s=e[i];if(t(s)){var a=s.path,c=void 0;if(s.snap)Ar(n,a)?(c=Bn(n,a),r=_l(r,c,s.snap)):Ar(a,n)&&(c=Bn(a,n),r=_l(r,Qe(),s.snap.getChild(c)));else if(s.children){if(Ar(n,a))c=Bn(n,a),r=tw(r,c,s.children);else if(Ar(a,n))if(c=Bn(a,n),De(c))r=tw(r,Qe(),s.children);else{var l=ta(s.children,xe(c));if(l){var h=l.getChild(ct(c));r=_l(r,Qe(),h)}}}else throw Xu("WriteRecord should have .snap or .children")}}return r}function eO(e,t,n,r,i){if(!r&&!i){var s=va(e.visibleWrites,t);if(s!=null)return s;var a=Fo(e.visibleWrites,t);if(rw(a))return n;if(n==null&&!nw(a,Qe()))return null;var c=n||Ce.EMPTY_NODE;return Su(a,c)}else{var l=Fo(e.visibleWrites,t);if(!i&&rw(l))return n;if(!i&&n==null&&!nw(l,Qe()))return null;var h=function(g){return(g.visible||i)&&(!r||!~r.indexOf(g.writeId))&&(Ar(g.path,t)||Ar(t,g.path))},d=ZP(e.allWrites,h,t),c=n||Ce.EMPTY_NODE;return Su(d,c)}}function zH(e,t,n){var r=Ce.EMPTY_NODE,i=va(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(lt,function(c,l){r=r.updateImmediateChild(c,l)}),r;if(n){var s=Fo(e.visibleWrites,t);return n.forEachChild(lt,function(c,l){var h=Su(Fo(s,new Xe(c)),l);r=r.updateImmediateChild(c,h)}),JA(s).forEach(function(c){r=r.updateImmediateChild(c.name,c.node)}),r}else{var a=Fo(e.visibleWrites,t);return JA(a).forEach(function(c){r=r.updateImmediateChild(c.name,c.node)}),r}}function QH(e,t,n,r,i){z(r||i,"Either existingEventSnap or existingServerSnap must exist");var s=yt(t,n);if(nw(e.visibleWrites,s))return null;var a=Fo(e.visibleWrites,s);return rw(a)?i.getChild(n):Su(a,i.getChild(n))}function YH(e,t,n,r){var i=yt(t,n),s=va(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){var a=Fo(e.visibleWrites,i);return Su(a,r.getNode().getImmediateChild(n))}else return null}function XH(e,t){return va(e.visibleWrites,t)}function JH(e,t,n,r,i,s,a){var c,l=Fo(e.visibleWrites,t),h=va(l,Qe());if(h!=null)c=h;else if(n!=null)c=Su(l,n);else return[];if(c=c.withIndex(a),!c.isEmpty()&&!c.isLeafNode()){for(var d=[],v=a.getCompare(),g=s?c.getReverseIteratorFrom(r,a):c.getIteratorFrom(r,a),y=g.getNext();y&&d.length<i;)v(y,r)!==0&&d.push(y),y=g.getNext();return d}else return[]}function ZH(){return{visibleWrites:$i.empty(),allWrites:[],lastWriteId:-1}}function Gd(e,t,n,r){return eO(e.writeTree,e.treePath,t,n,r)}function Yb(e,t){return zH(e.writeTree,e.treePath,t)}function ZA(e,t,n,r){return QH(e.writeTree,e.treePath,t,n,r)}function zd(e,t){return XH(e.writeTree,yt(e.treePath,t))}function eK(e,t,n,r,i,s){return JH(e.writeTree,e.treePath,t,n,r,i,s)}function Xb(e,t,n){return YH(e.writeTree,e.treePath,t,n)}function tO(e,t){return nO(yt(e.treePath,t),e.writeTree)}function nO(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tK=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(t){var n=t.type,r=t.childName;z(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),z(r!==".priority","Only non-priority child changes can be tracked.");var i=this.changeMap.get(r);if(i){var s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Kl(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Hl(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Tu(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Kl(r,t.snapshotNode,i.oldSnap));else throw Xu("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nK=function(){function e(){}return e.prototype.getCompleteChild=function(t){return null},e.prototype.getChildAfterChild=function(t,n,r){return null},e}(),rO=new nK,Jb=function(){function e(t,n,r){r===void 0&&(r=null),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return e.prototype.getCompleteChild=function(t){var n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);var r=this.optCompleteServerCache_!=null?new Ko(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Xb(this.writes_,t,r)},e.prototype.getChildAfterChild=function(t,n,r){var i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:na(this.viewCache_),s=eK(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rK(e){return{filter:e}}function iK(e,t){z(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),z(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function oK(e,t,n,r,i){var s=new tK,a,c;if(n.type===Zr.OVERWRITE){var l=n;l.source.fromUser?a=iw(e,t,l.path,l.snap,r,i,s):(z(l.source.fromServer,"Unknown source."),c=l.source.tagged||t.serverCache.isFiltered()&&!De(l.path),a=Qd(e,t,l.path,l.snap,r,i,c,s))}else if(n.type===Zr.MERGE){var h=n;h.source.fromUser?a=aK(e,t,h.path,h.children,r,i,s):(z(h.source.fromServer,"Unknown source."),c=h.source.tagged||t.serverCache.isFiltered(),a=ow(e,t,h.path,h.children,r,i,c,s))}else if(n.type===Zr.ACK_USER_WRITE){var d=n;d.revert?a=lK(e,t,d.path,r,i,s):a=uK(e,t,d.path,d.affectedTree,r,i,s)}else if(n.type===Zr.LISTEN_COMPLETE)a=cK(e,t,n.path,r,s);else throw Xu("Unknown operation type: "+n.type);var v=s.getChanges();return sK(t,a,v),{viewCache:a,changes:v}}function sK(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=$d(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push($P($d(t)))}}function iO(e,t,n,r,i,s){var a=t.eventCache;if(zd(r,n)!=null)return t;var c=void 0,l=void 0;if(De(n))if(z(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var h=na(t),d=h instanceof Ce?h:Ce.EMPTY_NODE,v=Yb(r,d);c=e.filter.updateFullNode(t.eventCache.getNode(),v,s)}else{var g=Gd(r,na(t));c=e.filter.updateFullNode(t.eventCache.getNode(),g,s)}else{var y=xe(n);if(y===".priority"){z(Ho(n)===1,"Can't have a priority with additional path components");var w=a.getNode();l=t.serverCache.getNode();var E=ZA(r,n,w,l);E!=null?c=e.filter.updatePriority(w,E):c=a.getNode()}else{var I=ct(n),C=void 0;if(a.isCompleteForChild(y)){l=t.serverCache.getNode();var N=ZA(r,n,a.getNode(),l);N!=null?C=a.getNode().getImmediateChild(y).updateChild(I,N):C=a.getNode().getImmediateChild(y)}else C=Xb(r,y,t.serverCache);C!=null?c=e.filter.updateChild(a.getNode(),y,C,I,i,s):c=a.getNode()}}return yl(t,c,a.isFullyInitialized()||De(n),e.filter.filtersNodes())}function Qd(e,t,n,r,i,s,a,c){var l=t.serverCache,h,d=a?e.filter:e.filter.getIndexedFilter();if(De(n))h=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){var v=l.getNode().updateChild(n,r);h=d.updateFullNode(l.getNode(),v,null)}else{var g=xe(n);if(!l.isCompleteForPath(n)&&Ho(n)>1)return t;var y=ct(n),w=l.getNode().getImmediateChild(g),E=w.updateChild(y,r);g===".priority"?h=d.updatePriority(l.getNode(),E):h=d.updateChild(l.getNode(),g,E,y,rO,null)}var I=XP(t,h,l.isFullyInitialized()||De(n),d.filtersNodes()),C=new Jb(i,I,s);return iO(e,I,n,i,C,c)}function iw(e,t,n,r,i,s,a){var c=t.eventCache,l,h,d=new Jb(i,t,s);if(De(n))h=e.filter.updateFullNode(t.eventCache.getNode(),r,a),l=yl(t,h,!0,e.filter.filtersNodes());else{var v=xe(n);if(v===".priority")h=e.filter.updatePriority(t.eventCache.getNode(),r),l=yl(t,h,c.isFullyInitialized(),c.isFiltered());else{var g=ct(n),y=c.getNode().getImmediateChild(v),w=void 0;if(De(g))w=r;else{var E=d.getCompleteChild(v);E!=null?Vb(g)===".priority"&&E.getChild(FP(g)).isEmpty()?w=E:w=E.updateChild(g,r):w=Ce.EMPTY_NODE}if(y.equals(w))l=t;else{var I=e.filter.updateChild(c.getNode(),v,w,g,d,a);l=yl(t,I,c.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function ek(e,t){return e.eventCache.isCompleteForChild(t)}function aK(e,t,n,r,i,s,a){var c=t;return r.foreach(function(l,h){var d=yt(n,l);ek(t,xe(d))&&(c=iw(e,c,d,h,i,s,a))}),r.foreach(function(l,h){var d=yt(n,l);ek(t,xe(d))||(c=iw(e,c,d,h,i,s,a))}),c}function tk(e,t,n){return n.foreach(function(r,i){t=t.updateChild(r,i)}),t}function ow(e,t,n,r,i,s,a,c){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var l=t,h;De(n)?h=r:h=new mr(null).setTree(n,r);var d=t.serverCache.getNode();return h.children.inorderTraversal(function(v,g){if(d.hasChild(v)){var y=t.serverCache.getNode().getImmediateChild(v),w=tk(e,y,g);l=Qd(e,l,new Xe(v),w,i,s,a,c)}}),h.children.inorderTraversal(function(v,g){var y=!t.serverCache.isCompleteForChild(v)&&g.value===void 0;if(!d.hasChild(v)&&!y){var w=t.serverCache.getNode().getImmediateChild(v),E=tk(e,w,g);l=Qd(e,l,new Xe(v),E,i,s,a,c)}}),l}function uK(e,t,n,r,i,s,a){if(zd(i,n)!=null)return t;var c=t.serverCache.isFiltered(),l=t.serverCache;if(r.value!=null){if(De(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Qd(e,t,n,l.getNode().getChild(n),i,s,c,a);if(De(n)){var h=new mr(null);return l.getNode().forEachChild(wi,function(v,g){h=h.set(new Xe(v),g)}),ow(e,t,n,h,i,s,c,a)}else return t}else{var d=new mr(null);return r.foreach(function(v,g){var y=yt(n,v);l.isCompleteForPath(y)&&(d=d.set(v,l.getNode().getChild(y)))}),ow(e,t,n,d,i,s,c,a)}}function cK(e,t,n,r,i){var s=t.serverCache,a=XP(t,s.getNode(),s.isFullyInitialized()||De(n),s.isFiltered());return iO(e,a,n,r,rO,i)}function lK(e,t,n,r,i,s){var a;if(zd(r,n)!=null)return t;var c=new Jb(r,t,i),l=t.eventCache.getNode(),h=void 0;if(De(n)||xe(n)===".priority"){var d=void 0;if(t.serverCache.isFullyInitialized())d=Gd(r,na(t));else{var v=t.serverCache.getNode();z(v instanceof Ce,"serverChildren would be complete if leaf node"),d=Yb(r,v)}d=d,h=e.filter.updateFullNode(l,d,s)}else{var g=xe(n),y=Xb(r,g,t.serverCache);y==null&&t.serverCache.isCompleteForChild(g)&&(y=l.getImmediateChild(g)),y!=null?h=e.filter.updateChild(l,g,y,ct(n),c,s):t.eventCache.getNode().hasChild(g)?h=e.filter.updateChild(l,g,Ce.EMPTY_NODE,ct(n),c,s):h=l,h.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Gd(r,na(t)),a.isLeafNode()&&(h=e.filter.updateFullNode(h,a,s)))}return a=t.serverCache.isFullyInitialized()||zd(r,Qe())!=null,yl(t,h,a,e.filter.filtersNodes())}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fK=function(){function e(t,n){this.query_=t,this.eventRegistrations_=[];var r=this.query_._queryParams,i=new Wb(r.getIndex()),s=IH(r);this.processor_=rK(s);var a=n.serverCache,c=n.eventCache,l=i.updateFullNode(Ce.EMPTY_NODE,a.getNode(),null),h=s.updateFullNode(Ce.EMPTY_NODE,c.getNode(),null),d=new Ko(l,a.isFullyInitialized(),i.filtersNodes()),v=new Ko(h,c.isFullyInitialized(),s.filtersNodes());this.viewCache_=Zp(v,d),this.eventGenerator_=new MH(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function hK(e){return e.viewCache_.serverCache.getNode()}function dK(e){return $d(e.viewCache_)}function pK(e,t){var n=na(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!De(t)&&!n.getImmediateChild(xe(t)).isEmpty())?n.getChild(t):null}function nk(e){return e.eventRegistrations_.length===0}function vK(e,t){e.eventRegistrations_.push(t)}function rk(e,t,n){var r=[];if(n){z(t==null,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach(function(l){var h=l.createCancelEvent(n,i);h&&r.push(h)})}if(t){for(var s=[],a=0;a<e.eventRegistrations_.length;++a){var c=e.eventRegistrations_[a];if(!c.matches(t))s.push(c);else if(t.hasAnyCallback()){s=s.concat(e.eventRegistrations_.slice(a+1));break}}e.eventRegistrations_=s}else e.eventRegistrations_=[];return r}function ik(e,t,n,r){t.type===Zr.MERGE&&t.source.queryId!==null&&(z(na(e.viewCache_),"We should always have a full cache before handling merges"),z($d(e.viewCache_),"Missing event cache, even though we have a server cache"));var i=e.viewCache_,s=oK(e.processor_,i,t,n,r);return iK(e.processor_,s.viewCache),z(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,oO(e,s.changes,s.viewCache.eventCache.getNode(),null)}function gK(e,t){var n=e.viewCache_.eventCache,r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(lt,function(s,a){r.push(Tu(s,a))})}return n.isFullyInitialized()&&r.push($P(n.getNode())),oO(e,r,n.getNode(),t)}function oO(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return FH(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yd,sO=function(){function e(){this.views=new Map}return e}();function mK(e){z(!Yd,"__referenceConstructor has already been defined"),Yd=e}function yK(){return z(Yd,"Reference.ts has not been loaded"),Yd}function _K(e){return e.views.size===0}function Zb(e,t,n,r){var i,s,a=t.source.queryId;if(a!==null){var c=e.views.get(a);return z(c!=null,"SyncTree gave us an op for an invalid query."),ik(c,t,n,r)}else{var l=[];try{for(var h=Zt(e.views.values()),d=h.next();!d.done;d=h.next()){var c=d.value;l=l.concat(ik(c,t,n,r))}}catch(v){i={error:v}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return l}}function aO(e,t,n,r,i){var s=t._queryIdentifier,a=e.views.get(s);if(!a){var c=Gd(n,i?r:null),l=!1;c?l=!0:r instanceof Ce?(c=Yb(n,r),l=!1):(c=Ce.EMPTY_NODE,l=!1);var h=Zp(new Ko(c,l,!1),new Ko(r,i,!1));return new fK(t,h)}return a}function wK(e,t,n,r,i,s){var a=aO(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),vK(a,n),gK(a,n)}function bK(e,t,n,r){var i,s,a=t._queryIdentifier,c=[],l=[],h=Wo(e);if(a==="default")try{for(var d=Zt(e.views.entries()),v=d.next();!v.done;v=d.next()){var g=ln(v.value,2),y=g[0],w=g[1];l=l.concat(rk(w,n,r)),nk(w)&&(e.views.delete(y),w.query._queryParams.loadsAllData()||c.push(w.query))}}catch(E){i={error:E}}finally{try{v&&!v.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}else{var w=e.views.get(a);w&&(l=l.concat(rk(w,n,r)),nk(w)&&(e.views.delete(a),w.query._queryParams.loadsAllData()||c.push(w.query)))}return h&&!Wo(e)&&c.push(new(yK())(t._repo,t._path)),{removed:c,events:l}}function uO(e){var t,n,r=[];try{for(var i=Zt(e.views.values()),s=i.next();!s.done;s=i.next()){var a=s.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Uo(e,t){var n,r,i=null;try{for(var s=Zt(e.views.values()),a=s.next();!a.done;a=s.next()){var c=a.value;i=i||pK(c,t)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i}function cO(e,t){var n=t._queryParams;if(n.loadsAllData())return tv(e);var r=t._queryIdentifier;return e.views.get(r)}function lO(e,t){return cO(e,t)!=null}function Wo(e){return tv(e)!=null}function tv(e){var t,n;try{for(var r=Zt(e.views.values()),i=r.next();!i.done;i=r.next()){var s=i.value;if(s.query._queryParams.loadsAllData())return s}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xd;function EK(e){z(!Xd,"__referenceConstructor has already been defined"),Xd=e}function IK(){return z(Xd,"Reference.ts has not been loaded"),Xd}var TK=1,ok=function(){function e(t){this.listenProvider_=t,this.syncPointTree_=new mr(null),this.pendingWriteTree_=ZH(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return e}();function e0(e,t,n,r,i){return BH(e.pendingWriteTree_,t,n,r,i),i?tc(e,new Jp($b(),t,n)):[]}function SK(e,t,n,r){qH(e.pendingWriteTree_,t,n,r);var i=mr.fromObject(n);return tc(e,new Qb($b(),t,i))}function xo(e,t,n){n===void 0&&(n=!1);var r=HH(e.pendingWriteTree_,t),i=KH(e.pendingWriteTree_,t);if(i){var s=new mr(null);return r.snap!=null?s=s.set(Qe(),!0):Wt(r.children,function(a){s=s.set(new Xe(a),!0)}),tc(e,new LH(r.path,s,n))}else return[]}function bf(e,t,n){return tc(e,new Jp(Gb(),t,n))}function CK(e,t,n){var r=mr.fromObject(n);return tc(e,new Qb(Gb(),t,r))}function AK(e,t){return tc(e,new YP(Gb(),t))}function kK(e,t,n){var r=t0(e,n);if(r){var i=n0(r),s=i.path,a=i.queryId,c=Bn(s,t),l=new YP(zb(a),c);return r0(e,s,l)}else return[]}function sw(e,t,n,r){var i=t._path,s=e.syncPointTree_.get(i),a=[];if(s&&(t._queryIdentifier==="default"||lO(s,t))){var c=bK(s,t,n,r);_K(s)&&(e.syncPointTree_=e.syncPointTree_.remove(i));var l=c.removed;a=c.events;var h=l.findIndex(function(N){return N._queryParams.loadsAllData()})!==-1,d=e.syncPointTree_.findOnPath(i,function(N,O){return Wo(O)});if(h&&!d){var v=e.syncPointTree_.subtree(i);if(!v.isEmpty())for(var g=OK(v),y=0;y<g.length;++y){var w=g[y],E=w.query,I=dO(e,w);e.listenProvider_.startListening(wl(E),Jd(e,E),I.hashFn,I.onComplete)}}if(!d&&l.length>0&&!r)if(h){var C=null;e.listenProvider_.stopListening(wl(t),C)}else l.forEach(function(N){var O=e.queryToTagMap.get(rv(N));e.listenProvider_.stopListening(wl(N),O)});xK(e,l)}return a}function RK(e,t,n,r){var i=t0(e,r);if(i!=null){var s=n0(i),a=s.path,c=s.queryId,l=Bn(a,t),h=new Jp(zb(c),l,n);return r0(e,a,h)}else return[]}function NK(e,t,n,r){var i=t0(e,r);if(i){var s=n0(i),a=s.path,c=s.queryId,l=Bn(a,t),h=mr.fromObject(n),d=new Qb(zb(c),l,h);return r0(e,a,d)}else return[]}function sk(e,t,n){var r=t._path,i=null,s=!1;e.syncPointTree_.foreachOnPath(r,function(E,I){var C=Bn(E,r);i=i||Uo(I,C),s=s||Wo(I)});var a=e.syncPointTree_.get(r);a?(s=s||Wo(a),i=i||Uo(a,Qe())):(a=new sO,e.syncPointTree_=e.syncPointTree_.set(r,a));var c;if(i!=null)c=!0;else{c=!1,i=Ce.EMPTY_NODE;var l=e.syncPointTree_.subtree(r);l.foreachChild(function(E,I){var C=Uo(I,Qe());C&&(i=i.updateImmediateChild(E,C))})}var h=lO(a,t);if(!h&&!t._queryParams.loadsAllData()){var d=rv(t);z(!e.queryToTagMap.has(d),"View does not exist, but we have a tag");var v=DK();e.queryToTagMap.set(d,v),e.tagToQueryMap.set(v,d)}var g=ev(e.pendingWriteTree_,r),y=wK(a,t,n,g,i,c);if(!h&&!s){var w=cO(a,t);y=y.concat(LK(e,t,w))}return y}function nv(e,t,n){var r=!0,i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,function(a,c){var l=Bn(a,t),h=Uo(c,l);if(h)return h});return eO(i,t,s,n,r)}function PK(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,function(h,d){var v=Bn(h,n);r=r||Uo(d,v)});var i=e.syncPointTree_.get(n);i?r=r||Uo(i,Qe()):(i=new sO,e.syncPointTree_=e.syncPointTree_.set(n,i));var s=r!=null,a=s?new Ko(r,!0,!1):null,c=ev(e.pendingWriteTree_,t._path),l=aO(i,t,c,s?a.getNode():Ce.EMPTY_NODE,s);return dK(l)}function tc(e,t){return fO(t,e.syncPointTree_,null,ev(e.pendingWriteTree_,Qe()))}function fO(e,t,n,r){if(De(e.path))return hO(e,t,n,r);var i=t.get(Qe());n==null&&i!=null&&(n=Uo(i,Qe()));var s=[],a=xe(e.path),c=e.operationForChild(a),l=t.children.get(a);if(l&&c){var h=n?n.getImmediateChild(a):null,d=tO(r,a);s=s.concat(fO(c,l,h,d))}return i&&(s=s.concat(Zb(i,e,r,n))),s}function hO(e,t,n,r){var i=t.get(Qe());n==null&&i!=null&&(n=Uo(i,Qe()));var s=[];return t.children.inorderTraversal(function(a,c){var l=n?n.getImmediateChild(a):null,h=tO(r,a),d=e.operationForChild(a);d&&(s=s.concat(hO(d,c,l,h)))}),i&&(s=s.concat(Zb(i,e,r,n))),s}function dO(e,t){var n=t.query,r=Jd(e,n);return{hashFn:function(){var i=hK(t)||Ce.EMPTY_NODE;return i.hash()},onComplete:function(i){if(i==="ok")return r?kK(e,n._path,r):AK(e,n._path);var s=wq(i,n);return sw(e,n,null,s)}}}function Jd(e,t){var n=rv(t);return e.queryToTagMap.get(n)}function rv(e){return e._path.toString()+"$"+e._queryIdentifier}function t0(e,t){return e.tagToQueryMap.get(t)}function n0(e){var t=e.indexOf("$");return z(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Xe(e.substr(0,t))}}function r0(e,t,n){var r=e.syncPointTree_.get(t);z(r,"Missing sync point for query tag that we're tracking");var i=ev(e.pendingWriteTree_,t);return Zb(r,n,i,null)}function OK(e){return e.fold(function(t,n,r){if(n&&Wo(n)){var i=tv(n);return[i]}else{var s=[];return n&&(s=uO(n)),Wt(r,function(a,c){s=s.concat(c)}),s}})}function wl(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(IK())(e._repo,e._path):e}function xK(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=rv(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function DK(){return TK++}function LK(e,t,n){var r=t._path,i=Jd(e,t),s=dO(e,n),a=e.listenProvider_.startListening(wl(t),i,s.hashFn,s.onComplete),c=e.syncPointTree_.subtree(r);if(i)z(!Wo(c.value),"If we're adding a query, it shouldn't be shadowed");else for(var l=c.fold(function(v,g,y){if(!De(v)&&g&&Wo(g))return[tv(g).query];var w=[];return g&&(w=w.concat(uO(g).map(function(E){return E.query}))),Wt(y,function(E,I){w=w.concat(I)}),w}),h=0;h<l.length;++h){var d=l[h];e.listenProvider_.stopListening(wl(d),Jd(e,d))}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MK=function(){function e(t){this.node_=t}return e.prototype.getImmediateChild=function(t){var n=this.node_.getImmediateChild(t);return new e(n)},e.prototype.node=function(){return this.node_},e}(),FK=function(){function e(t,n){this.syncTree_=t,this.path_=n}return e.prototype.getImmediateChild=function(t){var n=yt(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return nv(this.syncTree_,this.path_)},e}(),UK=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},ak=function(e,t,n){if(!e||typeof e!="object")return e;if(z(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return jK(e[".sv"],t,n);if(typeof e[".sv"]=="object")return VK(e[".sv"],t);z(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},jK=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:z(!1,"Unexpected server value: "+e)}},VK=function(e,t,n){e.hasOwnProperty("increment")||z(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;typeof r!="number"&&z(!1,"Unexpected increment value: "+r);var i=t.node();if(z(i!==null&&typeof i!="undefined","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i,a=s.getValue();return typeof a!="number"?r:a+r},pO=function(e,t,n,r){return o0(t,new FK(n,e),r)},i0=function(e,t,n){return o0(e,new MK(t),n)};function o0(e,t,n){var r=e.getPriority().val(),i=ak(r,t.getImmediateChild(".priority"),n),s;if(e.isLeafNode()){var a=e,c=ak(a.getValue(),t,n);return c!==a.getValue()||i!==a.getPriority().val()?new Eu(c,wt(i)):e}else{var l=e;return s=l,i!==l.getPriority().val()&&(s=s.updatePriority(new Eu(i))),l.forEachChild(lt,function(h,d){var v=o0(d,t.getImmediateChild(h),n);v!==d&&(s=s.updateImmediateChild(h,v))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var s0=function(){function e(t,n,r){t===void 0&&(t=""),n===void 0&&(n=null),r===void 0&&(r={children:{},childCount:0}),this.name=t,this.parent=n,this.node=r}return e}();function iv(e,t){for(var n=t instanceof Xe?t:new Xe(t),r=e,i=xe(n);i!==null;){var s=ta(r.node.children,i)||{children:{},childCount:0};r=new s0(i,r,s),n=ct(n),i=xe(n)}return r}function ga(e){return e.node.value}function a0(e,t){e.node.value=t,aw(e)}function vO(e){return e.node.childCount>0}function BK(e){return ga(e)===void 0&&!vO(e)}function ov(e,t){Wt(e.node.children,function(n,r){t(new s0(n,e,r))})}function gO(e,t,n,r){n&&!r&&t(e),ov(e,function(i){gO(i,t,!0,r)}),n&&r&&t(e)}function qK(e,t,n){for(var r=n?e:e.parent;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Ef(e){return new Xe(e.parent===null?e.name:Ef(e.parent)+"/"+e.name)}function aw(e){e.parent!==null&&HK(e.parent,e.name,e)}function HK(e,t,n){var r=BK(n),i=gr(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,aw(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,aw(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KK=/[\[\].#$\/\u0000-\u001F\u007F]/,WK=/[\[\].#$\u0000-\u001F\u007F]/,$y=10*1024*1024,sv=function(e){return typeof e=="string"&&e.length!==0&&!KK.test(e)},mO=function(e){return typeof e=="string"&&e.length!==0&&!WK.test(e)},$K=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),mO(e)},Wl=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!Qp(e)||e&&typeof e=="object"&&gr(e,".sv")},ki=function(e,t,n,r){r&&t===void 0||If(Zn(e,"value"),t,n)},If=function(e,t,n){var r=n instanceof Xe?new eH(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Rs(r));if(typeof t=="function")throw new Error(e+"contains a function "+Rs(r)+" with contents = "+t.toString());if(Qp(t))throw new Error(e+"contains "+t.toString()+" "+Rs(r));if(typeof t=="string"&&t.length>$y/3&&zp(t)>$y)throw new Error(e+"contains a string greater than "+$y+" utf8 bytes "+Rs(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){var i=!1,s=!1;if(Wt(t,function(a,c){if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!sv(a)))throw new Error(e+" contains an invalid key ("+a+") "+Rs(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);tH(r,a),If(e,c,r),nH(r)}),i&&s)throw new Error(e+' contains ".value" child '+Rs(r)+" in addition to actual children.")}},GK=function(e,t){var n,r;for(n=0;n<t.length;n++){r=t[n];for(var i=ql(r),s=0;s<i.length;s++)if(!(i[s]===".priority"&&s===i.length-1)){if(!sv(i[s]))throw new Error(e+"contains an invalid key ("+i[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(Zq);var a=null;for(n=0;n<t.length;n++){if(r=t[n],a!==null&&Ar(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},yO=function(e,t,n,r){if(!(r&&t===void 0)){var i=Zn(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var s=[];Wt(t,function(a,c){var l=new Xe(a);if(If(i,c,yt(n,l)),Vb(l)===".priority"&&!Wl(c))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),GK(i,s)}},u0=function(e,t,n){if(!(n&&t===void 0)){if(Qp(t))throw new Error(Zn(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Wl(t))throw new Error(Zn(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},zK=function(e,t,n){if(!(n&&t===void 0))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Zn(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Tf=function(e,t,n,r){if(!(r&&n===void 0)&&!sv(n))throw new Error(Zn(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},$l=function(e,t,n,r){if(!(r&&n===void 0)&&!mO(n))throw new Error(Zn(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},QK=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),$l(e,t,n,r)},kr=function(e,t){if(xe(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},_O=function(e,t){var n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!sv(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!$K(n))throw new Error(Zn(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},YK=function(e,t,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(Zn(e,t)+"must be a boolean.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XK=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e}();function av(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],s=i.getPath();n!==null&&!Bb(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function c0(e,t,n){av(e,n),wO(e,function(r){return Bb(r,t)})}function Mr(e,t,n){av(e,n),wO(e,function(r){return Ar(r,t)||Ar(t,r)})}function wO(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i){var s=i.path;t(s)?(JK(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function JK(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(n!==null){e.events[t]=null;var r=n.getEventRunner();$s&&Qt("event: "+n.toString()),Zu(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bO="repo_interrupt",ZK=25,eW=function(){function e(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new XK,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Wd(),this.transactionQueueTree_=new s0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function tW(e,t,n){if(e.stats_=Ub(e.repoInfo_),e.forceRestClient_||Eq())e.server_=new kH(e.repoInfo_,function(r,i,s,a){uk(e,r,i,s,a)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(function(){return ck(e,!0)},0);else{if(typeof n!="undefined"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{qt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Gs(e.repoInfo_,t,function(r,i,s,a){uk(e,r,i,s,a)},function(r){ck(e,r)},function(r){rW(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(function(r){e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(function(r){e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=kq(e.repoInfo_,function(){return new xH(e.stats_,e.server_)}),e.infoData_=new RH,e.infoSyncTree_=new ok({startListening:function(r,i,s,a){var c=[],l=e.infoData_.getNode(r._path);return l.isEmpty()||(c=bf(e.infoSyncTree_,r._path,l),setTimeout(function(){a("ok")},0)),c},stopListening:function(){}}),l0(e,"connected",!1),e.serverSyncTree_=new ok({startListening:function(r,i,s,a){return e.server_.listen(r,s,i,function(c,l){var h=a(c,l);Mr(e.eventQueue_,r._path,h)}),[]},stopListening:function(r,i){e.server_.unlisten(r,i)}})}function EO(e){var t=e.infoData_.getNode(new Xe(".info/serverTimeOffset")),n=t.val()||0;return new Date().getTime()+n}function Sf(e){return UK({timestamp:EO(e)})}function uk(e,t,n,r,i){e.dataUpdateCount++;var s=new Xe(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var a=[];if(i)if(r){var c=jd(n,function(g){return wt(g)});a=NK(e.serverSyncTree_,s,c,i)}else{var l=wt(n);a=RK(e.serverSyncTree_,s,l,i)}else if(r){var h=jd(n,function(g){return wt(g)});a=CK(e.serverSyncTree_,s,h)}else{var d=wt(n);a=bf(e.serverSyncTree_,s,d)}var v=s;a.length>0&&(v=Cu(e,s)),Mr(e.eventQueue_,v,a)}function nW(e,t){e.interceptServerDataCallback_=t}function ck(e,t){l0(e,"connected",t),t===!1&&sW(e)}function rW(e,t){Wt(t,function(n,r){l0(e,n,r)})}function l0(e,t,n){var r=new Xe("/.info/"+t),i=wt(n);e.infoData_.updateSnapshot(r,i);var s=bf(e.infoSyncTree_,r,i);Mr(e.eventQueue_,r,s)}function uv(e){return e.nextWriteId_++}function iW(e,t){var n=PK(e.serverSyncTree_,t);return n!=null?Promise.resolve(n):e.server_.get(t).then(function(r){var i=wt(r).withIndex(t._queryParams.getIndex()),s=bf(e.serverSyncTree_,t._path,i);return c0(e.eventQueue_,t._path,s),Promise.resolve(i)},function(r){return nc(e,"get for query "+qt(t)+" failed: "+r),Promise.reject(new Error(r))})}function f0(e,t,n,r,i){nc(e,"set",{path:t.toString(),value:n,priority:r});var s=Sf(e),a=wt(n,r),c=nv(e.serverSyncTree_,t),l=i0(a,c,s),h=uv(e),d=e0(e.serverSyncTree_,t,l,h,!0);av(e.eventQueue_,d),e.server_.put(t.toString(),a.val(!0),function(g,y){var w=g==="ok";w||hn("set at "+t+" failed: "+g);var E=xo(e.serverSyncTree_,h,!w);Mr(e.eventQueue_,t,E),$o(e,i,g,y)});var v=d0(e,t);Cu(e,v),Mr(e.eventQueue_,v,[])}function oW(e,t,n,r){nc(e,"update",{path:t.toString(),value:n});var i=!0,s=Sf(e),a={};if(Wt(n,function(h,d){i=!1,a[h]=pO(yt(t,h),wt(d),e.serverSyncTree_,s)}),i)Qt("update() called with empty data.  Don't do anything."),$o(e,r,"ok",void 0);else{var c=uv(e),l=SK(e.serverSyncTree_,t,a,c);av(e.eventQueue_,l),e.server_.merge(t.toString(),n,function(h,d){var v=h==="ok";v||hn("update at "+t+" failed: "+h);var g=xo(e.serverSyncTree_,c,!v),y=g.length>0?Cu(e,t):t;Mr(e.eventQueue_,y,g),$o(e,r,h,d)}),Wt(n,function(h){var d=d0(e,yt(t,h));Cu(e,d)}),Mr(e.eventQueue_,t,[])}}function sW(e){nc(e,"onDisconnectEvents");var t=Sf(e),n=Wd();ew(e.onDisconnect_,Qe(),function(i,s){var a=pO(i,s,e.serverSyncTree_,t);ec(n,i,a)});var r=[];ew(n,Qe(),function(i,s){r=r.concat(bf(e.serverSyncTree_,i,s));var a=d0(e,i);Cu(e,a)}),e.onDisconnect_=Wd(),Mr(e.eventQueue_,Qe(),r)}function aW(e,t,n){e.server_.onDisconnectCancel(t.toString(),function(r,i){r==="ok"&&Z_(e.onDisconnect_,t),$o(e,n,r,i)})}function lk(e,t,n,r){var i=wt(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),function(s,a){s==="ok"&&ec(e.onDisconnect_,t,i),$o(e,r,s,a)})}function uW(e,t,n,r,i){var s=wt(n,r);e.server_.onDisconnectPut(t.toString(),s.val(!0),function(a,c){a==="ok"&&ec(e.onDisconnect_,t,s),$o(e,i,a,c)})}function cW(e,t,n,r){if(K_(n)){Qt("onDisconnect().update() called with empty data.  Don't do anything."),$o(e,r,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,function(i,s){i==="ok"&&Wt(n,function(a,c){var l=wt(c);ec(e.onDisconnect_,yt(t,a),l)}),$o(e,r,i,s)})}function lW(e,t,n){var r;xe(t._path)===".info"?r=sk(e.infoSyncTree_,t,n):r=sk(e.serverSyncTree_,t,n),c0(e.eventQueue_,t._path,r)}function uw(e,t,n){var r;xe(t._path)===".info"?r=sw(e.infoSyncTree_,t,n):r=sw(e.serverSyncTree_,t,n),c0(e.eventQueue_,t._path,r)}function IO(e){e.persistentConnection_&&e.persistentConnection_.interrupt(bO)}function fW(e){e.persistentConnection_&&e.persistentConnection_.resume(bO)}function hW(e,t){if(t===void 0&&(t=!1),typeof console!="undefined"){var n;t?(e.statsListener_||(e.statsListener_=new QP(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce(function(i,s){return Math.max(s.length,i)},0);Wt(n,function(i,s){for(var a=i,c=i.length;c<r+2;c++)a+=" ";console.log(a+s)})}}function dW(e,t){e.stats_.incrementCounter(t),DH(e.statsReporter_,t)}function nc(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),Qt.apply(void 0,Oe([r],ln(t)))}function $o(e,t,n,r){t&&Zu(function(){if(n==="ok")t(null);else{var i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);var a=new Error(s);a.code=i,t(a)}})}function pW(e,t,n,r,i,s){nc(e,"transaction on "+t);var a={path:t,update:n,onComplete:r,status:null,order:pP(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=h0(e,t,void 0);a.currentInputSnapshot=c;var l=a.update(c.val());if(l===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{If("transaction failed: Data returned ",l,a.path),a.status=0;var h=iv(e.transactionQueueTree_,t),d=ga(h)||[];d.push(a),a0(h,d);var v=void 0;if(typeof l=="object"&&l!==null&&gr(l,".priority"))v=ta(l,".priority"),z(Wl(v),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var g=nv(e.serverSyncTree_,t)||Ce.EMPTY_NODE;v=g.getPriority().val()}var y=Sf(e),w=wt(l,v),E=i0(w,c,y);a.currentOutputSnapshotRaw=w,a.currentOutputSnapshotResolved=E,a.currentWriteId=uv(e);var I=e0(e.serverSyncTree_,t,E,a.currentWriteId,a.applyLocally);Mr(e.eventQueue_,t,I),cv(e,e.transactionQueueTree_)}}function h0(e,t,n){return nv(e.serverSyncTree_,t,n)||Ce.EMPTY_NODE}function cv(e,t){if(t===void 0&&(t=e.transactionQueueTree_),t||lv(e,t),ga(t)){var n=SO(e,t);z(n.length>0,"Sending zero length transaction queue");var r=n.every(function(i){return i.status===0});r&&vW(e,Ef(t),n)}else vO(t)&&ov(t,function(i){cv(e,i)})}function vW(e,t,n){for(var r=n.map(function(g){return g.currentWriteId}),i=h0(e,t,r),s=i,a=i.hash(),c=0;c<n.length;c++){var l=n[c];z(l.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=1,l.retryCount++;var h=Bn(t,l.path);s=s.updateChild(h,l.currentOutputSnapshotRaw)}var d=s.val(!0),v=t;e.server_.put(v.toString(),d,function(g){nc(e,"transaction put response",{path:v.toString(),status:g});var y=[];if(g==="ok"){for(var w=[],E=function(C){n[C].status=2,y=y.concat(xo(e.serverSyncTree_,n[C].currentWriteId)),n[C].onComplete&&w.push(function(){return n[C].onComplete(null,!0,n[C].currentOutputSnapshotResolved)}),n[C].unwatcher()},I=0;I<n.length;I++)E(I);lv(e,iv(e.transactionQueueTree_,t)),cv(e,e.transactionQueueTree_),Mr(e.eventQueue_,t,y);for(var I=0;I<w.length;I++)Zu(w[I])}else{if(g==="datastale")for(var I=0;I<n.length;I++)n[I].status===3?n[I].status=4:n[I].status=0;else{hn("transaction at "+v.toString()+" failed: "+g);for(var I=0;I<n.length;I++)n[I].status=4,n[I].abortReason=g}Cu(e,t)}},a)}function Cu(e,t){var n=TO(e,t),r=Ef(n),i=SO(e,n);return gW(e,i,r),r}function gW(e,t,n){if(t.length!==0){for(var r=[],i=[],s=t.filter(function(h){return h.status===0}),a=s.map(function(h){return h.currentWriteId}),c=function(h){var d=t[h],v=Bn(n,d.path),g=!1,y;if(z(v!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)g=!0,y=d.abortReason,i=i.concat(xo(e.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=ZK)g=!0,y="maxretry",i=i.concat(xo(e.serverSyncTree_,d.currentWriteId,!0));else{var w=h0(e,d.path,a);d.currentInputSnapshot=w;var E=t[h].update(w.val());if(E!==void 0){If("transaction failed: Data returned ",E,d.path);var I=wt(E),C=typeof E=="object"&&E!=null&&gr(E,".priority");C||(I=I.updatePriority(w.getPriority()));var N=d.currentWriteId,O=Sf(e),L=i0(I,w,O);d.currentOutputSnapshotRaw=I,d.currentOutputSnapshotResolved=L,d.currentWriteId=uv(e),a.splice(a.indexOf(N),1),i=i.concat(e0(e.serverSyncTree_,d.path,L,d.currentWriteId,d.applyLocally)),i=i.concat(xo(e.serverSyncTree_,N,!0))}else g=!0,y="nodata",i=i.concat(xo(e.serverSyncTree_,d.currentWriteId,!0))}Mr(e.eventQueue_,n,i),i=[],g&&(t[h].status=2,function(V){setTimeout(V,Math.floor(0))}(t[h].unwatcher),t[h].onComplete&&(y==="nodata"?r.push(function(){return t[h].onComplete(null,!1,t[h].currentInputSnapshot)}):r.push(function(){return t[h].onComplete(new Error(y),!1,null)})))},l=0;l<t.length;l++)c(l);lv(e,e.transactionQueueTree_);for(var l=0;l<r.length;l++)Zu(r[l]);cv(e,e.transactionQueueTree_)}}function TO(e,t){var n,r=e.transactionQueueTree_;for(n=xe(t);n!==null&&ga(r)===void 0;)r=iv(r,n),t=ct(t),n=xe(t);return r}function SO(e,t){var n=[];return CO(e,t,n),n.sort(function(r,i){return r.order-i.order}),n}function CO(e,t,n){var r=ga(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);ov(t,function(s){CO(e,s,n)})}function lv(e,t){var n=ga(t);if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,a0(t,n.length>0?n:void 0)}ov(t,function(s){lv(e,s)})}function d0(e,t){var n=Ef(TO(e,t)),r=iv(e.transactionQueueTree_,t);return qK(r,function(i){Gy(e,i)}),Gy(e,r),gO(r,function(i){Gy(e,i)}),n}function Gy(e,t){var n=ga(t);if(n){for(var r=[],i=[],s=-1,a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(z(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(z(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(xo(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?a0(t,void 0):n.length=s+1,Mr(e.eventQueue_,Ef(t),i);for(var a=0;a<r.length;a++)Zu(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mW(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function yW(e){var t,n,r={};e.charAt(0)==="?"&&(e=e.substring(1));try{for(var i=Zt(e.split("&")),s=i.next();!s.done;s=i.next()){var a=s.value;if(a.length!==0){var c=a.split("=");c.length===2?r[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):hn("Invalid query segment '"+a+"' in query '"+e+"'")}}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}var cw=function(e,t){var n=_W(e),r=n.namespace;n.domain==="firebase.com"&&Ci(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Ci("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||vq();var i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Fb(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new Xe(n.pathString)}},_W=function(e){var t="",n="",r="",i="",s="",a=!0,c="https",l=443;if(typeof e=="string"){var h=e.indexOf("//");h>=0&&(c=e.substring(0,h-1),e=e.substring(h+2));var d=e.indexOf("/");d===-1&&(d=e.length);var v=e.indexOf("?");v===-1&&(v=e.length),t=e.substring(0,Math.min(d,v)),d<v&&(i=mW(e.substring(d,v)));var g=yW(e.substring(Math.min(e.length,v)));h=t.indexOf(":"),h>=0?(a=c==="https"||c==="wss",l=parseInt(t.substring(h+1),10)):h=t.length;var y=t.slice(0,h);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{var w=t.indexOf(".");r=t.substring(0,w).toLowerCase(),n=t.substring(w+1),s=r}"ns"in g&&(s=g.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:a,scheme:c,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AO=function(){function e(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return e.prototype.getPath=function(){var t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+qt(this.snapshot.exportVal())},e}(),kO=function(){function e(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RO=function(){function e(t,n){this.snapshotCallback=t,this.cancelCallback=n}return e.prototype.onValue=function(t,n){this.snapshotCallback.call(null,t,n)},e.prototype.onCancel=function(t){return z(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wW=function(){function e(t,n){this._repo=t,this._path=n}return e.prototype.cancel=function(){var t=new Xt;return aW(this._repo,this._path,t.wrapCallback(function(){})),t.promise},e.prototype.remove=function(){kr("OnDisconnect.remove",this._path);var t=new Xt;return lk(this._repo,this._path,null,t.wrapCallback(function(){})),t.promise},e.prototype.set=function(t){kr("OnDisconnect.set",this._path),ki("OnDisconnect.set",t,this._path,!1);var n=new Xt;return lk(this._repo,this._path,t,n.wrapCallback(function(){})),n.promise},e.prototype.setWithPriority=function(t,n){kr("OnDisconnect.setWithPriority",this._path),ki("OnDisconnect.setWithPriority",t,this._path,!1),u0("OnDisconnect.setWithPriority",n,!1);var r=new Xt;return uW(this._repo,this._path,t,n,r.wrapCallback(function(){})),r.promise},e.prototype.update=function(t){kr("OnDisconnect.update",this._path),yO("OnDisconnect.update",t,this._path,!1);var n=new Xt;return cW(this._repo,this._path,t,n.wrapCallback(function(){})),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ur=function(){function e(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return Object.defineProperty(e.prototype,"key",{get:function(){return De(this._path)?null:Vb(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Ni(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var t=QA(this._queryParams),n=Db(t);return n==="{}"?"default":n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return QA(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(t=Ne(t),!(t instanceof e))return!1;var n=this._repo===t._repo,r=Bb(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+Jq(this._path)},e}();function fv(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function Yo(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===wi){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){var s=e.getIndexStartName();if(s!==Xi)throw new Error(r);if(typeof t!="string")throw new Error(i)}if(e.hasEnd()){var a=e.getIndexEndName();if(a!==Ai)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(e.getIndex()===lt){if(t!=null&&!Wl(t)||n!=null&&!Wl(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(z(e.getIndex()instanceof Hb||e.getIndex()===Kb,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function hv(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Ni=function(e){ne(t,e);function t(n,r){return e.call(this,n,r,new zP,!1)||this}return Object.defineProperty(t.prototype,"parent",{get:function(){var n=FP(this._path);return n===null?null:new t(this._repo,n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var n=this;n.parent!==null;)n=n.parent;return n},enumerable:!1,configurable:!0}),t}(Ur),dv=function(){function e(t,n,r){this._node=t,this.ref=n,this._index=r}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new Xe(t),r=ra(this.ref,t);return new e(this._node.getChild(n),r,lt)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;if(this._node.isLeafNode())return!1;var r=this._node;return!!r.forEachChild(this._index,function(i,s){return t(new e(s,ra(n.ref,i),lt))})},e.prototype.hasChild=function(t){var n=new Xe(t);return!this._node.getChild(n).isEmpty()},e.prototype.hasChildren=function(){return this._node.isLeafNode()?!1:!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function NO(e,t){return e=Ne(e),e._checkNotDeleted("ref"),t!==void 0?ra(e._root,t):e._root}function fk(e,t){e=Ne(e),e._checkNotDeleted("refFromURL");var n=cw(t,e._repo.repoInfo_.nodeAdmin);_O("refFromURL",n);var r=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&r.host!==e._repo.repoInfo_.host&&Ci("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),NO(e,n.path.toString())}function ra(e,t){return e=Ne(e),xe(e._path)===null?QK("child","path",t,!1):$l("child","path",t,!1),new Ni(e._repo,yt(e._path,t))}function bW(e,t){e=Ne(e),kr("push",e._path),ki("push",t,e._path,!0);var n=EO(e._repo),r=wH(n),i=ra(e,r),s=ra(e,r),a;return t!=null?a=p0(s,t).then(function(){return s}):a=Promise.resolve(s),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function EW(e){return kr("remove",e._path),p0(e,null)}function p0(e,t){e=Ne(e),kr("set",e._path),ki("set",t,e._path,!1);var n=new Xt;return f0(e._repo,e._path,t,null,n.wrapCallback(function(){})),n.promise}function IW(e,t){e=Ne(e),kr("setPriority",e._path),u0("setPriority",t,!1);var n=new Xt;return f0(e._repo,yt(e._path,".priority"),t,null,n.wrapCallback(function(){})),n.promise}function TW(e,t,n){if(kr("setWithPriority",e._path),ki("setWithPriority",t,e._path,!1),u0("setWithPriority",n,!1),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new Xt;return f0(e._repo,e._path,t,n,r.wrapCallback(function(){})),r.promise}function SW(e,t){yO("update",t,e._path,!1);var n=new Xt;return oW(e._repo,e._path,t,n.wrapCallback(function(){})),n.promise}function CW(e){return e=Ne(e),iW(e._repo,e).then(function(t){return new dv(t,new Ni(e._repo,e._path),e._queryParams.getIndex())})}var PO=function(){function e(t){this.callbackContext=t}return e.prototype.respondsTo=function(t){return t==="value"},e.prototype.createEvent=function(t,n){var r=n._queryParams.getIndex();return new AO("value",this,new dv(t.snapshotNode,new Ni(n._repo,n._path),r))},e.prototype.getEventRunner=function(t){var n=this;return t.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(t.error)}:function(){return n.callbackContext.onValue(t.snapshot,null)}},e.prototype.createCancelEvent=function(t,n){return this.callbackContext.hasCancelCallback?new kO(this,t,n):null},e.prototype.matches=function(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1},e.prototype.hasAnyCallback=function(){return this.callbackContext!==null},e}(),OO=function(){function e(t,n){this.eventType=t,this.callbackContext=n}return e.prototype.respondsTo=function(t){var n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n},e.prototype.createCancelEvent=function(t,n){return this.callbackContext.hasCancelCallback?new kO(this,t,n):null},e.prototype.createEvent=function(t,n){z(t.childName!=null,"Child events should have a childName.");var r=ra(new Ni(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new AO(t.type,this,new dv(t.snapshotNode,r,i),t.prevName)},e.prototype.getEventRunner=function(t){var n=this;return t.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(t.error)}:function(){return n.callbackContext.onValue(t.snapshot,t.prevName)}},e.prototype.matches=function(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function Cf(e,t,n,r,i){var s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){var a=n,c=function(d,v){uw(e._repo,e,h),a(d,v)};c.userCallback=n.userCallback,c.context=n.context,n=c}var l=new RO(n,s||void 0),h=t==="value"?new PO(l):new OO(t,l);return lW(e._repo,e,h),function(){return uw(e._repo,e,h)}}function lw(e,t,n,r){return Cf(e,"value",t,n,r)}function hk(e,t,n,r){return Cf(e,"child_added",t,n,r)}function dk(e,t,n,r){return Cf(e,"child_changed",t,n,r)}function pk(e,t,n,r){return Cf(e,"child_moved",t,n,r)}function vk(e,t,n,r){return Cf(e,"child_removed",t,n,r)}function gk(e,t,n){var r=null,i=n?new RO(n):null;t==="value"?r=new PO(i):t&&(r=new OO(t,i)),uw(e._repo,e,r)}var oi=function(){function e(){}return e}(),xO=function(e){ne(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){ki("endAt",this._value,n._path,!0);var r=J_(n._queryParams,this._value,this._key);if(hv(r),Yo(r),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ur(n._repo,n._path,r,n._orderByCalled)},t}(oi);function AW(e,t){return Tf("endAt","key",t,!0),new xO(e,t)}var kW=function(e){ne(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){ki("endBefore",this._value,n._path,!1);var r=AH(n._queryParams,this._value,this._key);if(hv(r),Yo(r),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ur(n._repo,n._path,r,n._orderByCalled)},t}(oi);function RW(e,t){return Tf("endBefore","key",t,!0),new kW(e,t)}var DO=function(e){ne(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){ki("startAt",this._value,n._path,!0);var r=X_(n._queryParams,this._value,this._key);if(hv(r),Yo(r),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ur(n._repo,n._path,r,n._orderByCalled)},t}(oi);function NW(e,t){return e===void 0&&(e=null),Tf("startAt","key",t,!0),new DO(e,t)}var PW=function(e){ne(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){ki("startAfter",this._value,n._path,!1);var r=CH(n._queryParams,this._value,this._key);if(hv(r),Yo(r),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ur(n._repo,n._path,r,n._orderByCalled)},t}(oi);function OW(e,t){return Tf("startAfter","key",t,!0),new PW(e,t)}var xW=function(e){ne(t,e);function t(n){var r=e.call(this)||this;return r._limit=n,r}return t.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ur(n._repo,n._path,TH(n._queryParams,this._limit),n._orderByCalled)},t}(oi);function DW(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new xW(e)}var LW=function(e){ne(t,e);function t(n){var r=e.call(this)||this;return r._limit=n,r}return t.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ur(n._repo,n._path,SH(n._queryParams,this._limit),n._orderByCalled)},t}(oi);function MW(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new LW(e)}var FW=function(e){ne(t,e);function t(n){var r=e.call(this)||this;return r._path=n,r}return t.prototype._apply=function(n){fv(n,"orderByChild");var r=new Xe(this._path);if(De(r))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var i=new Hb(r),s=Xp(n._queryParams,i);return Yo(s),new Ur(n._repo,n._path,s,!0)},t}(oi);function UW(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return $l("orderByChild","path",e,!1),new FW(e)}var jW=function(e){ne(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){fv(n,"orderByKey");var r=Xp(n._queryParams,wi);return Yo(r),new Ur(n._repo,n._path,r,!0)},t}(oi);function VW(){return new jW}var BW=function(e){ne(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){fv(n,"orderByPriority");var r=Xp(n._queryParams,lt);return Yo(r),new Ur(n._repo,n._path,r,!0)},t}(oi);function qW(){return new BW}var HW=function(e){ne(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){fv(n,"orderByValue");var r=Xp(n._queryParams,Kb);return Yo(r),new Ur(n._repo,n._path,r,!0)},t}(oi);function KW(){return new HW}var WW=function(e){ne(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){if(ki("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new xO(this._value,this._key)._apply(new DO(this._value,this._key)._apply(n))},t}(oi);function $W(e,t){return Tf("equalTo","key",t,!0),new WW(e,t)}function Wr(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=Ne(e);try{for(var a=Zt(r),c=a.next();!c.done;c=a.next()){var l=c.value;s=l._apply(s)}}catch(h){t={error:h}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return s}mK(Ni);EK(Ni);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GW="FIREBASE_DATABASE_EMULATOR_HOST",fw={},LO=!1;function zW(e,t,n,r){e.repoInfo_=new Fb(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function MO(e,t,n,r,i){var s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||Ci("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Qt("Using default host for project ",e.options.projectId),s=e.options.projectId+"-default-rtdb.firebaseio.com");var a=cw(s,i),c=a.repoInfo,l,h=void 0;typeof process!="undefined"&&(h=process.env[GW]),h?(l=!0,s="http://"+h+"?ns="+c.namespace,a=cw(s,i),c=a.repoInfo):l=!a.repoInfo.secure;var d=i&&l?new ml(ml.OWNER):new Tq(e.name,e.options,t);_O("Invalid Firebase Database URL",a),De(a.path)||Ci("Database URL must point to the root of a Firebase Database (not including a child path).");var v=YW(c,e,d,new Iq(e.name,n));return new JW(v,e)}function QW(e,t){var n=fw[t];(!n||n[e.key]!==e)&&Ci("Database "+t+"("+e.repoInfo_+") has already been deleted."),IO(e),delete n[e.key]}function YW(e,t,n,r){var i=fw[t.name];i||(i={},fw[t.name]=i);var s=i[e.toURLString()];return s&&Ci("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new eW(e,LO,n,r),i[e.toURLString()]=s,s}function XW(e){LO=e}var JW=function(){function e(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(tW(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Ni(this._repo,Qe())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return this._rootInternal!==null&&(QW(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},e.prototype._checkNotDeleted=function(t){this._rootInternal===null&&Ci("Cannot call "+t+" on a deleted database.")},e}();function ZW(e,t,n,r){r===void 0&&(r={}),e=Ne(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Ci("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,s=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ci('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new ml(ml.OWNER);else if(r.mockUserToken){var a=typeof r.mockUserToken=="string"?r.mockUserToken:Ab(r.mockUserToken,e.app.options.projectId);s=new ml(a)}zW(i,t,n,s)}function e$(e){e=Ne(e),e._checkNotDeleted("goOffline"),IO(e._repo)}function t$(e){e=Ne(e),e._checkNotDeleted("goOnline"),fW(e._repo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n$={".sv":"timestamp"};function r$(){return n$}function i$(e){return{".sv":{increment:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o$=function(){function e(t,n){this.committed=t,this.snapshot=n}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function s$(e,t,n){var r;if(e=Ne(e),kr("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,s=new Xt,a=function(l,h,d){var v=null;l?s.reject(l):(v=new dv(d,new Ni(e._repo,e._path),lt),s.resolve(new o$(h,v)))},c=lw(e,function(){});return pW(e._repo,e._path,t,a,c,i),s.promise}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var a$=function(){function e(t){this._delegate=t}return e.prototype.cancel=function(t){_e("OnDisconnect.cancel",0,1,arguments.length),zt("OnDisconnect.cancel","onComplete",t,!0);var n=this._delegate.cancel();return t&&n.then(function(){return t(null)},function(r){return t(r)}),n},e.prototype.remove=function(t){_e("OnDisconnect.remove",0,1,arguments.length),zt("OnDisconnect.remove","onComplete",t,!0);var n=this._delegate.remove();return t&&n.then(function(){return t(null)},function(r){return t(r)}),n},e.prototype.set=function(t,n){_e("OnDisconnect.set",1,2,arguments.length),zt("OnDisconnect.set","onComplete",n,!0);var r=this._delegate.set(t);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},e.prototype.setWithPriority=function(t,n,r){_e("OnDisconnect.setWithPriority",2,3,arguments.length),zt("OnDisconnect.setWithPriority","onComplete",r,!0);var i=this._delegate.setWithPriority(t,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},e.prototype.update=function(t,n){if(_e("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var r={},i=0;i<t.length;++i)r[""+i]=t[i];t=r,hn("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}zt("OnDisconnect.update","onComplete",n,!0);var s=this._delegate.update(t);return n&&s.then(function(){return n(null)},function(a){return n(a)}),s},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var u$=function(){function e(t,n){this.committed=t,this.snapshot=n}return e.prototype.toJSON=function(){return _e("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bl=function(){function e(t,n){this._database=t,this._delegate=n}return e.prototype.val=function(){return _e("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return _e("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return _e("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return _e("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return _e("DataSnapshot.child",0,1,arguments.length),t=String(t),$l("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(t){return _e("DataSnapshot.hasChild",1,1,arguments.length),$l("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},e.prototype.getPriority=function(){return _e("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return _e("DataSnapshot.forEach",1,1,arguments.length),zt("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(function(r){return t(new e(n._database,r))})},e.prototype.hasChildren=function(){return _e("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return _e("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return _e("DataSnapshot.ref",0,0,arguments.length),new Us(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),FO=function(){function e(t,n){this.database=t,this._delegate=n}return e.prototype.on=function(t,n,r,i){var s=this,a;_e("Query.on",2,4,arguments.length),zt("Query.on","callback",n,!1);var c=e.getCancelAndContextArgs_("Query.on",r,i),l=function(d,v){n.call(c.context,new bl(s.database,d),v)};l.userCallback=n,l.context=c.context;var h=(a=c.cancel)===null||a===void 0?void 0:a.bind(c.context);switch(t){case"value":return lw(this._delegate,l,h),n;case"child_added":return hk(this._delegate,l,h),n;case"child_removed":return vk(this._delegate,l,h),n;case"child_changed":return dk(this._delegate,l,h),n;case"child_moved":return pk(this._delegate,l,h),n;default:throw new Error(Zn("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(t,n,r){if(_e("Query.off",0,3,arguments.length),zK("Query.off",t,!0),zt("Query.off","callback",n,!0),NA("Query.off","context",r,!0),n){var i=function(){};i.userCallback=n,i.context=r,gk(this._delegate,t,i)}else gk(this._delegate,t)},e.prototype.get=function(){var t=this;return CW(this._delegate).then(function(n){return new bl(t.database,n)})},e.prototype.once=function(t,n,r,i){var s=this;_e("Query.once",1,4,arguments.length),zt("Query.once","callback",n,!0);var a=e.getCancelAndContextArgs_("Query.once",r,i),c=new Xt,l=function(d,v){var g=new bl(s.database,d);n&&n.call(a.context,g,v),c.resolve(g)};l.userCallback=n,l.context=a.context;var h=function(d){a.cancel&&a.cancel.call(a.context,d),c.reject(d)};switch(t){case"value":lw(this._delegate,l,h,{onlyOnce:!0});break;case"child_added":hk(this._delegate,l,h,{onlyOnce:!0});break;case"child_removed":vk(this._delegate,l,h,{onlyOnce:!0});break;case"child_changed":dk(this._delegate,l,h,{onlyOnce:!0});break;case"child_moved":pk(this._delegate,l,h,{onlyOnce:!0});break;default:throw new Error(Zn("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise},e.prototype.limitToFirst=function(t){return _e("Query.limitToFirst",1,1,arguments.length),new e(this.database,Wr(this._delegate,DW(t)))},e.prototype.limitToLast=function(t){return _e("Query.limitToLast",1,1,arguments.length),new e(this.database,Wr(this._delegate,MW(t)))},e.prototype.orderByChild=function(t){return _e("Query.orderByChild",1,1,arguments.length),new e(this.database,Wr(this._delegate,UW(t)))},e.prototype.orderByKey=function(){return _e("Query.orderByKey",0,0,arguments.length),new e(this.database,Wr(this._delegate,VW()))},e.prototype.orderByPriority=function(){return _e("Query.orderByPriority",0,0,arguments.length),new e(this.database,Wr(this._delegate,qW()))},e.prototype.orderByValue=function(){return _e("Query.orderByValue",0,0,arguments.length),new e(this.database,Wr(this._delegate,KW()))},e.prototype.startAt=function(t,n){return t===void 0&&(t=null),_e("Query.startAt",0,2,arguments.length),new e(this.database,Wr(this._delegate,NW(t,n)))},e.prototype.startAfter=function(t,n){return t===void 0&&(t=null),_e("Query.startAfter",0,2,arguments.length),new e(this.database,Wr(this._delegate,OW(t,n)))},e.prototype.endAt=function(t,n){return t===void 0&&(t=null),_e("Query.endAt",0,2,arguments.length),new e(this.database,Wr(this._delegate,AW(t,n)))},e.prototype.endBefore=function(t,n){return t===void 0&&(t=null),_e("Query.endBefore",0,2,arguments.length),new e(this.database,Wr(this._delegate,RW(t,n)))},e.prototype.equalTo=function(t,n){return _e("Query.equalTo",1,2,arguments.length),new e(this.database,Wr(this._delegate,$W(t,n)))},e.prototype.toString=function(){return _e("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return _e("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if(_e("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(t,n,r){var i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,zt(t,"cancel",i.cancel,!0),i.context=r,NA(t,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(Zn(t,"cancelOrContext")+" must either be a cancel callback or a context object.");return i},Object.defineProperty(e.prototype,"ref",{get:function(){return new Us(this.database,new Ni(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),Us=function(e){ne(t,e);function t(n,r){var i=e.call(this,n,new Ur(r._repo,r._path,new zP,!1))||this;return i.database=n,i._delegate=r,i}return t.prototype.getKey=function(){return _e("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(n){return _e("Reference.child",1,1,arguments.length),typeof n=="number"&&(n=String(n)),new t(this.database,ra(this._delegate,n))},t.prototype.getParent=function(){_e("Reference.parent",0,0,arguments.length);var n=this._delegate.parent;return n?new t(this.database,n):null},t.prototype.getRoot=function(){return _e("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(n,r){_e("Reference.set",1,2,arguments.length),zt("Reference.set","onComplete",r,!0);var i=p0(this._delegate,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},t.prototype.update=function(n,r){if(_e("Reference.update",1,2,arguments.length),Array.isArray(n)){for(var i={},s=0;s<n.length;++s)i[""+s]=n[s];n=i,hn("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}kr("Reference.update",this._delegate._path),zt("Reference.update","onComplete",r,!0);var a=SW(this._delegate,n);return r&&a.then(function(){return r(null)},function(c){return r(c)}),a},t.prototype.setWithPriority=function(n,r,i){_e("Reference.setWithPriority",2,3,arguments.length),zt("Reference.setWithPriority","onComplete",i,!0);var s=TW(this._delegate,n,r);return i&&s.then(function(){return i(null)},function(a){return i(a)}),s},t.prototype.remove=function(n){_e("Reference.remove",0,1,arguments.length),zt("Reference.remove","onComplete",n,!0);var r=EW(this._delegate);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},t.prototype.transaction=function(n,r,i){var s=this;_e("Reference.transaction",1,3,arguments.length),zt("Reference.transaction","transactionUpdate",n,!1),zt("Reference.transaction","onComplete",r,!0),YK("Reference.transaction","applyLocally",i,!0);var a=s$(this._delegate,n,{applyLocally:i}).then(function(c){return new u$(c.committed,new bl(s.database,c.snapshot))});return r&&a.then(function(c){return r(null,c.committed,c.snapshot)},function(c){return r(c,!1,null)}),a},t.prototype.setPriority=function(n,r){_e("Reference.setPriority",1,2,arguments.length),zt("Reference.setPriority","onComplete",r,!0);var i=IW(this._delegate,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},t.prototype.push=function(n,r){var i=this;_e("Reference.push",0,2,arguments.length),zt("Reference.push","onComplete",r,!0);var s=bW(this._delegate,n),a=s.then(function(l){return new t(i.database,l)});r&&a.then(function(){return r(null)},function(l){return r(l)});var c=new t(this.database,s);return c.then=a.then.bind(a),c.catch=a.catch.bind(a,void 0),c},t.prototype.onDisconnect=function(){return kr("Reference.onDisconnect",this._delegate._path),new a$(new wW(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(FO);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zd=function(){function e(t,n){var r=this;this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),ZW(this._delegate,t,n,r)},e.prototype.ref=function(t){if(_e("database.ref",0,1,arguments.length),t instanceof Us){var n=fk(this._delegate,t.toString());return new Us(this,n)}else{var n=NO(this._delegate,t);return new Us(this,n)}},e.prototype.refFromURL=function(t){var n="database.refFromURL";_e(n,1,1,arguments.length);var r=fk(this._delegate,t);return new Us(this,r)},e.prototype.goOffline=function(){return _e("database.goOffline",0,0,arguments.length),e$(this._delegate)},e.prototype.goOnline=function(){return _e("database.goOnline",0,0,arguments.length),t$(this._delegate)},e.ServerValue={TIMESTAMP:r$(),increment:function(t){return i$(t)}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c$=function(){xs.forceDisallow(),jb.forceAllow()},l$=function(){jb.forceDisallow()},f$=function(){return xs.isAvailable()},h$=function(e,t){var n=e._delegate._repo.persistentConnection_;n.securityDebugCallback_=t},d$=function(e,t){hW(e._delegate._repo,t)},p$=function(e,t){dW(e._delegate._repo,t)},v$=function(e){return e._delegate._repo.dataUpdateCount},g$=function(e,t){return nW(e._delegate._repo,t)};function m$(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,s=e.namespace,a=e.nodeAdmin,c=a===void 0?!1:a;hP(r);var l=new sP("auth-internal",new aP("database-standalone"));return l.setComponent(new An("auth-internal",function(){return i},"PRIVATE")),{instance:new Zd(MO(t,l,void 0,n,c),t),namespace:s}}var y$=Object.freeze({__proto__:null,forceLongPolling:c$,forceWebSockets:l$,isWebSocketsAvailable:f$,setSecurityDebugCallback:h$,stats:d$,statsIncrementCounter:p$,dataUpdateCount:v$,interceptServerData:g$,initStandalone:m$});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _$=Gs;Gs.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Gs.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var w$=DP,b$=function(e){var t=Gs.prototype.put;return Gs.prototype.put=function(n,r,i,s){s!==void 0&&(s=e()),t.call(this,n,r,i,s)},function(){Gs.prototype.put=t}},E$=Fb,I$=function(e){return e._delegate._queryIdentifier},T$=function(e){XW(e)},S$=Object.freeze({__proto__:null,DataConnection:_$,RealTimeConnection:w$,hijackHash:b$,ConnectionTarget:E$,queryIdentifier:I$,forceRestClient:T$});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var C$=Zd.ServerValue;function A$(e){hP(e.SDK_VERSION),e.INTERNAL.registerComponent(new An("database",function(t,n){var r=n.instanceIdentifier,i=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Zd(MO(i,s,a,r),i)},"PUBLIC").setServiceProps({Reference:Us,Query:FO,Database:Zd,DataSnapshot:bl,enableLogging:gP,INTERNAL:y$,ServerValue:C$,TEST_ACCESS:S$}).setMultipleInstances(!0)),e.registerVersion(fq,hq)}A$(le);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hw=function(e,t){return hw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},hw(e,t)};function k$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");hw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function UO(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var R$=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},ae,v0=v0||{},Te=R$||self;function ep(){}function dw(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Af(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function N$(e){return Object.prototype.hasOwnProperty.call(e,zy)&&e[zy]||(e[zy]=++P$)}var zy="closure_uid_"+(1e9*Math.random()>>>0),P$=0;function O$(e,t,n){return e.call.apply(e.bind,arguments)}function x$(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function dn(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?dn=O$:dn=x$,dn.apply(null,arguments)}function od(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function mn(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,i,s){for(var a=Array(arguments.length-2),c=2;c<arguments.length;c++)a[c-2]=arguments[c];return t.prototype[i].apply(r,a)}}function Xo(){this.s=this.s,this.o=this.o}var D$=0;Xo.prototype.s=!1;Xo.prototype.na=function(){!this.s&&(this.s=!0,this.M(),D$!=0)&&N$(this)};Xo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var jO=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},VO=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function L$(e){e:{for(var t=CG,n=e.length,r=typeof e=="string"?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function mk(e){return Array.prototype.concat.apply([],arguments)}function g0(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function tp(e){return/^[\s\xa0]*$/.test(e)}var yk=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function jn(e,t){return e.indexOf(t)!=-1}function Qy(e,t){return e<t?-1:e>t?1:0}var Vn;e:{var _k=Te.navigator;if(_k){var wk=_k.userAgent;if(wk){Vn=wk;break e}}Vn=""}function m0(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function BO(e){var t={};for(var n in e)t[n]=e[n];return t}var bk="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qO(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var s=0;s<bk.length;s++)n=bk[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function y0(e){return y0[" "](e),e}y0[" "]=ep;function M$(e){var t=j$;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var F$=jn(Vn,"Opera"),Au=jn(Vn,"Trident")||jn(Vn,"MSIE"),HO=jn(Vn,"Edge"),pw=HO||Au,KO=jn(Vn,"Gecko")&&!(jn(Vn.toLowerCase(),"webkit")&&!jn(Vn,"Edge"))&&!(jn(Vn,"Trident")||jn(Vn,"MSIE"))&&!jn(Vn,"Edge"),U$=jn(Vn.toLowerCase(),"webkit")&&!jn(Vn,"Edge");function WO(){var e=Te.document;return e?e.documentMode:void 0}var np;e:{var Yy="",Xy=function(){var e=Vn;if(KO)return/rv:([^\);]+)(\)|;)/.exec(e);if(HO)return/Edge\/([\d\.]+)/.exec(e);if(Au)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(U$)return/WebKit\/(\S+)/.exec(e);if(F$)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Xy&&(Yy=Xy?Xy[1]:""),Au){var Jy=WO();if(Jy!=null&&Jy>parseFloat(Yy)){np=String(Jy);break e}}np=Yy}var j$={};function V$(){return M$(function(){for(var e=0,t=yk(String(np)).split("."),n=yk("9").split("."),r=Math.max(t.length,n.length),i=0;e==0&&i<r;i++){var s=t[i]||"",a=n[i]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s[0].length==0&&a[0].length==0)break;e=Qy(s[1].length==0?0:parseInt(s[1],10),a[1].length==0?0:parseInt(a[1],10))||Qy(s[2].length==0,a[2].length==0)||Qy(s[2],a[2]),s=s[3],a=a[3]}while(e==0)}return 0<=e})}var vw;if(Te.document&&Au){var Ek=WO();vw=Ek||parseInt(np,10)||void 0}else vw=void 0;var B$=vw,q$=function(){if(!Te.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Te.addEventListener("test",ep,t),Te.removeEventListener("test",ep,t)}catch{}return e}();function Tn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Tn.prototype.h=function(){this.defaultPrevented=!0};function Gl(e,t){if(Tn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(KO){e:{try{y0(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:H$[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Gl.Z.h.call(this)}}mn(Gl,Tn);var H$={2:"touch",3:"pen",4:"mouse"};Gl.prototype.h=function(){Gl.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var kf="closure_listenable_"+(1e6*Math.random()|0),K$=0;function W$(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++K$,this.ca=this.fa=!1}function pv(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function vv(e){this.src=e,this.g={},this.h=0}vv.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var a=mw(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):(t=new W$(t,this.src,s,!!r,i),t.fa=n,e.push(t)),t};function gw(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=jO(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(pv(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function mw(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}var _0="closure_lm_"+(1e6*Math.random()|0),Zy={};function $O(e,t,n,r,i){if(r&&r.once)return zO(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)$O(e,t[s],n,r,i);return null}return n=E0(n),e&&e[kf]?e.N(t,n,Af(r)?!!r.capture:!!r,i):GO(e,t,n,!1,r,i)}function GO(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=Af(i)?!!i.capture:!!i,c=b0(e);if(c||(e[_0]=c=new vv(e)),n=c.add(t,n,r,a,s),n.proxy)return n;if(r=$$(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)q$||(i=a),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(YO(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function $$(){function e(n){return t.call(e.src,e.listener,n)}var t=G$;return e}function zO(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)zO(e,t[s],n,r,i);return null}return n=E0(n),e&&e[kf]?e.O(t,n,Af(r)?!!r.capture:!!r,i):GO(e,t,n,!0,r,i)}function QO(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)QO(e,t[s],n,r,i);else r=Af(r)?!!r.capture:!!r,n=E0(n),e&&e[kf]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=mw(s,n,r,i),-1<n&&(pv(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=b0(e))&&(t=e.g[t.toString()],e=-1,t&&(e=mw(t,n,r,i)),(n=-1<e?t[e]:null)&&w0(n))}function w0(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[kf])gw(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(YO(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=b0(t))?(gw(n,e),n.h==0&&(n.src=null,t[_0]=null)):pv(e)}}}function YO(e){return e in Zy?Zy[e]:Zy[e]="on"+e}function G$(e,t){if(e.ca)e=!0;else{t=new Gl(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&w0(e),e=n.call(r,t)}return e}function b0(e){return e=e[_0],e instanceof vv?e:null}var e_="__closure_events_fn_"+(1e9*Math.random()>>>0);function E0(e){return typeof e=="function"?e:(e[e_]||(e[e_]=function(t){return e.handleEvent(t)}),e[e_])}function en(){Xo.call(this),this.i=new vv(this),this.P=this,this.I=null}mn(en,Xo);en.prototype[kf]=!0;en.prototype.removeEventListener=function(e,t,n,r){QO(this,e,t,n,r)};function pn(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new Tn(t,e);else if(t instanceof Tn)t.target=t.target||e;else{var i=t;t=new Tn(r,e),qO(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=sd(a,r,!0,t)&&i}if(a=t.g=e,i=sd(a,r,!0,t)&&i,i=sd(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)a=t.g=n[s],i=sd(a,r,!1,t)&&i}en.prototype.M=function(){if(en.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)pv(n[r]);delete e.g[t],e.h--}}this.I=null};en.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};en.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function sd(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.ca&&a.capture==n){var c=a.listener,l=a.ia||a.src;a.fa&&gw(e.i,a),i=c.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var I0=Te.JSON.stringify;function z$(){var e=JO,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Q$=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var r=XO.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r},e}(),XO=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new Y$},function(e){return e.reset()}),Y$=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function X$(e){Te.setTimeout(function(){throw e},0)}function T0(e,t){yw||J$(),_w||(yw(),_w=!0),JO.add(e,t)}var yw;function J$(){var e=Te.Promise.resolve(void 0);yw=function(){e.then(Z$)}}var _w=!1,JO=new Q$;function Z$(){for(var e;e=z$();){try{e.h.call(e.g)}catch(n){X$(n)}var t=XO;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}_w=!1}function gv(e,t){en.call(this),this.h=e||1,this.g=t||Te,this.j=dn(this.kb,this),this.l=Date.now()}mn(gv,en);ae=gv.prototype;ae.da=!1;ae.S=null;ae.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),pn(this,"tick"),this.da&&(S0(this),this.start()))}};ae.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function S0(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}ae.M=function(){gv.Z.M.call(this),S0(this),delete this.g};function C0(e,t,n){if(typeof e=="function")n&&(e=dn(e,n));else if(e&&typeof e.handleEvent=="function")e=dn(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Te.setTimeout(e,t||0)}function ZO(e){e.g=C0(function(){e.g=null,e.i&&(e.i=!1,ZO(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var eG=function(e){k$(t,e);function t(n,r){var i=e.call(this)||this;return i.m=n,i.j=r,i.h=null,i.i=!1,i.g=null,i}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:ZO(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Xo);function zl(e){Xo.call(this),this.h=e,this.g={}}mn(zl,Xo);var Ik=[];function ex(e,t,n,r){Array.isArray(n)||(n&&(Ik[0]=n.toString()),n=Ik);for(var i=0;i<n.length;i++){var s=$O(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function tx(e){m0(e.g,function(t,n){this.g.hasOwnProperty(n)&&w0(t)},e),e.g={}}zl.prototype.M=function(){zl.Z.M.call(this),tx(this)};zl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function mv(){this.g=!0}mv.prototype.Aa=function(){this.g=!1};function tG(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",c=s.split("&"),l=0;l<c.length;l++){var h=c[l].split("=");if(1<h.length){var d=h[0];h=h[1];var v=d.split("_");a=2<=v.length&&v[1]=="type"?a+(d+"="+h+"&"):a+(d+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+a})}function nG(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+a})}function ou(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+iG(e,n)+(r?" "+r:"")})}function rG(e,t){e.info(function(){return"TIMEOUT: "+t})}mv.prototype.info=function(){};function iG(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return I0(n)}catch{return t}}var ma={},Tk=null;function yv(){return Tk=Tk||new en}ma.Ma="serverreachability";function nx(e){Tn.call(this,ma.Ma,e)}mn(nx,Tn);function Ql(e){var t=yv();pn(t,new nx(t))}ma.STAT_EVENT="statevent";function rx(e,t){Tn.call(this,ma.STAT_EVENT,e),this.stat=t}mn(rx,Tn);function qn(e){var t=yv();pn(t,new rx(t,e))}ma.Na="timingevent";function ix(e,t){Tn.call(this,ma.Na,e),this.size=t}mn(ix,Tn);function Rf(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Te.setTimeout(function(){e()},t)}var _v={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ox={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function A0(){}A0.prototype.h=null;function Sk(e){return e.h||(e.h=e.i())}function sx(){}var Nf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function k0(){Tn.call(this,"d")}mn(k0,Tn);function R0(){Tn.call(this,"c")}mn(R0,Tn);var ww;function wv(){}mn(wv,A0);wv.prototype.g=function(){return new XMLHttpRequest};wv.prototype.i=function(){return{}};ww=new wv;function Pf(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new zl(this),this.P=oG,e=pw?125:void 0,this.W=new gv(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ax}function ax(){this.i=null,this.g="",this.h=!1}var oG=45e3,bw={},rp={};ae=Pf.prototype;ae.setTimeout=function(e){this.P=e};function Ew(e,t,n){e.K=1,e.v=Ev(Ji(t)),e.s=n,e.U=!0,ux(e,null)}function ux(e,t){e.F=Date.now(),Of(e),e.A=Ji(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),vx(n.h,"t",r),e.C=0,n=e.l.H,e.h=new ax,e.g=Lx(e.l,n?t:null,!e.s),0<e.O&&(e.L=new eG(dn(e.Ia,e,e.g),e.O)),ex(e.V,e.g,"readystatechange",e.gb),t=e.H?BO(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ql(),tG(e.j,e.u,e.A,e.m,e.X,e.s)}ae.gb=function(e){e=e.target;var t=this.L;t&&Ki(e)==3?t.l():this.Ia(e)};ae.Ia=function(e){try{if(e==this.g)e:{var t=Ki(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(t!=3||pw||this.g&&(this.h.h||this.g.ga()||Rk(this.g)))){this.I||t!=4||n==7||(n==8||0>=r?Ql(3):Ql(2)),bv(this);var i=this.g.ba();this.N=i;t:if(cx(this)){var s=Rk(this.g);e="";var a=s.length,c=Ki(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){js(this),El(this);var l="";break t}this.h.i=new Te.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:c&&n==a-1});s.splice(0,a),this.h.g+=e,this.C=0,l=this.h.g}else l=this.g.ga();if(this.i=i==200,nG(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var h,d=this.g;if((h=d.g?d.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tp(h)){var v=h;break t}}v=null}if(i=v)ou(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Iw(this,i);else{this.i=!1,this.o=3,qn(12),js(this),El(this);break e}}this.U?(lx(this,t,l),pw&&this.i&&t==3&&(ex(this.V,this.W,"tick",this.fb),this.W.start())):(ou(this.j,this.m,l,null),Iw(this,l)),t==4&&js(this),this.i&&!this.I&&(t==4?Px(this.l,this):(this.i=!1,Of(this)))}else i==400&&0<l.indexOf("Unknown SID")?(this.o=3,qn(12)):(this.o=0,qn(13)),js(this),El(this)}}}catch{}finally{}};function cx(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function lx(e,t,n){for(var r=!0,i;!e.I&&e.C<n.length;)if(i=sG(e,n),i==rp){t==4&&(e.o=4,qn(14),r=!1),ou(e.j,e.m,null,"[Incomplete Response]");break}else if(i==bw){e.o=4,qn(15),ou(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else ou(e.j,e.m,i,null),Iw(e,i);cx(e)&&i!=rp&&i!=bw&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,qn(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),U0(t),t.L=!0,qn(11))):(ou(e.j,e.m,n,"[Invalid Chunked Response]"),js(e),El(e))}ae.fb=function(){if(this.g){var e=Ki(this.g),t=this.g.ga();this.C<t.length&&(bv(this),lx(this,e,t),this.i&&e!=4&&Of(this))}};function sG(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?rp:(n=Number(t.substring(n,r)),isNaN(n)?bw:(r+=1,r+n>t.length?rp:(t=t.substr(r,n),e.C=r+n,t)))}ae.cancel=function(){this.I=!0,js(this)};function Of(e){e.Y=Date.now()+e.P,fx(e,e.P)}function fx(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Rf(dn(e.eb,e),t)}function bv(e){e.B&&(Te.clearTimeout(e.B),e.B=null)}ae.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(rG(this.j,this.A),this.K!=2&&(Ql(),qn(17)),js(this),this.o=2,El(this)):fx(this,this.Y-e)};function El(e){e.l.G==0||e.I||Px(e.l,e)}function js(e){bv(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,S0(e.W),tx(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Iw(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Tw(n.i,e))){if(n.I=e.N,!e.J&&Tw(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)ap(n),Sv(n);else break e;F0(n),qn(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=Rf(dn(n.ab,n),6e3));if(1>=yx(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Vs(n,11)}else if((e.J||n.g==e)&&ap(n),!tp(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var s=i[t];if(n.U=s[0],s=s[1],n.G==2)if(s[0]=="c"){n.J=s[1],n.la=s[2];var a=s[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var c=s[4];c!=null&&(n.za=c,n.h.info("SVER="+n.za));var l=s[5];l!=null&&typeof l=="number"&&0<l&&(r=1.5*l,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var h=e.g;if(h){var d=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(d){var v=r.i;!v.g&&(jn(d,"spdy")||jn(d,"quic")||jn(d,"h2"))&&(v.j=v.l,v.g=new Set,v.h&&(O0(v,v.h),v.h=null))}if(r.D){var g=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.sa=g,mt(r.F,r.D,g))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var y=e;if(r.oa=Dx(r,r.H?r.la:null,r.W),y.J){_x(r.i,y);var w=y,E=r.K;E&&w.setTimeout(E),w.B&&(bv(w),Of(w)),r.g=y}else Rx(r);0<n.l.length&&Cv(n)}else s[0]!="stop"&&s[0]!="close"||Vs(n,7);else n.G==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?Vs(n,7):M0(n):s[0]!="noop"&&n.j&&n.j.wa(s),n.A=0)}}Ql(4)}catch{}}function aG(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(dw(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function N0(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(dw(e)||typeof e=="string")VO(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(dw(e)||typeof e=="string"){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=aG(e),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function rc(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof rc)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}ae=rc.prototype;ae.R=function(){P0(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};ae.T=function(){return P0(this),this.g.concat()};function P0(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];ia(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)r=e.g[t],ia(i,r)||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}ae.get=function(e,t){return ia(this.h,e)?this.h[e]:t};ae.set=function(e,t){ia(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};ae.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};function ia(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var hx=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function uG(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function oa(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof oa){this.g=t!==void 0?t:e.g,ip(this,e.j),this.s=e.s,op(this,e.i),sp(this,e.m),this.l=e.l,t=e.h;var n=new Yl;n.i=t.i,t.g&&(n.g=new rc(t.g),n.h=t.h),Ck(this,n),this.o=e.o}else e&&(n=String(e).match(hx))?(this.g=!!t,ip(this,n[1]||"",!0),this.s=Il(n[2]||""),op(this,n[3]||"",!0),sp(this,n[4]),this.l=Il(n[5]||"",!0),Ck(this,n[6]||"",!0),this.o=Il(n[7]||"")):(this.g=!!t,this.h=new Yl(null,this.g))}oa.prototype.toString=function(){var e=[],t=this.j;t&&e.push(cl(t,Ak,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(cl(t,Ak,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(cl(n,n.charAt(0)=="/"?dG:hG,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",cl(n,vG)),e.join("")};function Ji(e){return new oa(e)}function ip(e,t,n){e.j=n?Il(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function op(e,t,n){e.i=n?Il(t,!0):t}function sp(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ck(e,t,n){t instanceof Yl?(e.h=t,gG(e.h,e.g)):(n||(t=cl(t,pG)),e.h=new Yl(t,e.g))}function mt(e,t,n){e.h.set(t,n)}function Ev(e){return mt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function cG(e){return e instanceof oa?Ji(e):new oa(e,void 0)}function lG(e,t,n,r){var i=new oa(null,void 0);return e&&ip(i,e),t&&op(i,t),n&&sp(i,n),r&&(i.l=r),i}function Il(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function cl(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,fG),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function fG(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Ak=/[#\/\?@]/g,hG=/[#\?:]/g,dG=/[#\?]/g,pG=/[#\?@]/g,vG=/#/g;function Yl(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Jo(e){e.g||(e.g=new rc,e.h=0,e.i&&uG(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}ae=Yl.prototype;ae.add=function(e,t){Jo(this),this.i=null,e=ic(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function dx(e,t){Jo(e),t=ic(e,t),ia(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,ia(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&P0(e)))}function px(e,t){return Jo(e),t=ic(e,t),ia(e.g.h,t)}ae.forEach=function(e,t){Jo(this),this.g.forEach(function(n,r){VO(n,function(i){e.call(t,i,r,this)},this)},this)};ae.T=function(){Jo(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n};ae.R=function(e){Jo(this);var t=[];if(typeof e=="string")px(this,e)&&(t=mk(t,this.g.get(ic(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=mk(t,e[n])}return t};ae.set=function(e,t){return Jo(this),this.i=null,e=ic(this,e),px(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};ae.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function vx(e,t,n){dx(e,t),0<n.length&&(e.i=null,e.g.set(ic(e,t),g0(n)),e.h+=n.length)}ae.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var a=i;r[s]!==""&&(a+="="+encodeURIComponent(String(r[s]))),e.push(a)}}return this.i=e.join("&")};function ic(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function gG(e,t){t&&!e.j&&(Jo(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(dx(this,r),vx(this,i,n))},e)),e.j=t}var mG=function(){function e(t,n){this.h=t,this.g=n}return e}();function gx(e){this.l=e||yG,Te.PerformanceNavigationTiming?(e=Te.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Te.g&&Te.g.Ea&&Te.g.Ea()&&Te.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var yG=10;function mx(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function yx(e){return e.h?1:e.g?e.g.size:0}function Tw(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function O0(e,t){e.g?e.g.add(t):e.h=t}function _x(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}gx.prototype.cancel=function(){var e,t;if(this.i=wx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=UO(this.g.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function wx(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var r=e.i;try{for(var i=UO(e.g.values()),s=i.next();!s.done;s=i.next()){var a=s.value;r=r.concat(a.D)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return g0(e.i)}function x0(){}x0.prototype.stringify=function(e){return Te.JSON.stringify(e,void 0)};x0.prototype.parse=function(e){return Te.JSON.parse(e,void 0)};function _G(){this.g=new x0}function wG(e,t,n){var r=n||"";try{N0(e,function(i,s){var a=i;Af(i)&&(a=I0(i)),t.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function bG(e,t){var n=new mv;if(Te.Image){var r=new Image;r.onload=od(ad,n,r,"TestLoadImage: loaded",!0,t),r.onerror=od(ad,n,r,"TestLoadImage: error",!1,t),r.onabort=od(ad,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=od(ad,n,r,"TestLoadImage: timeout",!1,t),Te.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function ad(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function xf(e){this.l=e.$b||null,this.j=e.ib||!1}mn(xf,A0);xf.prototype.g=function(){return new Iv(this.l,this.j)};xf.prototype.i=function(e){return function(){return e}}({});function Iv(e,t){en.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=D0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}mn(Iv,en);var D0=0;ae=Iv.prototype;ae.open=function(e,t){if(this.readyState!=D0)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Xl(this)};ae.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Te).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};ae.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Df(this)),this.readyState=D0};ae.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Xl(this)),this.g&&(this.readyState=3,Xl(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Te.ReadableStream!="undefined"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bx(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function bx(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}ae.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Df(this):Xl(this),this.readyState==3&&bx(this)}};ae.Ua=function(e){this.g&&(this.response=this.responseText=e,Df(this))};ae.Ta=function(e){this.g&&(this.response=e,Df(this))};ae.ha=function(){this.g&&Df(this)};function Df(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Xl(e)}ae.setRequestHeader=function(e,t){this.v.append(e,t)};ae.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};ae.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Xl(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Iv.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var EG=Te.JSON.parse;function Ut(e){en.call(this),this.headers=new rc,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ex,this.K=this.L=!1}mn(Ut,en);var Ex="",IG=/^https?$/i,TG=["POST","PUT"];ae=Ut.prototype;ae.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ww.g(),this.C=this.u?Sk(this.u):Sk(ww),this.g.onreadystatechange=dn(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){kk(this,s);return}e=n||"";var i=new rc(this.headers);r&&N0(r,function(s,a){i.set(a,s)}),r=L$(i.T()),n=Te.FormData&&e instanceof Te.FormData,!(0<=jO(TG,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,a){this.g.setRequestHeader(a,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Sx(this),0<this.B&&((this.K=SG(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dn(this.pa,this)):this.A=C0(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){kk(this,s)}};function SG(e){return Au&&V$()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function CG(e){return e.toLowerCase()=="content-type"}ae.pa=function(){typeof v0!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,pn(this,"timeout"),this.abort(8))};function kk(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ix(e),Tv(e)}function Ix(e){e.D||(e.D=!0,pn(e,"complete"),pn(e,"error"))}ae.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,pn(this,"complete"),pn(this,"abort"),Tv(this))};ae.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Tv(this,!0)),Ut.Z.M.call(this)};ae.Fa=function(){this.s||(this.F||this.v||this.l?Tx(this):this.cb())};ae.cb=function(){Tx(this)};function Tx(e){if(e.h&&typeof v0!="undefined"&&(!e.C[1]||Ki(e)!=4||e.ba()!=2)){if(e.v&&Ki(e)==4)C0(e.Fa,0,e);else if(pn(e,"readystatechange"),Ki(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=t===0){var s=String(e.H).match(hx)[1]||null;if(!s&&Te.self&&Te.self.location){var a=Te.self.location.protocol;s=a.substr(0,a.length-1)}i=!IG.test(s?s.toLowerCase():"")}r=i}if(r)pn(e,"complete"),pn(e,"success");else{e.m=6;try{var c=2<Ki(e)?e.g.statusText:""}catch{c=""}e.j=c+" ["+e.ba()+"]",Ix(e)}}finally{Tv(e)}}}}function Tv(e,t){if(e.g){Sx(e);var n=e.g,r=e.C[0]?ep:null;e.g=null,e.C=null,t||pn(e,"ready");try{n.onreadystatechange=r}catch{}}}function Sx(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Te.clearTimeout(e.A),e.A=null)}function Ki(e){return e.g?e.g.readyState:0}ae.ba=function(){try{return 2<Ki(this)?this.g.status:-1}catch{return-1}};ae.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};ae.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),EG(t)}};function Rk(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Ex:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}ae.Da=function(){return this.m};ae.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function AG(e){var t="";return m0(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function L0(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=AG(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):mt(e,t,n))}function rl(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Cx(e){this.za=0,this.l=[],this.h=new mv,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=rl("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=rl("baseRetryDelayMs",5e3,e),this.$a=rl("retryDelaySeedMs",1e4,e),this.Ya=rl("forwardChannelMaxRetries",2,e),this.ra=rl("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new gx(e&&e.concurrentRequestLimit),this.Ca=new _G,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}ae=Cx.prototype;ae.ma=8;ae.G=1;function M0(e){if(Ax(e),e.G==3){var t=e.V++,n=Ji(e.F);mt(n,"SID",e.J),mt(n,"RID",t),mt(n,"TYPE","terminate"),Lf(e,n),t=new Pf(e,e.h,t,void 0),t.K=2,t.v=Ev(Ji(n)),n=!1,Te.navigator&&Te.navigator.sendBeacon&&(n=Te.navigator.sendBeacon(t.v.toString(),"")),!n&&Te.Image&&(new Image().src=t.v,n=!0),n||(t.g=Lx(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Of(t)}xx(e)}ae.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function Sv(e){e.g&&(U0(e),e.g.cancel(),e.g=null)}function Ax(e){Sv(e),e.u&&(Te.clearTimeout(e.u),e.u=null),ap(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Te.clearTimeout(e.m),e.m=null)}function t_(e,t){e.l.push(new mG(e.Za++,t)),e.G==3&&Cv(e)}function Cv(e){mx(e.i)||e.m||(e.m=!0,T0(e.Ha,e),e.C=0)}function kG(e,t){return yx(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=Rf(dn(e.Ha,e,t),Ox(e,e.C)),e.C++,!0)}ae.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Pf(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=BO(n),qO(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){t:{var s=this.l[i];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=i;break e}if(r===4096||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=kx(this,t,r),i=Ji(this.F),mt(i,"RID",e),mt(i,"CVER",22),this.D&&mt(i,"X-HTTP-Session-Id",this.D),Lf(this,i),this.o&&n&&L0(i,this.o,n),O0(this.i,t),this.Ra&&mt(i,"TYPE","init"),this.ja?(mt(i,"$req",r),mt(i,"SID","null"),t.$=!0,Ew(t,i,null)):Ew(t,i,r),this.G=2}}else this.G==3&&(e?Nk(this,e):this.l.length==0||mx(this.i)||Nk(this))};function Nk(e,t){var n;t?n=t.m:n=e.V++;var r=Ji(e.F);mt(r,"SID",e.J),mt(r,"RID",n),mt(r,"AID",e.U),Lf(e,r),e.o&&e.s&&L0(r,e.o,e.s),n=new Pf(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=kx(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),O0(e.i,n),Ew(n,r,t)}function Lf(e,t){e.j&&N0({},function(n,r){mt(t,r,n)})}function kx(e,t,n){n=Math.min(e.l.length,n);var r=e.j?dn(e.j.Oa,e.j,e):null;e:for(var i=e.l,s=-1;;){var a=["count="+n];s==-1?0<n?(s=i[0].h,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var c=!0,l=0;l<n;l++){var h=i[l].h,d=i[l].g;if(h-=s,0>h)s=Math.max(0,i[l].h-100),c=!1;else try{wG(d,a,"req"+h+"_")}catch{r&&r(d)}}if(c){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Rx(e){e.g||e.u||(e.Y=1,T0(e.Ga,e),e.A=0)}function F0(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=Rf(dn(e.Ga,e),Ox(e,e.A)),e.A++,!0)}ae.Ga=function(){if(this.u=null,Nx(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Rf(dn(this.bb,this),e)}};ae.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,qn(10),Sv(this),Nx(this))};function U0(e){e.B!=null&&(Te.clearTimeout(e.B),e.B=null)}function Nx(e){e.g=new Pf(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=Ji(e.oa);mt(t,"RID","rpc"),mt(t,"SID",e.J),mt(t,"CI",e.N?"0":"1"),mt(t,"AID",e.U),Lf(e,t),mt(t,"TYPE","xmlhttp"),e.o&&e.s&&L0(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Ev(Ji(t)),n.s=null,n.U=!0,ux(n,e)}ae.ab=function(){this.v!=null&&(this.v=null,Sv(this),F0(this),qn(19))};function ap(e){e.v!=null&&(Te.clearTimeout(e.v),e.v=null)}function Px(e,t){var n=null;if(e.g==t){ap(e),U0(e),e.g=null;var r=2}else if(Tw(e.i,t))n=t.D,_x(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=yv(),pn(r,new ix(r,n)),Cv(e)}else Rx(e);else if(i=t.o,i==3||i==0&&0<e.I||!(r==1&&kG(e,t)||r==2&&F0(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Vs(e,5);break;case 4:Vs(e,10);break;case 3:Vs(e,6);break;default:Vs(e,2)}}}function Ox(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Vs(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=dn(e.jb,e);n||(n=new oa("//www.google.com/images/cleardot.gif"),Te.location&&Te.location.protocol=="http"||ip(n,"https"),Ev(n)),bG(n.toString(),r)}else qn(2);e.G=0,e.j&&e.j.va(t),xx(e),Ax(e)}ae.jb=function(e){e?(this.h.info("Successfully pinged google.com"),qn(2)):(this.h.info("Failed to ping google.com"),qn(1))};function xx(e){e.G=0,e.I=-1,e.j&&((wx(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,g0(e.l),e.l.length=0),e.j.ua())}function Dx(e,t,n){var r=cG(n);if(r.i!="")t&&op(r,t+"."+r.i),sp(r,r.m);else{var i=Te.location;r=lG(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&m0(e.aa,function(s,a){mt(r,a,s)}),t=e.D,n=e.sa,t&&n&&mt(r,t,n),mt(r,"VER",e.ma),Lf(e,r),r}function Lx(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new Ut(new xf({ib:!0})):new Ut(e.qa),t.L=e.H,t}function Mx(){}ae=Mx.prototype;ae.xa=function(){};ae.wa=function(){};ae.va=function(){};ae.ua=function(){};ae.Oa=function(){};function up(){if(Au&&!(10<=Number(B$)))throw Error("Environmental error: no available transport.")}up.prototype.g=function(e,t){return new yr(e,t)};function yr(e,t){en.call(this),this.g=new Cx(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!tp(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!tp(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new oc(this)}mn(yr,en);yr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),T0(dn(e.hb,e,t))),qn(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Dx(e,null,e.W),Cv(e)};yr.prototype.close=function(){M0(this.g)};yr.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,t_(this.g,t)}else this.v?(t={},t.__data__=I0(e),t_(this.g,t)):t_(this.g,e)};yr.prototype.M=function(){this.g.j=null,delete this.j,M0(this.g),delete this.g,yr.Z.M.call(this)};function Fx(e){k0.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}mn(Fx,k0);function Ux(){R0.call(this),this.status=1}mn(Ux,R0);function oc(e){this.g=e}mn(oc,Mx);oc.prototype.xa=function(){pn(this.g,"a")};oc.prototype.wa=function(e){pn(this.g,new Fx(e))};oc.prototype.va=function(e){pn(this.g,new Ux)};oc.prototype.ua=function(){pn(this.g,"b")};up.prototype.createWebChannel=up.prototype.g;yr.prototype.send=yr.prototype.u;yr.prototype.open=yr.prototype.m;yr.prototype.close=yr.prototype.close;_v.NO_ERROR=0;_v.TIMEOUT=8;_v.HTTP_ERROR=6;ox.COMPLETE="complete";sx.EventType=Nf;Nf.OPEN="a";Nf.CLOSE="b";Nf.ERROR="c";Nf.MESSAGE="d";en.prototype.listen=en.prototype.N;Ut.prototype.listenOnce=Ut.prototype.O;Ut.prototype.getLastError=Ut.prototype.La;Ut.prototype.getLastErrorCode=Ut.prototype.Da;Ut.prototype.getStatus=Ut.prototype.ba;Ut.prototype.getResponseJson=Ut.prototype.Qa;Ut.prototype.getResponseText=Ut.prototype.ga;Ut.prototype.send=Ut.prototype.ea;var RG=function(){return new up},NG=function(){return yv()},n_=_v,PG=ox,OG=ma,Pk={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},xG=xf,ud=sx,DG=Ut;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dr=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return n.writeSequenceNumber(i)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();dr.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},K=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return ne(t,e),t}(Error),ti=new da("@firebase/firestore");function Sw(){return ti.logLevel}function X(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ti.logLevel<=Fe.DEBUG){var r=t.map(j0);ti.debug.apply(ti,Oe(["Firestore (8.10.1): "+e],r))}}function Ft(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ti.logLevel<=Fe.ERROR){var r=t.map(j0);ti.error.apply(ti,Oe(["Firestore (8.10.1): "+e],r))}}function Jl(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ti.logLevel<=Fe.WARN){var r=t.map(j0);ti.warn.apply(ti,Oe(["Firestore (8.10.1): "+e],r))}}function j0(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Ft(t),new Error(t)}function we(e,t){e||he()}function te(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LG(e){var t=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jx=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var i=LG(40),s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length));return r},e}();function Ve(e,t){return e<t?-1:e>t?1:0}function ku(e,t,n){return e.length===t.length&&e.every(function(r,i){return n(r,t[i])})}function Vx(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var er=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new K(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new K(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new K(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?Ve(this.nanoseconds,t.nanoseconds):Ve(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Le=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new er(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ya(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Bx(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qx=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&he(),r===void 0?r=t.length-n:r>t.length-n&&he(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),i=0;i<r;i++){var s=t.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),Ye=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ne(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],s=0,a=n;s<a.length;s++){var c=a[s];if(c.indexOf("//")>=0)throw new K(x.INVALID_ARGUMENT,"Invalid segment ("+c+"). Paths must not contain // in them.");i.push.apply(i,c.split("/").filter(function(l){return l.length>0}))}return new t(i)},t.emptyPath=function(){return new t([])},t}(qx),MG=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ri=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ne(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.isValidIdentifier=function(n){return MG.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],i="",s=0,a=function(){if(i.length===0)throw new K(x.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},c=!1;s<n.length;){var l=n[s];if(l==="\\"){if(s+1===n.length)throw new K(x.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var h=n[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new K(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=h,s+=2}else l==="`"?(c=!c,s++):l!=="."||c?(i+=l,s++):(a(),s++)}if(a(),c)throw new K(x.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(qx),Ru=function(){function e(t){this.fields=t,t.sort(ri.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return ku(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),Hn=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return Ve(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();Hn.EMPTY_BYTE_STRING=new Hn("");var FG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Go(e){if(we(!!e),typeof e=="string"){var t=0,n=FG.exec(e);if(we(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Mt(e.seconds),nanos:Mt(e.nanos)}}function Mt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Nu(e){return typeof e=="string"?Hn.fromBase64String(e):Hn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Hx(e){var t=e.mapValue.fields.__previous_value__;return V0(t)?Hx(t):t}function Zl(e){var t=Go(e.mapValue.fields.__local_write_time__.timestampValue);return new er(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(e){return e==null}function cp(e){return e===0&&1/e==-1/0}function Kx(e){return typeof e=="number"&&Number.isInteger(e)&&!cp(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(Ye.fromString(t))},e.fromName=function(t){return new e(Ye.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&Ye.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return Ye.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new Ye(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sa(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?V0(e)?4:10:he()}function Ri(e,t){var n=sa(e);if(n!==sa(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Zl(e).isEqual(Zl(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var s=Go(r.timestampValue),a=Go(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return Nu(r.bytesValue).isEqual(Nu(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return Mt(r.geoPointValue.latitude)===Mt(i.geoPointValue.latitude)&&Mt(r.geoPointValue.longitude)===Mt(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Mt(r.integerValue)===Mt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var s=Mt(r.doubleValue),a=Mt(i.doubleValue);return s===a?cp(s)===cp(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return ku(e.arrayValue.values||[],t.arrayValue.values||[],Ri);case 10:return function(r,i){var s=r.mapValue.fields||{},a=i.mapValue.fields||{};if(Ok(s)!==Ok(a))return!1;for(var c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Ri(s[c],a[c])))return!1;return!0}(e,t);default:return he()}}function ef(e,t){return(e.values||[]).find(function(n){return Ri(n,t)})!==void 0}function Pu(e,t){var n=sa(e),r=sa(t);if(n!==r)return Ve(n,r);switch(n){case 0:return 0;case 1:return Ve(e.booleanValue,t.booleanValue);case 2:return function(i,s){var a=Mt(i.integerValue||i.doubleValue),c=Mt(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(e,t);case 3:return xk(e.timestampValue,t.timestampValue);case 4:return xk(Zl(e),Zl(t));case 5:return Ve(e.stringValue,t.stringValue);case 6:return function(i,s){var a=Nu(i),c=Nu(s);return a.compareTo(c)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){for(var a=i.split("/"),c=s.split("/"),l=0;l<a.length&&l<c.length;l++){var h=Ve(a[l],c[l]);if(h!==0)return h}return Ve(a.length,c.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){var a=Ve(Mt(i.latitude),Mt(s.latitude));return a!==0?a:Ve(Mt(i.longitude),Mt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,s){for(var a=i.values||[],c=s.values||[],l=0;l<a.length&&l<c.length;++l){var h=Pu(a[l],c[l]);if(h)return h}return Ve(a.length,c.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,s){var a=i.fields||{},c=Object.keys(a),l=s.fields||{},h=Object.keys(l);c.sort(),h.sort();for(var d=0;d<c.length&&d<h.length;++d){var v=Ve(c[d],h[d]);if(v!==0)return v;var g=Pu(a[c[d]],l[h[d]]);if(g!==0)return g}return Ve(c.length,h.length)}(e.mapValue,t.mapValue);default:throw he()}}function xk(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ve(e,t);var n=Go(e),r=Go(t),i=Ve(n.seconds,r.seconds);return i!==0?i:Ve(n.nanos,r.nanos)}function B0(e){return Cw(e)}function Cw(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var i=Go(r);return"time("+i.seconds+","+i.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Nu(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,de.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var i="[",s=!0,a=0,c=r.values||[];a<c.length;a++)s?s=!1:i+=",",i+=Cw(c[a]);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var i="{",s=!0,a=0,c=Object.keys(r.fields||{}).sort();a<c.length;a++){var l=c[a];s?s=!1:i+=",",i+=l+":"+Cw(r.fields[l])}return i+"}"}(e.mapValue):he();var t,n}function lp(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Aw(e){return!!e&&"integerValue"in e}function q0(e){return!!e&&"arrayValue"in e}function Dk(e){return!!e&&"nullValue"in e}function Lk(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Id(e){return!!e&&"mapValue"in e}function Tl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ya(e.mapValue.fields,function(i,s){return t.mapValue.fields[i]=Tl(s)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Tl(e.arrayValue.values[r]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hr=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,r=0;r<t.length-1;++r)if(!Id(n=(n.mapValue.fields||{})[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Tl(n)},e.prototype.setAll=function(t){var n=this,r=ri.emptyPath(),i={},s=[];t.forEach(function(c,l){if(!r.isImmediateParentOf(l)){var h=n.getFieldsMap(r);n.applyChanges(h,i,s),i={},s=[],r=l.popLast()}c?i[l.lastSegment()]=Tl(c):s.push(l.lastSegment())});var a=this.getFieldsMap(r);this.applyChanges(a,i,s)},e.prototype.delete=function(t){var n=this.field(t.popLast());Id(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return Ri(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<t.length;++r){var i=n.mapValue.fields[t.get(r)];Id(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,r){ya(n,function(c,l){return t[c]=l});for(var i=0,s=r;i<s.length;i++){var a=s[i];delete t[a]}},e.prototype.clone=function(){return new e(Tl(this.value))},e}();function Wx(e){var t=[];return ya(e.fields,function(n,r){var i=new ri([n]);if(Id(r)){var s=Wx(r.mapValue).fields;if(s.length===0)t.push(i);else for(var a=0,c=s;a<c.length;a++){var l=c[a];t.push(i.child(l))}}else t.push(i)}),new Ru(t)}var gn=function(){function e(t,n,r,i,s){this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,Le.min(),hr.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,hr.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,hr.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=hr.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=hr.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),UG=function(e,t,n,r,i,s,a){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(e,t,n,r,i,s,a){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),new UG(e,t,n,r,i,s,a)}function Mf(e){var t=te(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(i){return i.field.canonicalString()+i.op.toString()+B0(i.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+i.dir}(r)}).join(","),_a(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=hp(t.startAt)),t.endAt&&(n+="|ub:",n+=hp(t.endAt)),t.h=n}return t.h}function Av(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!$G(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],s=t.filters[r],i.op!==s.op||!i.field.isEqual(s.field)||!Ri(i.value,s.value))return!1;var i,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Uk(e.startAt,t.startAt)&&Uk(e.endAt,t.endAt)}function fp(e){return de.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var pr=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=i,s}return ne(t,e),t.create=function(n,r,i){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,i):new jG(n,r,i):r==="array-contains"?new qG(n,i):r==="in"?new HG(n,i):r==="not-in"?new KG(n,i):r==="array-contains-any"?new WG(n,i):new t(n,r,i)},t.l=function(n,r,i){return r==="in"?new VG(n,i):new BG(n,i)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(Pu(r,this.value)):r!==null&&sa(this.value)===sa(r)&&this.m(Pu(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return he()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),jG=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,i)||this).key=de.fromName(i.referenceValue),s}return ne(t,e),t.prototype.matches=function(n){var r=de.comparator(n.key,this.key);return this.m(r)},t}(pr),VG=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"in",r)||this).keys=$x("in",r),i}return ne(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(pr),BG=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"not-in",r)||this).keys=$x("not-in",r),i}return ne(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(pr);function $x(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return de.fromName(r.referenceValue)})}var qG=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return ne(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return q0(r)&&ef(r.arrayValue,this.value)},t}(pr),HG=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return ne(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&ef(this.value.arrayValue,r)},t}(pr),KG=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return ne(t,e),t.prototype.matches=function(n){if(ef(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!ef(this.value.arrayValue,r)},t}(pr),WG=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return ne(t,e),t.prototype.matches=function(n){var r=this,i=n.data.field(this.field);return!(!q0(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(s){return ef(r.value.arrayValue,s)})},t}(pr),tf=function(e,t){this.position=e,this.before=t};function hp(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return B0(t)}).join(",")}var pu=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function $G(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Fk(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var s=t[i],a=e.position[i];if(r=s.field.isKeyField()?de.comparator(de.fromName(a.referenceValue),n.key):Pu(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function Uk(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Ri(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ro=function(e,t,n,r,i,s,a,c){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s="F"),a===void 0&&(a=null),c===void 0&&(c=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=c,this.p=null,this.T=null,this.startAt,this.endAt};function Gx(e,t,n,r,i,s,a,c){return new ro(e,t,n,r,i,s,a,c)}function sc(e){return new ro(e)}function Td(e){return!_a(e.limit)&&e.limitType==="F"}function dp(e){return!_a(e.limit)&&e.limitType==="L"}function H0(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function K0(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function W0(e){return e.collectionGroup!==null}function Ou(e){var t=te(e);if(t.p===null){t.p=[];var n=K0(t),r=H0(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new pu(n)),t.p.push(new pu(ri.keyField(),"asc"));else{for(var i=!1,s=0,a=t.explicitOrderBy;s<a.length;s++){var c=a[s];t.p.push(c),c.field.isKeyField()&&(i=!0)}if(!i){var l=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new pu(ri.keyField(),l))}}}return t.p}function Fr(e){var t=te(e);if(!t.T)if(t.limitType==="F")t.T=Mk(t.path,t.collectionGroup,Ou(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Ou(t);r<i.length;r++){var s=i[r],a=s.dir==="desc"?"asc":"desc";n.push(new pu(s.field,a))}var c=t.endAt?new tf(t.endAt.position,!t.endAt.before):null,l=t.startAt?new tf(t.startAt.position,!t.startAt.before):null;t.T=Mk(t.path,t.collectionGroup,n,t.filters,t.limit,c,l)}return t.T}function zx(e,t,n){return new ro(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ff(e,t){return Av(Fr(e),Fr(t))&&e.limitType===t.limitType}function Qx(e){return Mf(Fr(e))+"|lt:"+e.limitType}function kw(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+B0(i.value);var i}).join(", ")+"]"),_a(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+" ("+i.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+hp(t.startAt)),t.endAt&&(n+=", endAt: "+hp(t.endAt)),"Target("+n+")"}(Fr(e))+"; limitType="+e.limitType+")"}function Uf(e,t){return t.isFoundDocument()&&function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):de.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(var i=0,s=n.explicitOrderBy;i<s.length;i++){var a=s[i];if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var i=0,s=n.filters;i<s.length;i++)if(!s[i].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!Fk(n.startAt,Ou(n),r))&&(!n.endAt||!Fk(n.endAt,Ou(n),r))}(e,t)}function Yx(e){return function(t,n){for(var r=!1,i=0,s=Ou(e);i<s.length;i++){var a=s[i],c=GG(a,t,n);if(c!==0)return c;r=r||a.field.isKeyField()}return 0}}function GG(e,t,n){var r=e.field.isKeyField()?de.comparator(t.key,n.key):function(i,s,a){var c=s.data.field(i),l=a.data.field(i);return c!==null&&l!==null?Pu(c,l):he()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return he()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cp(t)?"-0":t}}function Jx(e){return{integerValue:""+e}}function Zx(e,t){return Kx(t)?Jx(t):Xx(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kv=function(){this._=void 0};function zG(e,t,n){return e instanceof xu?function(r,i){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,t):e instanceof aa?tD(e,t):e instanceof ua?nD(e,t):function(r,i){var s=eD(r,i),a=jk(s)+jk(r.A);return Aw(s)&&Aw(r.A)?Jx(a):Xx(r.R,a)}(e,t)}function QG(e,t,n){return e instanceof aa?tD(e,t):e instanceof ua?nD(e,t):n}function eD(e,t){return e instanceof Du?Aw(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var xu=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ne(t,e),t}(kv),aa=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return ne(t,e),t}(kv);function tD(e,t){for(var n=rD(t),r=function(a){n.some(function(c){return Ri(c,a)})||n.push(a)},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var ua=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return ne(t,e),t}(kv);function nD(e,t){for(var n=rD(t),r=function(a){n=n.filter(function(c){return!Ri(c,a)})},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Du=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).R=n,i.A=r,i}return ne(t,e),t}(kv);function jk(e){return Mt(e.integerValue||e.doubleValue)}function rD(e){return q0(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jf=function(e,t){this.field=e,this.transform=t},YG=function(e,t){this.version=e,this.transformResults=t},In=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function Sd(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var Rv=function(){};function XG(e,t,n){e instanceof Vf?function(r,i,s){var a=r.value.clone(),c=qk(r.fieldTransforms,i,s.transformResults);a.setAll(c),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Zo?function(r,i,s){if(Sd(r.precondition,i)){var a=qk(r.fieldTransforms,i,s.transformResults),c=i.data;c.setAll(iD(r)),c.setAll(a),i.convertToFoundDocument(s.version,c).setHasCommittedMutations()}else i.convertToUnknownDocument(s.version)}(e,t,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Rw(e,t,n){e instanceof Vf?function(r,i,s){if(Sd(r.precondition,i)){var a=r.value.clone(),c=Hk(r.fieldTransforms,s,i);a.setAll(c),i.convertToFoundDocument(Bk(i),a).setHasLocalMutations()}}(e,t,n):e instanceof Zo?function(r,i,s){if(Sd(r.precondition,i)){var a=Hk(r.fieldTransforms,s,i),c=i.data;c.setAll(iD(r)),c.setAll(a),i.convertToFoundDocument(Bk(i),c).setHasLocalMutations()}}(e,t,n):function(r,i){Sd(r.precondition,i)&&i.convertToNoDocument(Le.min())}(e,t)}function JG(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var s=i[r],a=t.data.field(s.field),c=eD(s.transform,a||null);c!=null&&(n==null&&(n=hr.empty()),n.set(s.field,c))}return n||null}function Vk(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&ku(n,r,function(i,s){return function(a,c){return a.field.isEqual(c.field)&&function(l,h){return l instanceof aa&&h instanceof aa||l instanceof ua&&h instanceof ua?ku(l.elements,h.elements,Ri):l instanceof Du&&h instanceof Du?Ri(l.A,h.A):l instanceof xu&&h instanceof xu}(a.transform,c.transform)}(i,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Bk(e){return e.isFoundDocument()?e.version:Le.min()}var Vf=function(e){function t(n,r,i,s){s===void 0&&(s=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=r,a.precondition=i,a.fieldTransforms=s,a.type=0,a}return ne(t,e),t}(Rv),Zo=function(e){function t(n,r,i,s,a){a===void 0&&(a=[]);var c=this;return(c=e.call(this)||this).key=n,c.data=r,c.fieldMask=i,c.precondition=s,c.fieldTransforms=a,c.type=1,c}return ne(t,e),t}(Rv);function iD(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function qk(e,t,n){var r=new Map;we(e.length===n.length);for(var i=0;i<n.length;i++){var s=e[i],a=s.transform,c=t.data.field(s.field);r.set(s.field,QG(a,c,n[i]))}return r}function Hk(e,t,n){for(var r=new Map,i=0,s=e;i<s.length;i++){var a=s[i],c=a.transform,l=n.data.field(a.field);r.set(a.field,zG(c,l,t))}return r}var Lt,He,Bf=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return ne(t,e),t}(Rv),$0=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return ne(t,e),t}(Rv),ZG=function(e){this.count=e};function oD(e){switch(e){case x.OK:return he();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0;default:return he()}}function sD(e){if(e===void 0)return Ft("GRPC error has no .code"),x.UNKNOWN;switch(e){case Lt.OK:return x.OK;case Lt.CANCELLED:return x.CANCELLED;case Lt.UNKNOWN:return x.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return x.INTERNAL;case Lt.UNAVAILABLE:return x.UNAVAILABLE;case Lt.UNAUTHENTICATED:return x.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case Lt.NOT_FOUND:return x.NOT_FOUND;case Lt.ALREADY_EXISTS:return x.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return x.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case Lt.ABORTED:return x.ABORTED;case Lt.OUT_OF_RANGE:return x.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return x.UNIMPLEMENTED;case Lt.DATA_LOSS:return x.DATA_LOSS;default:return he()}}(He=Lt||(Lt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rn=function(){function e(t,n){this.comparator=t,this.root=n||Ro.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ro.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ro.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new cd(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new cd(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new cd(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new cd(this.root,t,this.comparator,!0)},e}(),cd=function(){function e(t,n,r,i){this.isReverse=i,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?r(t.key,n):1,i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),Ro=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r!=null?r:e.RED,this.left=i!=null?i:e.EMPTY,this.right=s!=null?s:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,s){return new e(t!=null?t:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,s=r(t,i.key);return(i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();var t=this.left.check();if(t!==this.right.check())throw he();return t+(this.isRed()?0:1)},e}();Ro.EMPTY=null,Ro.RED=!0,Ro.BLACK=!1,Ro.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw he()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw he()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw he()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw he()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw he()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.insert=function(t,n,r){return new Ro(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt=function(){function e(t){this.comparator=t,this.data=new Rn(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new Kk(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new Kk(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Kk=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),ez=new Rn(de.comparator);function Dr(){return ez}var tz=new Rn(de.comparator);function Nw(){return tz}var nz=new Rn(de.comparator);function aD(){return nz}var rz=new Kt(de.comparator);function it(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=rz,r=0,i=e;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var iz=new Kt(Ve);function Nv(){return iz}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var G0=function(){function e(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,z0.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Le.min(),r,Nv(),Dr(),it())},e}(),z0=function(){function e(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Hn.EMPTY_BYTE_STRING,n,it(),it(),it())},e}(),Cd=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},uD=function(e,t){this.targetId=e,this.V=t},cD=function(e,t,n,r){n===void 0&&(n=Hn.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Wk=function(){function e(){this.S=0,this.D=Gk(),this.C=Hn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=it(),n=it(),r=it();return this.D.forEach(function(i,s){switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:he()}}),new z0(this.C,this.N,t,n,r)},e.prototype.L=function(){this.k=!1,this.D=Gk()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),oz=function(){function e(t){this.W=t,this.G=new Map,this.H=Dr(),this.J=$k(),this.Y=new Kt(Ve)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var i=r[n];t.P&&t.P.isFoundDocument()?this.Z(i,t.P):this.tt(i,t.key,t.P)}for(var s=0,a=t.removedTargetIds;s<a.length;s++)i=a[s],this.tt(i,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var i=n.nt(r);switch(t.state){case 0:n.st(r)&&i.O(t.resumeToken);break;case 1:i.K(),i.F||i.L(),i.O(t.resumeToken);break;case 2:i.K(),i.F||n.removeTarget(r);break;case 3:n.st(r)&&(i.j(),i.O(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),i.O(t.resumeToken));break;default:he()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(i,s){r.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,i=this.ot(n);if(i){var s=i.target;if(fp(s))if(r===0){var a=new de(s.path);this.tt(n,a,gn.newNoDocument(a,Le.min()))}else we(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(a,c){var l=n.ot(c);if(l){if(a.current&&fp(l.target)){var h=new de(l.target.path);n.H.get(h)!==null||n.at(c,h)||n.tt(c,h,gn.newNoDocument(h,t))}a.$&&(r.set(c,a.M()),a.L())}});var i=it();this.J.forEach(function(a,c){var l=!0;c.forEachWhile(function(h){var d=n.ot(h);return!d||d.purpose===2||(l=!1,!1)}),l&&(i=i.add(a))});var s=new G0(t,r,this.Y,this.H,i);return this.H=Dr(),this.J=$k(),this.Y=new Kt(Ve),s},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var i=this.nt(t);this.at(t,n)?i.B(n,1):i.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new Wk,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new Kt(Ve),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||X("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new Wk),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function $k(){return new Rn(de.comparator)}function Gk(){return new Rn(de.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sz={asc:"ASCENDING",desc:"DESCENDING"},az={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uz=function(e,t){this.databaseId=e,this.I=t};function nf(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function lD(e,t){return e.I?t.toBase64():t.toUint8Array()}function cz(e,t){return nf(e,t.toTimestamp())}function Jt(e){return we(!!e),Le.fromTimestamp(function(t){var n=Go(t);return new er(n.seconds,n.nanos)}(e))}function Q0(e,t){return function(n){return new Ye(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function fD(e){var t=Ye.fromString(e);return we(_D(t)),t}function rf(e,t){return Q0(e.databaseId,t.path)}function bi(e,t){var n=fD(t);if(n.get(1)!==e.databaseId.projectId)throw new K(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new K(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new de(dD(n))}function Pw(e,t){return Q0(e.databaseId,t)}function hD(e){var t=fD(e);return t.length===4?Ye.emptyPath():dD(t)}function of(e){return new Ye(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function dD(e){return we(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function zk(e,t,n){return{name:rf(e,t),fields:n.value.mapValue.fields}}function pD(e,t,n){var r=bi(e,t.name),i=Jt(t.updateTime),s=new hr({mapValue:{fields:t.fields}}),a=gn.newFoundDocument(r,i,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function pp(e,t){var n;if(t instanceof Vf)n={update:zk(e,t.key,t.value)};else if(t instanceof Bf)n={delete:rf(e,t.key)};else if(t instanceof Zo)n={update:zk(e,t.key,t.data),updateMask:pz(t.fieldMask)};else{if(!(t instanceof $0))return he();n={verify:rf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(i,s){var a=s.transform;if(a instanceof xu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof aa)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ua)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Du)return{fieldPath:s.field.canonicalString(),increment:a.A};throw he()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:cz(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:he()}(e,t.precondition)),n}function Qk(e,t){var n=t.currentDocument?function(h){return h.updateTime!==void 0?In.updateTime(Jt(h.updateTime)):h.exists!==void 0?In.exists(h.exists):In.none()}(t.currentDocument):In.none(),r=t.updateTransforms?t.updateTransforms.map(function(h){return function(d,v){var g=null;if("setToServerValue"in v)we(v.setToServerValue==="REQUEST_TIME"),g=new xu;else if("appendMissingElements"in v){var y=v.appendMissingElements.values||[];g=new aa(y)}else if("removeAllFromArray"in v){var w=v.removeAllFromArray.values||[];g=new ua(w)}else"increment"in v?g=new Du(d,v.increment):he();var E=ri.fromServerFormat(v.fieldPath);return new jf(E,g)}(e,h)}):[];if(t.update){t.update.name;var i=bi(e,t.update.name),s=new hr({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(h){var d=h.fieldPaths||[];return new Ru(d.map(function(v){return ri.fromServerFormat(v)}))}(t.updateMask);return new Zo(i,s,a,n,r)}return new Vf(i,s,n,r)}if(t.delete){var c=bi(e,t.delete);return new Bf(c,n)}if(t.verify){var l=bi(e,t.verify);return new $0(l,n)}return he()}function vD(e,t){return{documents:[Pw(e,t.path)]}}function gD(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=Pw(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Pw(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(c){if(c.length!==0){var l=c.map(function(h){return function(d){if(d.op==="=="){if(Lk(d.value))return{unaryFilter:{field:Xa(d.field),op:"IS_NAN"}};if(Dk(d.value))return{unaryFilter:{field:Xa(d.field),op:"IS_NULL"}}}else if(d.op==="!="){if(Lk(d.value))return{unaryFilter:{field:Xa(d.field),op:"IS_NOT_NAN"}};if(Dk(d.value))return{unaryFilter:{field:Xa(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(d.field),op:fz(d.op),value:d.value}}}(h)});return l.length===1?l[0]:{compositeFilter:{op:"AND",filters:l}}}}(t.filters);i&&(n.structuredQuery.where=i);var s=function(c){if(c.length!==0)return c.map(function(l){return function(h){return{field:Xa(h.field),direction:lz(h.dir)}}(l)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var a=function(c,l){return c.I||_a(l)?l:{value:l}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=Yk(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Yk(t.endAt)),n}function mD(e){var t=hD(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){we(r===1);var s=n.from[0];s.allDescendants?i=s.collectionId:t=t.child(s.collectionId)}var a=[];n.where&&(a=yD(n.where));var c=[];n.orderBy&&(c=n.orderBy.map(function(v){return function(g){return new pu(su(g.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(v)}));var l=null;n.limit&&(l=function(v){var g;return _a(g=typeof v=="object"?v.value:v)?null:g}(n.limit));var h=null;n.startAt&&(h=Xk(n.startAt));var d=null;return n.endAt&&(d=Xk(n.endAt)),Gx(t,i,c,a,l,"F",h,d)}function yD(e){return e?e.unaryFilter!==void 0?[dz(e)]:e.fieldFilter!==void 0?[hz(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return yD(t)}).reduce(function(t,n){return t.concat(n)}):he():[]}function Yk(e){return{before:e.before,values:e.position}}function Xk(e){var t=!!e.before,n=e.values||[];return new tf(n,t)}function lz(e){return sz[e]}function fz(e){return az[e]}function Xa(e){return{fieldPath:e.canonicalString()}}function su(e){return ri.fromServerFormat(e.fieldPath)}function hz(e){return pr.create(su(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return he()}}(e.fieldFilter.op),e.fieldFilter.value)}function dz(e){switch(e.unaryFilter.op){case"IS_NAN":var t=su(e.unaryFilter.field);return pr.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=su(e.unaryFilter.field);return pr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=su(e.unaryFilter.field);return pr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=su(e.unaryFilter.field);return pr.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return he()}}function pz(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function _D(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Jk(t)),t=vz(e.get(n),t);return Jk(t)}function vz(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var s=e.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function Jk(e){return e+""}function Wi(e){var t=e.length;if(we(t>=2),t===2)return we(e.charAt(0)===""&&e.charAt(1)===""),Ye.emptyPath();for(var n=t-2,r=[],i="",s=0;s<t;){var a=e.indexOf("",s);switch((a<0||a>n)&&he(),e.charAt(a+1)){case"":var c=e.substring(s,a),l=void 0;i.length===0?l=c:(l=i+=c,i=""),r.push(l);break;case"":i+=e.substring(s,a),i+="\0";break;case"":i+=e.substring(s,a+1);break;default:he()}s=a+2}return new Ye(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gz=function(e,t){this.seconds=e,this.nanoseconds=t},cr=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};cr.store="owner",cr.key="owner";var jo=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};jo.store="mutationQueues",jo.keyPath="userId";var ht=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ht.store="mutations",ht.keyPath="batchId",ht.userMutationsIndex="userMutationsIndex",ht.userMutationsKeyPath=["userId","batchId"];var bn=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,ni(n)]},e.key=function(t,n,r){return[t,ni(n),r]},e}();bn.store="documentMutations",bn.PLACEHOLDER=new bn;var mz=function(e,t){this.path=e,this.readTime=t},yz=function(e,t){this.path=e,this.version=t},St=function(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};St.store="remoteDocuments",St.readTimeIndex="readTimeIndex",St.readTimeIndexPath="readTime",St.collectionReadTimeIndex="collectionReadTimeIndex",St.collectionReadTimeIndexPath=["parentPath","readTime"];var yi=function(e){this.byteSize=e};yi.store="remoteDocumentGlobal",yi.key="remoteDocumentGlobalKey";var Jn=function(e,t,n,r,i,s,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=a};Jn.store="targets",Jn.keyPath="targetId",Jn.queryTargetsIndexName="queryTargetsIndex",Jn.queryTargetsKeyPath=["canonicalId","targetId"];var fn=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};fn.store="targetDocuments",fn.keyPath=["targetId","path"],fn.documentTargetsIndex="documentTargetsIndex",fn.documentTargetsKeyPath=["path","targetId"];var lr=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};lr.key="targetGlobalKey",lr.store="targetGlobal";var zs=function(e,t){this.collectionId=e,this.parent=t};zs.store="collectionParents",zs.keyPath=["collectionId","parent"];var Gi=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Gi.store="clientMetadata",Gi.keyPath="clientId";var Lu=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Lu.store="bundles",Lu.keyPath="bundleId";var Mu=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Mu.store="namedQueries",Mu.keyPath="name";var _z=Oe(Oe([],Oe(Oe([],Oe(Oe([],Oe(Oe([],[jo.store,ht.store,bn.store,St.store,Jn.store,cr.store,lr.store,fn.store]),[Gi.store])),[yi.store])),[zs.store])),[Lu.store,Mu.store]),wD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",bD=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),kn=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},$=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(i,s){r.nextCallback=function(a){r.wrapSuccess(t,a).next(i,s)},r.catchCallback=function(a){r.wrapFailure(n,a).next(i,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var i=0,s=0,a=!1;t.forEach(function(c){++i,c.next(function(){++s,a&&s===i&&n()},function(l){return r(l)})}),a=!0,s===i&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(a){n=n.next(function(c){return c?e.resolve(c):a()})},i=0,s=t;i<s.length;i++)r(s[i]);return n},e.forEach=function(t,n){var r=this,i=[];return t.forEach(function(s,a){i.push(n.call(r,s,a))}),this.waitFor(i)},e}(),ED=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new kn,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new Sl(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(i){var s=Y0(i.target.error);r.ft.reject(new Sl(t,s))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(s){throw new Sl(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(X("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new bz(n)},e}(),Fu=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(ea())===12.2&&Ft("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return X("SimpleDb","Removing database:",t),Ds(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB=="undefined")return!1;if(e.gt())return!0;var t=ea(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.gt=function(){var t;return typeof process!="undefined"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return k(this,void 0,void 0,function(){var n,r=this;return A(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(X("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,a){var c=indexedDB.open(r.name,r.version);c.onsuccess=function(l){var h=l.target.result;s(h)},c.onblocked=function(){a(new Sl(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=function(l){var h=l.target.error;h.name==="VersionError"?a(new K(x.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new Sl(t,h))},c.onupgradeneeded=function(l){X("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',l.oldVersion);var h=l.target.result;r.wt.Rt(h,c.transaction,l.oldVersion,r.version).next(function(){X("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return r.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,i){return k(this,void 0,void 0,function(){var s,a,c,l,h;return A(this,function(d){switch(d.label){case 0:s=n==="readonly",a=0,c=function(){var v,g,y,w,E;return A(this,function(I){switch(I.label){case 0:++a,I.label=1;case 1:return I.trys.push([1,4,,5]),[4,l.At(t)];case 2:return l.db=I.sent(),v=ED.open(l.db,t,s?"readonly":"readwrite",r),g=i(v).catch(function(C){return v.abort(C),$.reject(C)}).toPromise(),y={},g.catch(function(){}),[4,v.dt];case 3:return[2,(y.value=(I.sent(),g),y)];case 4:return w=I.sent(),E=w.name!=="FirebaseError"&&a<3,X("SimpleDb","Transaction failed with error:",w.message,"Retrying:",E),l.close(),E?[3,5]:[2,{value:Promise.reject(w)}];case 5:return[2]}})},l=this,d.label=1;case 1:return[5,c()];case 2:if(typeof(h=d.sent())=="object")return[2,h.value];d.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),wz=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return Ds(this.Pt.delete())},e}(),Sl=function(e){function t(n,r){var i=this;return(i=e.call(this,x.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return ne(t,e),t}(K);function wa(e){return e.name==="IndexedDbTransactionError"}var bz=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(X("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(X("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Ds(r)},e.prototype.add=function(t){return X("SimpleDb","ADD",this.store.name,t,t),Ds(this.store.add(t))},e.prototype.get=function(t){var n=this;return Ds(this.store.get(t)).next(function(r){return r===void 0&&(r=null),X("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return X("SimpleDb","DELETE",this.store.name,t),Ds(this.store.delete(t))},e.prototype.count=function(){return X("SimpleDb","COUNT",this.store.name),Ds(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),i=[];return this.xt(r,function(s,a){i.push(a)}).next(function(){return i})},e.prototype.kt=function(t,n){X("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.Ft=!1;var i=this.cursor(r);return this.xt(i,function(s,a,c){return c.delete()})},e.prototype.$t=function(t,n){var r;n?r=t:(r={},n=t);var i=this.cursor(r);return this.xt(i,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new $(function(r,i){n.onerror=function(s){var a=Y0(s.target.error);i(a)},n.onsuccess=function(s){var a=s.target.result;a?t(a.primaryKey,a.value).next(function(c){c?a.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new $(function(i,s){t.onerror=function(a){s(a.target.error)},t.onsuccess=function(a){var c=a.target.result;if(c){var l=new wz(c),h=n(c.primaryKey,c.value,l);if(h instanceof $){var d=h.catch(function(v){return l.done(),$.reject(v)});r.push(d)}l.isDone?i():l.Dt===null?c.continue():c.continue(l.Dt)}else i()}}).next(function(){return $.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.Ft?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function Ds(e){return new $(function(t,n){e.onsuccess=function(r){var i=r.target.result;t(i)},e.onerror=function(r){var i=Y0(r.target.error);n(i)}})}var Zk=!1;function Y0(e){var t=Fu._t(ea());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new K("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Zk||(Zk=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eR=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Mt=n,i.currentSequenceNumber=r,i}return ne(t,e),t}(bD);function rr(e,t){var n=te(e);return Fu.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X0=function(){function e(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t.key)&&XG(s,t,r[i])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t.key)&&Rw(a,t,this.localWriteTime);for(var i=0,s=this.mutations;i<s.length;i++){var a;(a=s[i]).key.isEqual(t.key)&&Rw(a,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var i=t.get(r.key),s=i;n.applyToLocalView(s),i.isValidDocument()||s.convertToNoDocument(Le.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},it())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&ku(this.mutations,t.mutations,function(n,r){return Vk(n,r)})&&ku(this.baseMutations,t.baseMutations,function(n,r){return Vk(n,r)})},e}(),Ez=function(){function e(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return e.from=function(t,n,r){we(t.mutations.length===r.length);for(var i=aD(),s=t.mutations,a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new e(t,n,r,i)},e}(),Pv=function(){function e(t,n,r,i,s,a,c){s===void 0&&(s=Le.min()),a===void 0&&(a=Le.min()),c===void 0&&(c=Hn.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),ID=function(e){this.Lt=e};function Ow(e,t){if(t.document)return pD(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=de.fromSegments(t.noDocument.path),r=ju(t.noDocument.readTime),i=gn.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var s=de.fromSegments(t.unknownDocument.path);return r=ju(t.unknownDocument.version),gn.newUnknownDocument(s,r)}return he()}function tR(e,t,n){var r=J0(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(v,g){return{name:rf(v,g.key),fields:g.data.value.mapValue.fields,updateTime:nf(v,g.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new St(null,null,s,a,r,i)}if(t.isNoDocument()){var c=t.key.path.toArray(),l=Uu(t.version);return a=t.hasCommittedMutations,new St(null,new mz(c,l),null,a,r,i)}if(t.isUnknownDocument()){var h=t.key.path.toArray(),d=Uu(t.version);return new St(new yz(h,d),null,null,!0,r,i)}return he()}function J0(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function TD(e){var t=new er(e[0],e[1]);return Le.fromTimestamp(t)}function Uu(e){var t=e.toTimestamp();return new gz(t.seconds,t.nanoseconds)}function ju(e){var t=new er(e.seconds,e.nanoseconds);return Le.fromTimestamp(t)}function nu(e,t){for(var n=(t.baseMutations||[]).map(function(l){return Qk(e.Lt,l)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];i.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map(function(l){return Qk(e.Lt,l)}),c=er.fromMillis(t.localWriteTimeMs);return new X0(t.batchId,c,n,a)}function ll(e){var t,n,r=ju(e.readTime),i=e.lastLimboFreeSnapshotVersion!==void 0?ju(e.lastLimboFreeSnapshotVersion):Le.min();return e.query.documents!==void 0?(we((n=e.query).documents.length===1),t=Fr(sc(hD(n.documents[0])))):t=function(s){return Fr(mD(s))}(e.query),new Pv(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Hn.fromBase64String(e.resumeToken))}function SD(e,t){var n,r=Uu(t.snapshotVersion),i=Uu(t.lastLimboFreeSnapshotVersion);n=fp(t.target)?vD(e.Lt,t.target):gD(e.Lt,t.target);var s=t.resumeToken.toBase64();return new Jn(t.targetId,Mf(t.target),r,s,t.sequenceNumber,i,n)}function Z0(e){var t=mD({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?zx(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Iz=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return nR(t).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:ju(i.createTime),version:i.version};var i})},e.prototype.saveBundleMetadata=function(t,n){return nR(t).put({bundleId:(r=n).id,createTime:Uu(Jt(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return rR(t).get(n).next(function(r){if(r)return{name:(i=r).name,query:Z0(i.bundledQuery),readTime:ju(i.readTime)};var i})},e.prototype.saveNamedQuery=function(t,n){return rR(t).put(function(r){return{name:r.name,readTime:Uu(Jt(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function nR(e){return rr(e,Lu.store)}function rR(e){return rr(e,Mu.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tz=function(){function e(){this.Bt=new eE}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),$.resolve()},e.prototype.getCollectionParents=function(t,n){return $.resolve(this.Bt.getEntries(n))},e}(),eE=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Kt(Ye.comparator),s=!i.has(r);return this.index[n]=i.add(r),s},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new Kt(Ye.comparator)).toArray()},e}(),Sz=function(){function e(){this.qt=new eE}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var i=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var a={collectionId:i,parent:ni(s)};return iR(t).put(a)}return $.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],i=IDBKeyRange.bound([n,""],[Vx(n),""],!1,!0);return iR(t).Nt(i).next(function(s){for(var a=0,c=s;a<c.length;a++){var l=c[a];if(l.collectionId!==n)break;r.push(Wi(l.parent))}return r})},e}();function iR(e){return rr(e,zs.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vi=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(e,t,n){var r=e.store(ht.store),i=e.store(bn.store),s=[],a=IDBKeyRange.only(n.batchId),c=0,l=r.$t({range:a},function(w,E,I){return c++,I.delete()});s.push(l.next(function(){we(c===1)}));for(var h=[],d=0,v=n.mutations;d<v.length;d++){var g=v[d],y=bn.key(t,g.key.path,n.batchId);s.push(i.delete(y)),h.push(g.key)}return $.waitFor(s).next(function(){return h})}function vp(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw he();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vi.DEFAULT_COLLECTION_PERCENTILE=10,vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vi.DEFAULT=new vi(41943040,vi.DEFAULT_COLLECTION_PERCENTILE,vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vi.DISABLED=new vi(-1,0,0);var Cz=function(){function e(t,n,r,i){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=i,this.Kt={}}return e.Qt=function(t,n,r,i){return we(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return wo(t).$t({index:ht.userMutationsIndex,range:r},function(i,s,a){n=!1,a.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,i){var s=this,a=ru(t),c=wo(t);return c.add({}).next(function(l){we(typeof l=="number");for(var h=new X0(l,n,r,i),d=function(C,N,O){var L=O.baseMutations.map(function(F){return pp(C.Lt,F)}),V=O.mutations.map(function(F){return pp(C.Lt,F)});return new ht(N,O.batchId,O.localWriteTime.toMillis(),L,V)}(s.R,s.userId,h),v=[],g=new Kt(function(C,N){return Ve(C.canonicalString(),N.canonicalString())}),y=0,w=i;y<w.length;y++){var E=w[y],I=bn.key(s.userId,E.key.path,l);g=g.add(E.key.path.popLast()),v.push(c.put(d)),v.push(a.put(I,bn.PLACEHOLDER))}return g.forEach(function(C){v.push(s.Ut.addToCollectionParentIndex(t,C))}),t.addOnCommittedListener(function(){s.Kt[l]=h.keys()}),$.waitFor(v).next(function(){return h})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return wo(t).get(n).next(function(i){return i?(we(i.userId===r.userId),nu(r.R,i)):null})},e.prototype.jt=function(t,n){var r=this;return this.Kt[n]?$.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(i){if(i){var s=i.keys();return r.Kt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,i=n+1,s=IDBKeyRange.lowerBound([this.userId,i]),a=null;return wo(t).$t({index:ht.userMutationsIndex,range:s},function(c,l,h){l.userId===r.userId&&(we(l.batchId>=i),a=nu(r.R,l)),h.done()}).next(function(){return a})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return wo(t).$t({index:ht.userMutationsIndex,range:n,reverse:!0},function(i,s,a){r=s.batchId,a.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return wo(t).Nt(ht.userMutationsIndex,r).next(function(i){return i.map(function(s){return nu(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=bn.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(i),a=[];return ru(t).$t({range:s},function(c,l,h){var d=c[0],v=c[1],g=c[2],y=Wi(v);if(d===r.userId&&n.path.isEqual(y))return wo(t).get(g).next(function(w){if(!w)throw he();we(w.userId===r.userId),a.push(nu(r.R,w))});h.done()}).next(function(){return a})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new Kt(Ve),s=[];return n.forEach(function(a){var c=bn.prefixForPath(r.userId,a.path),l=IDBKeyRange.lowerBound(c),h=ru(t).$t({range:l},function(d,v,g){var y=d[0],w=d[1],E=d[2],I=Wi(w);y===r.userId&&a.path.isEqual(I)?i=i.add(E):g.done()});s.push(h)}),$.waitFor(s).next(function(){return r.Wt(t,i)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,i=n.path,s=i.length+1,a=bn.prefixForPath(this.userId,i),c=IDBKeyRange.lowerBound(a),l=new Kt(Ve);return ru(t).$t({range:c},function(h,d,v){var g=h[0],y=h[1],w=h[2],E=Wi(y);g===r.userId&&i.isPrefixOf(E)?E.length===s&&(l=l.add(w)):v.done()}).next(function(){return r.Wt(t,l)})},e.prototype.Wt=function(t,n){var r=this,i=[],s=[];return n.forEach(function(a){s.push(wo(t).get(a).next(function(c){if(c===null)throw he();we(c.userId===r.userId),i.push(nu(r.R,c))}))}),$.waitFor(s).next(function(){return i})},e.prototype.removeMutationBatch=function(t,n){var r=this;return CD(t.Mt,this.userId,n).next(function(i){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),$.forEach(i,function(s){return r.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return $.resolve();var i=IDBKeyRange.lowerBound(bn.prefixForUser(n.userId)),s=[];return ru(t).$t({range:i},function(a,c,l){if(a[0]===n.userId){var h=Wi(a[1]);s.push(h)}else l.done()}).next(function(){we(s.length===0)})})},e.prototype.containsKey=function(t,n){return AD(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return kD(t).get(this.userId).next(function(r){return r||new jo(n.userId,-1,"")})},e}();function AD(e,t,n){var r=bn.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),a=!1;return ru(e).$t({range:s,Ft:!0},function(c,l,h){var d=c[0],v=c[1];c[2],d===t&&v===i&&(a=!0),h.done()}).next(function(){return a})}function wo(e){return rr(e,ht.store)}function ru(e){return rr(e,bn.store)}function kD(e){return rr(e,jo.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gp=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),Az=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var i=new gp(r.highestTargetId);return r.highestTargetId=i.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return Le.fromTimestamp(new er(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var i=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),i.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(i){return i.targetCount+=1,r.ee(n,i),r.Zt(t,i)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return Ja(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(i){return we(i.targetCount>0),i.targetCount-=1,r.Zt(t,i)})},e.prototype.removeTargets=function(t,n,r){var i=this,s=0,a=[];return Ja(t).$t(function(c,l){var h=ll(l);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(s++,a.push(i.removeTargetData(t,h)))}).next(function(){return $.waitFor(a)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return Ja(t).$t(function(r,i){var s=ll(i);n(s)})},e.prototype.Xt=function(t){return sR(t).get(lr.key).next(function(n){return we(n!==null),n})},e.prototype.Zt=function(t,n){return sR(t).put(lr.key,n)},e.prototype.te=function(t,n){return Ja(t).put(SD(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=Mf(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return Ja(t).$t({range:i,index:Jn.queryTargetsIndexName},function(a,c,l){var h=ll(c);Av(n,h.target)&&(s=h,l.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,r){var i=this,s=[],a=No(t);return n.forEach(function(c){var l=ni(c.path);s.push(a.put(new fn(r,l))),s.push(i.referenceDelegate.addReference(t,r,c))}),$.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,r){var i=this,s=No(t);return $.forEach(n,function(a){var c=ni(a.path);return $.waitFor([s.delete([r,c]),i.referenceDelegate.removeReference(t,r,a)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=No(t),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=No(t),s=it();return i.$t({range:r,Ft:!0},function(a,c,l){var h=Wi(a[1]),d=new de(h);s=s.add(d)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var r=ni(n.path),i=IDBKeyRange.bound([r],[Vx(r)],!1,!0),s=0;return No(t).$t({index:fn.documentTargetsIndex,Ft:!0,range:i},function(a,c,l){var h=a[0];a[1],h!==0&&(s++,l.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return Ja(t).get(n).next(function(r){return r?ll(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ja(e){return rr(e,Jn.store)}function sR(e){return rr(e,lr.store)}function No(e){return rr(e,fn.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(e){return k(this,void 0,void 0,function(){return A(this,function(t){if(e.code!==x.FAILED_PRECONDITION||e.message!==wD)throw e;return X("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(e,t){var n=e[0],r=e[1],i=t[0],s=t[1],a=Ve(n,i);return a===0?Ve(r,s):a}var kz=function(){function e(t){this.ne=t,this.buffer=new Kt(aR),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();aR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),Rz=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;X("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return k(n,void 0,void 0,function(){var i;return A(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return wa(i=s.sent())?(X("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,ba(i)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),Nz=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return $.resolve(dr.o);var i=new kz(n);return this.ae.forEachTarget(t,function(s){return i.re(s.sequenceNumber)}).next(function(){return r.ae.le(t,function(s){return i.re(s)})}).next(function(){return i.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(oR)):this.getCacheSize(t).next(function(i){return i<r.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),oR):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,i,s,a,c,l,h,d=this,v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(g){return g>d.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+d.params.maximumSequenceNumbersToCollect+" from "+g),i=d.params.maximumSequenceNumbersToCollect):i=g,a=Date.now(),d.nthSequenceNumber(t,i)}).next(function(g){return r=g,c=Date.now(),d.removeTargets(t,r,n)}).next(function(g){return s=g,l=Date.now(),d.removeOrphanedDocuments(t,r)}).next(function(g){return h=Date.now(),Sw()<=Fe.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-v)+`ms
	Determined least recently used `+i+" in "+(c-a)+`ms
	Removed `+s+" targets in "+(l-c)+`ms
	Removed `+g+" documents in "+(h-l)+`ms
Total Duration: `+(h-v)+"ms"),$.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g})})},e}(),Pz=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,i){return new Nz(r,i)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(i){return r+i})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,i){return n(i)})},e.prototype.addReference=function(t,n,r){return ld(t,r)},e.prototype.removeReference=function(t,n,r){return ld(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return ld(t,n)},e.prototype._e=function(t,n){return function(r,i){var s=!1;return kD(r).Ot(function(a){return AD(r,a,i).next(function(c){return c&&(s=!0),$.resolve(!c)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],a=0;return this.we(t,function(c,l){if(l<=n){var h=r._e(t,c).next(function(d){if(!d)return a++,i.getEntry(t,c).next(function(){return i.removeEntry(c),No(t).delete([0,ni(c.path)])})});s.push(h)}}).next(function(){return $.waitFor(s)}).next(function(){return i.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return ld(t,n)},e.prototype.we=function(t,n){var r,i=No(t),s=dr.o;return i.$t({index:fn.documentTargetsIndex},function(a,c){var l=a[0];a[1];var h=c.path,d=c.sequenceNumber;l===0?(s!==dr.o&&n(new de(Wi(r)),s),s=d,r=h):s=dr.o}).next(function(){s!==dr.o&&n(new de(Wi(r)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function ld(e,t){return No(e).put(function(n,r){return new fn(0,ni(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ac=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var i=0,s=r;i<s.length;i++){var a=s[i],c=a[0],l=a[1];if(this.equalsFn(c,t))return l}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),i=this.inner[r];if(i!==void 0){for(var s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1},e.prototype.forEach=function(t){ya(this.inner,function(n,r){for(var i=0,s=r;i<s.length;i++){var a=s[i],c=a[0],l=a[1];t(c,l)}})},e.prototype.isEmpty=function(){return Bx(this.inner)},e}(),RD=function(){function e(){this.changes=new ac(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:Le.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:gn.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?$.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),Oz=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return Co(t).put(fd(n),r)},e.prototype.removeEntry=function(t,n){var r=Co(t),i=fd(n);return r.delete(i)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(i){return i.byteSize+=n,r.me(t,i)})},e.prototype.getEntry=function(t,n){var r=this;return Co(t).get(fd(n)).next(function(i){return r.ye(n,i)})},e.prototype.ge=function(t,n){var r=this;return Co(t).get(fd(n)).next(function(i){return{document:r.ye(n,i),size:vp(i)}})},e.prototype.getEntries=function(t,n){var r=this,i=Dr();return this.pe(t,n,function(s,a){var c=r.ye(s,a);i=i.insert(s,c)}).next(function(){return i})},e.prototype.Ee=function(t,n){var r=this,i=Dr(),s=new Rn(de.comparator);return this.pe(t,n,function(a,c){var l=r.ye(a,c);i=i.insert(a,l),s=s.insert(a,vp(c))}).next(function(){return{documents:i,Te:s}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return $.resolve();var i=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),a=s.getNext();return Co(t).$t({range:i},function(c,l,h){for(var d=de.fromSegments(c);a&&de.comparator(a,d)<0;)r(a,null),a=s.getNext();a&&a.isEqual(d)&&(r(a,l),a=s.hasNext()?s.getNext():null),a?h.Ct(a.path.toArray()):h.done()}).next(function(){for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var i=this,s=Dr(),a=n.path.length+1,c={};if(r.isEqual(Le.min())){var l=n.path.toArray();c.range=IDBKeyRange.lowerBound(l)}else{var h=n.path.toArray(),d=J0(r);c.range=IDBKeyRange.lowerBound([h,d],!0),c.index=St.collectionReadTimeIndex}return Co(t).$t(c,function(v,g,y){if(v.length===a){var w=Ow(i.R,g);n.path.isPrefixOf(w.key.path)?Uf(n,w)&&(s=s.insert(w.key,w)):y.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new xz(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return uR(t).get(yi.key).next(function(n){return we(!!n),n})},e.prototype.me=function(t,n){return uR(t).put(yi.key,n)},e.prototype.ye=function(t,n){if(n){var r=Ow(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(Le.min()))return r}return gn.newInvalidDocument(t)},e}(),xz=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Ie=n,i.trackRemovals=r,i.Ae=new ac(function(s){return s.toString()},function(s,a){return s.isEqual(a)}),i}return ne(t,e),t.prototype.applyChanges=function(n){var r=this,i=[],s=0,a=new Kt(function(c,l){return Ve(c.canonicalString(),l.canonicalString())});return this.changes.forEach(function(c,l){var h=r.Ae.get(c);if(l.document.isValidDocument()){var d=tR(r.Ie.R,l.document,r.getReadTime(c));a=a.add(c.path.popLast());var v=vp(d);s+=v-h,i.push(r.Ie.addEntry(n,c,d))}else if(s-=h,r.trackRemovals){var g=tR(r.Ie.R,gn.newNoDocument(c,Le.min()),r.getReadTime(c));i.push(r.Ie.addEntry(n,c,g))}else i.push(r.Ie.removeEntry(n,c))}),a.forEach(function(c){i.push(r.Ie.Ut.addToCollectionParentIndex(n,c))}),i.push(this.Ie.updateMetadata(n,s)),$.waitFor(i)},t.prototype.getFromCache=function(n,r){var i=this;return this.Ie.ge(n,r).next(function(s){return i.Ae.set(r,s.size),s.document})},t.prototype.getAllFromCache=function(n,r){var i=this;return this.Ie.Ee(n,r).next(function(s){var a=s.documents;return s.Te.forEach(function(c,l){i.Ae.set(c,l)}),a})},t}(RD);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(e){return rr(e,yi.store)}function Co(e){return rr(e,St.store)}function fd(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dz=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,i){var s=this;we(r<i&&r>=0&&i<=11);var a=new ED("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore(cr.store)}(t),function(l){l.createObjectStore(jo.store,{keyPath:jo.keyPath}),l.createObjectStore(ht.store,{keyPath:ht.keyPath,autoIncrement:!0}).createIndex(ht.userMutationsIndex,ht.userMutationsKeyPath,{unique:!0}),l.createObjectStore(bn.store)}(t),cR(t),function(l){l.createObjectStore(St.store)}(t));var c=$.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore(fn.store),l.deleteObjectStore(Jn.store),l.deleteObjectStore(lr.store)}(t),cR(t)),c=c.next(function(){return function(l){var h=l.store(lr.store),d=new lr(0,0,Le.min().toTimestamp(),0);return h.put(lr.key,d)}(a)})),r<4&&i>=4&&(r!==0&&(c=c.next(function(){return function(l,h){return h.store(ht.store).Nt().next(function(d){l.deleteObjectStore(ht.store),l.createObjectStore(ht.store,{keyPath:ht.keyPath,autoIncrement:!0}).createIndex(ht.userMutationsIndex,ht.userMutationsKeyPath,{unique:!0});var v=h.store(ht.store),g=d.map(function(y){return v.put(y)});return $.waitFor(g)})}(t,a)})),c=c.next(function(){(function(l){l.createObjectStore(Gi.store,{keyPath:Gi.keyPath})})(t)})),r<5&&i>=5&&(c=c.next(function(){return s.Re(a)})),r<6&&i>=6&&(c=c.next(function(){return function(l){l.createObjectStore(yi.store)}(t),s.be(a)})),r<7&&i>=7&&(c=c.next(function(){return s.ve(a)})),r<8&&i>=8&&(c=c.next(function(){return s.Pe(t,a)})),r<9&&i>=9&&(c=c.next(function(){(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(t),function(l){var h=l.objectStore(St.store);h.createIndex(St.readTimeIndex,St.readTimeIndexPath,{unique:!1}),h.createIndex(St.collectionReadTimeIndex,St.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(c=c.next(function(){return s.Ve(a)})),r<11&&i>=11&&(c=c.next(function(){(function(l){l.createObjectStore(Lu.store,{keyPath:Lu.keyPath})})(t),function(l){l.createObjectStore(Mu.store,{keyPath:Mu.keyPath})}(t)})),c},e.prototype.be=function(t){var n=0;return t.store(St.store).$t(function(r,i){n+=vp(i)}).next(function(){var r=new yi(n);return t.store(yi.store).put(yi.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(jo.store),i=t.store(ht.store);return r.Nt().next(function(s){return $.forEach(s,function(a){var c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.Nt(ht.userMutationsIndex,c).next(function(l){return $.forEach(l,function(h){we(h.userId===a.userId);var d=nu(n.R,h);return CD(t,a.userId,d).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(fn.store),r=t.store(St.store);return t.store(lr.store).get(lr.key).next(function(i){var s=[];return r.$t(function(a,c){var l=new Ye(a),h=function(d){return[0,ni(d)]}(l);s.push(n.get(h).next(function(d){return d?$.resolve():function(v){return n.put(new fn(0,ni(v),i.highestListenSequenceNumber))}(l)}))}).next(function(){return $.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(zs.store,{keyPath:zs.keyPath});var r=n.store(zs.store),i=new eE,s=function(a){if(i.add(a)){var c=a.lastSegment(),l=a.popLast();return r.put({collectionId:c,parent:ni(l)})}};return n.store(St.store).$t({Ft:!0},function(a,c){var l=new Ye(a);return s(l.popLast())}).next(function(){return n.store(bn.store).$t({Ft:!0},function(a,c){a[0];var l=a[1];a[2];var h=Wi(l);return s(h.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(Jn.store);return r.$t(function(i,s){var a=ll(s),c=SD(n.R,a);return r.put(c)})},e}();function cR(e){e.createObjectStore(fn.store,{keyPath:fn.keyPath}).createIndex(fn.documentTargetsIndex,fn.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Jn.store,{keyPath:Jn.keyPath}).createIndex(Jn.queryTargetsIndexName,Jn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(lr.store)}var r_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Lz=function(){function e(t,n,r,i,s,a,c,l,h,d){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=a,this.document=c,this.De=h,this.Ce=d,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(v){return Promise.resolve()},!e.yt())throw new K(x.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Pz(this,i),this.Le=n+"main",this.R=new ID(l),this.Be=new Fu(this.Le,11,new Dz(this.R)),this.qe=new Az(this.referenceDelegate,this.R),this.Ut=new Sz,this.Ue=function(v,g){return new Oz(v,g)}(this.R,this.Ut),this.Ke=new Iz,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,d===!1&&Ft("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new K(x.FAILED_PRECONDITION,r_);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new dr(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return k(n,void 0,void 0,function(){return A(this,function(i){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return k(n,void 0,void 0,function(){return A(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return k(n,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return hd(n).put(new Gi(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(wa(n))return X("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return X("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return il(t).get(cr.key).next(function(r){return $.resolve(n.tn(r))})},e.prototype.en=function(t){return hd(t).delete(this.clientId)},e.prototype.nn=function(){return k(this,void 0,void 0,function(){var t,n,r,i,s=this;return A(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(c){var l=rr(c,Gi.store);return l.Nt().next(function(h){var d=s.rn(h,18e5),v=h.filter(function(g){return d.indexOf(g)===-1});return $.forEach(v,function(g){return l.delete(g.clientId)}).next(function(){return v})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Qe)for(n=0,r=t;n<r.length;n++)i=r[n],this.Qe.removeItem(this.on(i.clientId));a.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?$.resolve(!0):il(t).get(cr.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new K(x.FAILED_PRECONDITION,r_);return!1}}return!(!n.networkEnabled||!n.inForeground)||hd(t).Nt().next(function(i){return n.rn(i,5e3).find(function(s){if(n.clientId!==s.clientId){var a=!n.networkEnabled&&s.networkEnabled,c=!n.inForeground&&s.inForeground,l=n.networkEnabled===s.networkEnabled;if(a||c&&l)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&X("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return k(this,void 0,void 0,function(){var t=this;return A(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[cr.store,Gi.store],function(r){var i=new eR(r,dr.o);return t.Xe(i).next(function(){return t.en(i)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(i){return r.sn(i.updateTimeMs,n)&&!r.cn(i.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return hd(n).Nt().next(function(r){return t.rn(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return Cz.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;X("IndexedDbPersistence","Starting transaction:",t);var s,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,a,_z,function(c){return s=new eR(c,i.Ne?i.Ne.next():dr.o),n==="readwrite-primary"?i.Je(s).next(function(l){return!!l||i.Ye(s)}).next(function(l){if(!l)throw Ft("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new K(x.FAILED_PRECONDITION,wD);return r(s)}).next(function(l){return i.Ze(s).next(function(){return l})}):i.dn(s).next(function(){return r(s)})}).then(function(c){return s.raiseOnCommittedEvent(),c})},e.prototype.dn=function(t){var n=this;return il(t).get(cr.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new K(x.FAILED_PRECONDITION,r_)})},e.prototype.Ze=function(t){var n=new cr(this.clientId,this.allowTabSynchronization,Date.now());return il(t).put(cr.key,n)},e.yt=function(){return Fu.yt()},e.prototype.Xe=function(t){var n=this,r=il(t);return r.get(cr.key).next(function(i){return n.tn(i)?(X("IndexedDbPersistence","Releasing primary lease."),r.delete(cr.key)):$.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(Ft("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),_3()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return X("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return Ft("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Ft("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function il(e){return rr(e,cr.store)}function hd(e){return rr(e,Gi.store)}function tE(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Mz=function(e,t){this.progress=e,this.wn=t},ND=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(i){return r.yn(t,n,i)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(i){for(var s=0,a=r;s<a.length;s++)a[s].applyToLocalView(i);return i})},e.prototype.gn=function(t,n){t.forEach(function(r,i){for(var s=0,a=n;s<a.length;s++)a[s].applyToLocalView(i)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(i){return r.En(t,i).next(function(){return i})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(i){return r.gn(n,i)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(i){return de.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Tn(t,n.path):W0(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new de(n)).next(function(r){var i=Nw();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})},e.prototype.In=function(t,n,r){var i=this,s=n.collectionGroup,a=Nw();return this.Ut.getCollectionParents(t,s).next(function(c){return $.forEach(c,function(l){var h=function(d,v){return new ro(v,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return i.An(t,h,r).next(function(d){d.forEach(function(v,g){a=a.insert(v,g)})})}).next(function(){return a})})},e.prototype.An=function(t,n,r){var i,s,a=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(c){return i=c,a._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(c){return s=c,a.Rn(t,s,i).next(function(l){i=l;for(var h=0,d=s;h<d.length;h++)for(var v=d[h],g=0,y=v.mutations;g<y.length;g++){var w=y[g],E=w.key,I=i.get(E);I==null&&(I=gn.newInvalidDocument(E),i=i.insert(E,I)),Rw(w,I,v.localWriteTime),I.isFoundDocument()||(i=i.remove(E))}})}).next(function(){return i.forEach(function(c,l){Uf(n,l)||(i=i.remove(c))}),i})},e.prototype.Rn=function(t,n,r){for(var i=it(),s=0,a=n;s<a.length;s++)for(var c=0,l=a[s].mutations;c<l.length;c++){var h=l[c];h instanceof Zo&&r.get(h.key)===null&&(i=i.add(h.key))}var d=r;return this.Ue.getEntries(t,i).next(function(v){return v.forEach(function(g,y){y.isFoundDocument()&&(d=d.insert(g,y))}),d})},e}(),Fz=function(){function e(t,n,r,i){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=i}return e.Pn=function(t,n){for(var r=it(),i=it(),s=0,a=n.docChanges;s<a.length;s++){var c=a[s];switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:i=i.add(c.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),PD=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,i){var s=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(Le.min())?this.Dn(t,n):this.Sn.pn(t,i).next(function(a){var c=s.Cn(n,a);return(Td(n)||dp(n))&&s.Nn(n.limitType,c,i,r)?s.Dn(t,n):(Sw()<=Fe.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),kw(n)),s.Sn.getDocumentsMatchingQuery(t,n,r).next(function(l){return c.forEach(function(h){l=l.insert(h.key,h)}),l}))})},e.prototype.Cn=function(t,n){var r=new Kt(Yx(t));return n.forEach(function(i,s){Uf(t,s)&&(r=r.add(s))}),r},e.prototype.Nn=function(t,n,r,i){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)},e.prototype.Dn=function(t,n){return Sw()<=Fe.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",kw(n)),this.Sn.getDocumentsMatchingQuery(t,n,Le.min())},e}(),Uz=function(){function e(t,n,r,i){this.persistence=t,this.xn=n,this.R=i,this.kn=new Rn(Ve),this.Fn=new ac(function(s){return Mf(s)},Av),this.$n=Le.min(),this._n=t.getMutationQueue(r),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new ND(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(e,t,n,r){return new Uz(e,t,n,r)}function xD(e,t){return k(this,void 0,void 0,function(){var n,r,i,s;return A(this,function(a){switch(a.label){case 0:return n=te(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(c){var l;return n._n.getAllMutationBatches(c).next(function(h){return l=h,r=n.persistence.getMutationQueue(t),i=new ND(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(c)}).next(function(h){for(var d=[],v=[],g=it(),y=0,w=l;y<w.length;y++){var E=w[y];d.push(E.batchId);for(var I=0,C=E.mutations;I<C.length;I++){var N=C[I];g=g.add(N.key)}}for(var O=0,L=h;O<L.length;O++){var V=L[O];v.push(V.batchId);for(var F=0,G=V.mutations;F<G.length;F++){var M=G[F];g=g.add(M.key)}}return i.pn(c,g).next(function(se){return{Ln:se,removedBatchIds:d,addedBatchIds:v}})})})];case 1:return s=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function jz(e,t){var n=te(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=t.batch.keys(),s=n.On.newChangeBuffer({trackRemovals:!0});return function(a,c,l,h){var d=l.batch,v=d.keys(),g=$.resolve();return v.forEach(function(y){g=g.next(function(){return h.getEntry(c,y)}).next(function(w){var E=l.docVersions.get(y);we(E!==null),w.version.compareTo(E)<0&&(d.applyToRemoteDocument(w,l),w.isValidDocument()&&h.addEntry(w,l.commitVersion))})}),g.next(function(){return a._n.removeMutationBatch(c,d)})}(n,r,t,s).next(function(){return s.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,i)})})}function DD(e){var t=te(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function Vz(e,t){var n=te(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var c=[];t.targetChanges.forEach(function(d,v){var g=i.get(v);if(g){c.push(n.qe.removeMatchingKeys(s,d.removedDocuments,v).next(function(){return n.qe.addMatchingKeys(s,d.addedDocuments,v)}));var y=d.resumeToken;if(y.approximateByteSize()>0){var w=g.withResumeToken(y,r).withSequenceNumber(s.currentSequenceNumber);i=i.insert(v,w),function(E,I,C){return we(I.resumeToken.approximateByteSize()>0),E.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8||C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(g,w,d)&&c.push(n.qe.updateTargetData(s,w))}}});var l=Dr();if(t.documentUpdates.forEach(function(d,v){t.resolvedLimboDocuments.has(d)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),c.push(LD(s,a,t.documentUpdates,r,void 0).next(function(d){l=d})),!r.isEqual(Le.min())){var h=n.qe.getLastRemoteSnapshotVersion(s).next(function(d){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,r)});c.push(h)}return $.waitFor(c).next(function(){return a.apply(s)}).next(function(){return n.Mn.En(s,l)}).next(function(){return l})}).then(function(s){return n.kn=i,s})}function LD(e,t,n,r,i){var s=it();return n.forEach(function(a){return s=s.add(a)}),t.getEntries(e,s).next(function(a){var c=Dr();return n.forEach(function(l,h){var d=a.get(l),v=(i==null?void 0:i.get(l))||r;h.isNoDocument()&&h.version.isEqual(Le.min())?(t.removeEntry(l,v),c=c.insert(l,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(h,v),c=c.insert(l,h)):X("LocalStore","Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",h.version)}),c})}function Bz(e,t){var n=te(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function Vu(e,t){var n=te(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n.qe.getTargetData(r,t).next(function(s){return s?(i=s,$.resolve(i)):n.qe.allocateTargetId(r).next(function(a){return i=new Pv(t,a,0,r.currentSequenceNumber),n.qe.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=n.kn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(t,r.targetId)),r})}function Bu(e,t,n){return k(this,void 0,void 0,function(){var r,i,s,a;return A(this,function(c){switch(c.label){case 0:r=te(e),i=r.kn.get(t),s=n?"readwrite":"readwrite-primary",c.label=1;case 1:return c.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(l){return r.persistence.referenceDelegate.removeTarget(l,i)})];case 2:c.sent(),c.label=3;case 3:return[3,5];case 4:if(!wa(a=c.sent()))throw a;return X("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}})})}function mp(e,t,n){var r=te(e),i=Le.min(),s=it();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(c,l,h){var d=te(c),v=d.Fn.get(h);return v!==void 0?$.resolve(d.kn.get(v)):d.qe.getTargetData(l,h)}(r,a,Fr(t)).next(function(c){if(c)return i=c.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(a,c.targetId).next(function(l){s=l})}).next(function(){return r.xn.getDocumentsMatchingQuery(a,t,n?i:Le.min(),n?s:it())}).next(function(c){return{documents:c,Bn:s}})})}function MD(e,t){var n=te(e),r=te(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.lt(s,t).next(function(a){return a?a.target:null})})}function FD(e){var t=te(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,s){var a=te(r),c=Dr(),l=J0(s),h=Co(i),d=IDBKeyRange.lowerBound(l,!0);return h.$t({index:St.readTimeIndex,range:d},function(v,g){var y=Ow(a.R,g);c=c.insert(y.key,y),l=g.readTime}).next(function(){return{wn:c,readTime:TD(l)}})}(t.On,n,t.$n)}).then(function(n){var r=n.wn,i=n.readTime;return t.$n=i,r})}function qz(e){return k(this,void 0,void 0,function(){var t;return A(this,function(n){return[2,(t=te(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var s=Co(i),a=Le.min();return s.$t({index:St.readTimeIndex,reverse:!0},function(c,l,h){l.readTime&&(a=TD(l.readTime)),h.done()}).next(function(){return a})}(r)}).then(function(r){t.$n=r})]})})}function Hz(e,t,n,r){return k(this,void 0,void 0,function(){var i,s,a,c,l,h,d,v,g,y;return A(this,function(w){switch(w.label){case 0:for(i=te(e),s=it(),a=Dr(),c=aD(),l=0,h=n;l<h.length;l++)d=h[l],v=t.qn(d.metadata.name),d.document&&(s=s.add(v)),a=a.insert(v,t.Un(d)),c=c.insert(v,t.Kn(d.metadata.readTime));return g=i.On.newChangeBuffer({trackRemovals:!0}),[4,Vu(i,function(E){return Fr(sc(Ye.fromString("__bundle__/docs/"+E)))}(r))];case 1:return y=w.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(E){return LD(E,g,a,Le.min(),c).next(function(I){return g.apply(E),I}).next(function(I){return i.qe.removeMatchingKeysForTargetId(E,y.targetId).next(function(){return i.qe.addMatchingKeys(E,s,y.targetId)}).next(function(){return i.Mn.En(E,I)}).next(function(){return I})})})]}})})}function Kz(e,t,n){return n===void 0&&(n=it()),k(this,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return[4,Vu(e,Fr(Z0(t.bundledQuery)))];case 1:return r=s.sent(),[2,(i=te(e)).persistence.runTransaction("Save named query","readwrite",function(a){var c=Jt(t.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.Ke.saveNamedQuery(a,t);var l=r.withResumeToken(Hn.EMPTY_BYTE_STRING,c);return i.kn=i.kn.insert(l.targetId,l),i.qe.updateTargetData(a,l).next(function(){return i.qe.removeMatchingKeysForTargetId(a,r.targetId)}).next(function(){return i.qe.addMatchingKeys(a,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(a,t)})})]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wz=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return $.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:Jt(r.createTime)}),$.resolve()},e.prototype.getNamedQuery=function(t,n){return $.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:Z0(r.bundledQuery),readTime:Jt(r.readTime)}}(n)),$.resolve()},e}(),nE=function(){function e(){this.Wn=new Kt(Gt.Gn),this.zn=new Kt(Gt.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new Gt(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(i){return r.addReference(i,n)})},e.prototype.removeReference=function(t,n){this.Yn(new Gt(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(i){return r.removeReference(i,n)})},e.prototype.Zn=function(t){var n=this,r=new de(new Ye([])),i=new Gt(r,t),s=new Gt(r,t+1),a=[];return this.zn.forEachInRange([i,s],function(c){n.Yn(c),a.push(c.key)}),a},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new de(new Ye([])),r=new Gt(n,t),i=new Gt(n,t+1),s=it();return this.zn.forEachInRange([r,i],function(a){s=s.add(a.key)}),s},e.prototype.containsKey=function(t){var n=new Gt(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),Gt=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return de.comparator(t.key,n.key)||Ve(t.ns,n.ns)},e.Hn=function(t,n){return Ve(t.ns,n.ns)||de.comparator(t.key,n.key)},e}(),$z=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Kt(Gt.Gn)}return e.prototype.checkEmpty=function(t){return $.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,i){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new X0(s,n,r,i);this._n.push(a);for(var c=0,l=i;c<l.length;c++){var h=l[c];this.rs=this.rs.add(new Gt(h.key,s)),this.Ut.addToCollectionParentIndex(t,h.key.path.popLast())}return $.resolve(a)},e.prototype.lookupMutationBatch=function(t,n){return $.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,i=this.cs(r),s=i<0?0:i;return $.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return $.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return $.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=new Gt(n,0),s=new Gt(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([i,s],function(c){var l=r.os(c.ns);a.push(l)}),$.resolve(a)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new Kt(Ve);return n.forEach(function(s){var a=new Gt(s,0),c=new Gt(s,Number.POSITIVE_INFINITY);r.rs.forEachInRange([a,c],function(l){i=i.add(l.ns)})}),$.resolve(this.us(i))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,i=r.length+1,s=r;de.isDocumentKey(s)||(s=s.child(""));var a=new Gt(new de(s),0),c=new Kt(Ve);return this.rs.forEachWhile(function(l){var h=l.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(l.ns)),!0)},a),$.resolve(this.us(c))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(i){var s=n.os(i);s!==null&&r.push(s)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;we(this.hs(n.batchId,"removed")===0),this._n.shift();var i=this.rs;return $.forEach(n.mutations,function(s){var a=new Gt(s.key,n.batchId);return i=i.delete(a),r.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){r.rs=i})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new Gt(n,0),i=this.rs.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,$.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),Gz=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new Rn(de.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var i=n.key,s=this.docs.get(i),a=s?s.size:0,c=this.ls(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:c,readTime:r}),this.size+=c-a,this.Ut.addToCollectionParentIndex(t,i.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return $.resolve(r?r.document.clone():gn.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,i=Dr();return n.forEach(function(s){var a=r.docs.get(s);i=i.insert(s,a?a.document.clone():gn.newInvalidDocument(s))}),$.resolve(i)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var i=Dr(),s=new de(n.path.child("")),a=this.docs.getIteratorFrom(s);a.hasNext();){var c=a.getNext(),l=c.key,h=c.value,d=h.document,v=h.readTime;if(!n.path.isPrefixOf(l.path))break;v.compareTo(r)<=0||Uf(n,d)&&(i=i.insert(d.key,d.clone()))}return $.resolve(i)},e.prototype.fs=function(t,n){return $.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new zz(this)},e.prototype.getSize=function(t){return $.resolve(this.size)},e}(),zz=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return ne(t,e),t.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(s,a){a.document.isValidDocument()?i.push(r.Ie.addEntry(n,a.document,r.getReadTime(s))):r.Ie.removeEntry(s)}),$.waitFor(i)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(RD),Qz=function(){function e(t){this.persistence=t,this.ds=new ac(function(n){return Mf(n)},Av),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.ws=0,this._s=new nE,this.targetCount=0,this.ys=gp.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,i){return n(i)}),$.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return $.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return $.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),$.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),$.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new gp(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,$.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),$.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,$.resolve()},e.prototype.removeTargets=function(t,n,r){var i=this,s=0,a=[];return this.ds.forEach(function(c,l){l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i.ds.delete(c),a.push(i.removeMatchingKeysForTargetId(t,l.targetId)),s++)}),$.waitFor(a).next(function(){return s})},e.prototype.getTargetCount=function(t){return $.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return $.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),$.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(function(a){s.push(i.markPotentiallyOrphaned(t,a))}),$.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),$.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return $.resolve(r)},e.prototype.containsKey=function(t,n){return $.resolve(this._s.containsKey(n))},e}(),Yz=function(){function e(t,n){var r=this;this.gs={},this.Ne=new dr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Qz(this),this.Ut=new Tz,this.Ue=function(i,s){return new Gz(i,function(a){return r.referenceDelegate.ps(a)})}(this.Ut),this.R=new ID(n),this.Ke=new Wz(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new $z(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;X("MemoryPersistence","Starting transaction:",t);var s=new Xz(this.Ne.next());return this.referenceDelegate.Es(),r(s).next(function(a){return i.referenceDelegate.Ts(s).next(function(){return a})}).toPromise().then(function(a){return s.raiseOnCommittedEvent(),a})},e.prototype.Is=function(t,n){return $.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),Xz=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return ne(t,e),t}(bD),Jz=function(){function e(t){this.persistence=t,this.As=new nE,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw he()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),$.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),$.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),$.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(s){return r.vs.add(s.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(a){return r.vs.add(a.toString())})}).next(function(){return i.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.vs,function(i){var s=de.fromPath(i);return n.Ps(t,s).next(function(a){a||r.removeEntry(s)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(i){i?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return $.or([function(){return $.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),an=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(e,t){return"firestore_clients_"+e+"_"+t}function fR(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function i_(e,t){return"firestore_targets_"+e+"_"+t}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");var hR=function(){function e(t,n,r,i){this.user=t,this.batchId=n,this.state=r,this.error=i}return e.Vs=function(t,n,r){var i,s=JSON.parse(r),a=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return a&&s.error&&(a=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(i=new K(s.error.code,s.error.message)),a?new e(t,n,s.state,i):(Ft("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),o_=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,i=JSON.parse(n),s=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new K(i.error.code,i.error.message)),s?new e(t,i.state,r):(Ft("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),dR=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Nv(),a=0;i&&a<r.activeTargetIds.length;++a)i=Kx(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new e(t,s):(Ft("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Zz=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(Ft("SharedClientState","Failed to parse online state: "+t),null)},e}(),xw=function(){function e(){this.activeTargetIds=Nv()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),s_=function(){function e(t,n,r,i,s){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Rn(Ve),this.started=!1,this.$s=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=lR(this.persistenceKey,this.Ns),this.Ms=function(c){return"firestore_sequence_number_"+c}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new xw),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(c){return"firestore_online_state_"+c}(this.persistenceKey),this.Ks=function(c){return"firestore_bundle_loaded_"+c}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return k(this,void 0,void 0,function(){var t,n,r,i,s,a,c,l,h,d,v,g=this;return A(this,function(y){switch(y.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=y.sent(),n=0,r=t;n<r.length;n++)(i=r[n])!==this.Ns&&(s=this.getItem(lR(this.persistenceKey,i)))&&(a=dR.Vs(i,s))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(c=this.storage.getItem(this.Us))&&(l=this.js(c))&&this.Ws(l),h=0,d=this.$s;h<d.length;h++)v=d[h],this.ks(v);return this.$s=[],this.window.addEventListener("pagehide",function(){return g.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(r,i){i.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(i_(this.persistenceKey,t));if(r){var i=o_.Vs(t,r);i&&(n=i.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(i_(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var i=this;n.forEach(function(s){i.Hs(s)}),this.currentUser=t,r.forEach(function(s){i.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return X("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){X("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){X("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(X("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void Ft("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return k(n,void 0,void 0,function(){var i,s,a,c,l,h;return A(this,function(d){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return i=this.ti(r.key),[2,this.ei(i,null)];if(s=this.ni(r.key,r.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(a=this.si(r.key,r.newValue)))return[2,this.ii(a)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(c=this.ri(r.key,r.newValue)))return[2,this.oi(c)]}else if(r.key===this.Us){if(r.newValue!==null&&(l=this.js(r.newValue)))return[2,this.Ws(l)]}else if(r.key===this.Ms)(h=function(v){var g=dr.o;if(v!=null)try{var y=JSON.parse(v);we(typeof y=="number"),g=y}catch(w){Ft("SharedClientState","Failed to read sequence number from WebStorage",w)}return g}(r.newValue))!==dr.o&&this.sequenceNumberHandler(h);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,r){var i=new hR(this.currentUser,t,n,r),s=fR(this.persistenceKey,this.currentUser,t);this.setItem(s,i.Ss())},e.prototype.Hs=function(t){var n=fR(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var i=i_(this.persistenceKey,t),s=new o_(t,n,r);this.setItem(i,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return dR.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return hR.Vs(new an(s),i,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),i=Number(r[1]);return o_.Vs(i,n)},e.prototype.js=function(t){return Zz.Vs(t)},e.prototype.ii=function(t){return k(this,void 0,void 0,function(){return A(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(X("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,i=n?this.Fs.insert(t,n):this.Fs.remove(t),s=this.Gs(this.Fs),a=this.Gs(i),c=[],l=[];return a.forEach(function(h){s.has(h)||c.push(h)}),s.forEach(function(h){a.has(h)||l.push(h)}),this.syncEngine.hi(c,l).then(function(){r.Fs=i})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=Nv();return t.forEach(function(r,i){n=n.unionWith(i.activeTargetIds)}),n},e}(),UD=function(){function e(){this.li=new xw,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new xw,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),e6=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),pR=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),t6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},n6=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),r6=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return ne(t,e),t.prototype.Fi=function(n,r,i,s){return new Promise(function(a,c){var l=new DG;l.listenOnce(PG.COMPLETE,function(){try{switch(l.getLastErrorCode()){case n_.NO_ERROR:var d=l.getResponseJson();X("Connection","XHR received:",JSON.stringify(d)),a(d);break;case n_.TIMEOUT:X("Connection",'RPC "'+n+'" timed out'),c(new K(x.DEADLINE_EXCEEDED,"Request time out"));break;case n_.HTTP_ERROR:var v=l.getStatus();if(X("Connection",'RPC "'+n+'" failed with status:',v,"response text:",l.getResponseText()),v>0){var g=l.getResponseJson().error;if(g&&g.status&&g.message){var y=function(w){var E=w.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(E)>=0?E:x.UNKNOWN}(g.status);c(new K(y,g.message))}else c(new K(x.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new K(x.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{X("Connection",'RPC "'+n+'" completed.')}});var h=JSON.stringify(s);l.send(r,"POST",h,i,15)})},t.prototype.Oi=function(n,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=RG(),a=NG(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(c.xmlHttpFactory=new xG({})),this.ki(c.initMessageHeaders,r),kb()||rP()||g3()||m3()||y3()||Rb()||(c.httpHeadersOverwriteParam="$httpHeaders");var l=i.join("");X("Connection","Creating WebChannel: "+l,c);var h=s.createWebChannel(l,c),d=!1,v=!1,g=new n6({Ei:function(w){v?X("Connection","Not sending because WebChannel is closed:",w):(d||(X("Connection","Opening WebChannel transport."),h.open(),d=!0),X("Connection","WebChannel sending:",w),h.send(w))},Ti:function(){return h.close()}}),y=function(w,E,I){w.listen(E,function(C){try{I(C)}catch(N){setTimeout(function(){throw N},0)}})};return y(h,ud.EventType.OPEN,function(){v||X("Connection","WebChannel transport opened.")}),y(h,ud.EventType.CLOSE,function(){v||(v=!0,X("Connection","WebChannel transport closed"),g.Vi())}),y(h,ud.EventType.ERROR,function(w){v||(v=!0,Jl("Connection","WebChannel transport errored:",w),g.Vi(new K(x.UNAVAILABLE,"The operation could not be completed")))}),y(h,ud.EventType.MESSAGE,function(w){var E;if(!v){var I=w.data[0];we(!!I);var C=I,N=C.error||((E=C[0])===null||E===void 0?void 0:E.error);if(N){X("Connection","WebChannel received error:",N);var O=N.status,L=function(F){var G=Lt[F];if(G!==void 0)return sD(G)}(O),V=N.message;L===void 0&&(L=x.INTERNAL,V="Unknown error status: "+O+" with message "+N.message),v=!0,g.Vi(new K(L,V)),h.close()}else X("Connection","WebChannel received:",I),g.Si(I)}}),y(a,OG.STAT_EVENT,function(w){w.stat===Pk.PROXY?X("Connection","Detected buffering proxy"):w.stat===Pk.NOPROXY&&X("Connection","Detected no buffering proxy")}),setTimeout(function(){g.Pi()},0),g},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,i){var s=this.xi(t,n);X("RestConnection","Sending: ",s,r);var a={};return this.ki(a,i),this.Fi(t,s,a,r).then(function(c){return X("RestConnection","Received: ",c),c},function(c){throw Jl("RestConnection",t+" failed with error: ",c,"url: ",s,"request:",r),c})},e.prototype.$i=function(t,n,r,i){return this.Ni(t,n,r,i)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=t6[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(){return typeof window!="undefined"?window:null}function Ad(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(e){return new uz(e,!0)}var rE=function(){function e(t,n,r,i,s){r===void 0&&(r=1e3),i===void 0&&(i=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=i,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Ki),s=Math.max(0,r-i);s>0&&X("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),VD=function(){function e(t,n,r,i,s,a){this.Se=t,this.zi=r,this.Hi=i,this.Ji=s,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new rE(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return k(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return k(this,void 0,void 0,function(){return A(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return k(this,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(Ft(n.toString()),Ft("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===x.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(i){t.Yi===r&&t.lr(i)},function(i){n(function(){var s=new K(x.UNKNOWN,"Fetching auth token failed: "+i.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(i){r(function(){return n.dr(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return k(t,void 0,void 0,function(){return A(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return X("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),i6=function(e){function t(n,r,i,s,a){var c=this;return(c=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,a)||this).R=s,c}return ne(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(s,a){var c;if("targetChange"in a){a.targetChange;var l=function(I){return I==="NO_CHANGE"?0:I==="ADD"?1:I==="REMOVE"?2:I==="CURRENT"?3:I==="RESET"?4:he()}(a.targetChange.targetChangeType||"NO_CHANGE"),h=a.targetChange.targetIds||[],d=function(I,C){return I.I?(we(C===void 0||typeof C=="string"),Hn.fromBase64String(C||"")):(we(C===void 0||C instanceof Uint8Array),Hn.fromUint8Array(C||new Uint8Array))}(s,a.targetChange.resumeToken),v=(g=a.targetChange.cause)&&function(I){var C=I.code===void 0?x.UNKNOWN:sD(I.code);return new K(C,I.message||"")}(g);c=new cD(l,h,d,v||null)}else if("documentChange"in a){a.documentChange,(l=a.documentChange).document,l.document.name,l.document.updateTime,h=bi(s,l.document.name),d=Jt(l.document.updateTime);var g=new hr({mapValue:{fields:l.document.fields}}),y=(v=gn.newFoundDocument(h,d,g),l.targetIds||[]),w=l.removedTargetIds||[];c=new Cd(y,w,v.key,v)}else if("documentDelete"in a)a.documentDelete,(l=a.documentDelete).document,h=bi(s,l.document),d=l.readTime?Jt(l.readTime):Le.min(),g=gn.newNoDocument(h,d),v=l.removedTargetIds||[],c=new Cd([],v,g.key,g);else if("documentRemove"in a)a.documentRemove,(l=a.documentRemove).document,h=bi(s,l.document),d=l.removedTargetIds||[],c=new Cd([],d,h,null);else{if(!("filter"in a))return he();a.filter;var E=a.filter;E.targetId,l=E.count||0,h=new ZG(l),d=E.targetId,c=new uD(d,h)}return c}(this.R,n),i=function(s){if(!("targetChange"in s))return Le.min();var a=s.targetChange;return a.targetIds&&a.targetIds.length?Le.min():a.readTime?Jt(a.readTime):Le.min()}(n);return this.listener._r(r,i)},t.prototype.mr=function(n){var r={};r.database=of(this.R),r.addTarget=function(s,a){var c,l=a.target;return(c=fp(l)?{documents:vD(s,l)}:{query:gD(s,l)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?c.resumeToken=lD(s,a.resumeToken):a.snapshotVersion.compareTo(Le.min())>0&&(c.readTime=nf(s,a.snapshotVersion.toTimestamp())),c}(this.R,n);var i=function(s,a){var c=function(l,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return he()}}(0,a.purpose);return c==null?null:{"goog-listen-tags":c}}(this.R,n);i&&(r.labels=i),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=of(this.R),r.removeTarget=n,this.cr(r)},t}(VD),o6=function(e){function t(n,r,i,s,a){var c=this;return(c=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,a)||this).R=s,c.gr=!1,c}return ne(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(we(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(s,a){return s&&s.length>0?(we(a!==void 0),s.map(function(c){return function(l,h){var d=l.updateTime?Jt(l.updateTime):Jt(h);return d.isEqual(Le.min())&&(d=Jt(h)),new YG(d,l.transformResults||[])}(c,a)})):[]}(n.writeResults,n.commitTime),i=Jt(n.commitTime);return this.listener.Tr(i,r)}return we(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=of(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(s){return pp(r.R,s)})};this.cr(i)},t}(VD),s6=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=r,s.R=i,s.Rr=!1,s}return ne(t,e),t.prototype.br=function(){if(this.Rr)throw new K(x.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,i){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.Ni(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===x.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new K(x.UNKNOWN,a.toString())})},t.prototype.$i=function(n,r,i){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.$i(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===x.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new K(x.UNKNOWN,a.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),a6=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Ft(n),this.Vr=!1):X("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),u6=function(e,t,n,r,i){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(a){n.enqueueAndForget(function(){return k(s,void 0,void 0,function(){return A(this,function(c){switch(c.label){case 0:return es(this)?(X("RemoteStore","Restarting streams for network reachability change."),[4,function(l){return k(this,void 0,void 0,function(){var h;return A(this,function(d){switch(d.label){case 0:return(h=te(l)).Or.add(4),[4,uc(h)];case 1:return d.sent(),h.Br.set("Unknown"),h.Or.delete(4),[4,Hf(h)];case 2:return d.sent(),[2]}})})}(this)]):[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})})}),this.Br=new a6(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(e){return k(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:if(!es(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function uc(e){return k(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Ov(e,t){var n=te(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),sE(n)?oE(n):lc(n).er()&&iE(n,t))}function sf(e,t){var n=te(e),r=lc(n);n.$r.delete(t),r.er()&&BD(n,t),n.$r.size===0&&(r.er()?r.ir():es(n)&&n.Br.set("Unknown"))}function iE(e,t){e.qr.U(t.targetId),lc(e).mr(t)}function BD(e,t){e.qr.U(t),lc(e).yr(t)}function oE(e){e.qr=new oz({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),lc(e).start(),e.Br.Sr()}function sE(e){return es(e)&&!lc(e).tr()&&e.$r.size>0}function es(e){return te(e).Or.size===0}function qD(e){e.qr=void 0}function c6(e){return k(this,void 0,void 0,function(){return A(this,function(t){return e.$r.forEach(function(n,r){iE(e,n)}),[2]})})}function l6(e,t){return k(this,void 0,void 0,function(){return A(this,function(n){return qD(e),sE(e)?(e.Br.Nr(t),oE(e)):e.Br.set("Unknown"),[2]})})}function f6(e,t,n){return k(this,void 0,void 0,function(){var r,i,s;return A(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof cD&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(c,l){return k(this,void 0,void 0,function(){var h,d,v,g;return A(this,function(y){switch(y.label){case 0:h=l.cause,d=0,v=l.targetIds,y.label=1;case 1:return d<v.length?(g=v[d],c.$r.has(g)?[4,c.remoteSyncer.rejectListen(g,h)]:[3,3]):[3,5];case 2:y.sent(),c.$r.delete(g),c.qr.removeTarget(g),y.label=3;case 3:y.label=4;case 4:return d++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),X("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,yp(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Cd?e.qr.X(t):t instanceof uD?e.qr.rt(t):e.qr.et(t),n.isEqual(Le.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,DD(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(c,l){var h=c.qr.ut(l);return h.targetChanges.forEach(function(d,v){if(d.resumeToken.approximateByteSize()>0){var g=c.$r.get(v);g&&c.$r.set(v,g.withResumeToken(d.resumeToken,l))}}),h.targetMismatches.forEach(function(d){var v=c.$r.get(d);if(v){c.$r.set(d,v.withResumeToken(Hn.EMPTY_BYTE_STRING,v.snapshotVersion)),BD(c,d);var g=new Pv(v.target,d,1,v.sequenceNumber);iE(c,g)}}),c.remoteSyncer.applyRemoteEvent(h)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return X("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,yp(e,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function yp(e,t,n){return k(this,void 0,void 0,function(){var r=this;return A(this,function(i){switch(i.label){case 0:if(!wa(t))throw t;return e.Or.add(1),[4,uc(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return DD(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return k(r,void 0,void 0,function(){return A(this,function(s){switch(s.label){case 0:return X("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Or.delete(1),[4,Hf(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function HD(e,t){return t().catch(function(n){return yp(e,n,t)})}function cc(e){return k(this,void 0,void 0,function(){var t,n,r,i,s;return A(this,function(a){switch(a.label){case 0:t=te(e),n=zo(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(c){return es(c)&&c.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Bz(t.localStore,r)];case 3:return(i=a.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(r=i.batchId,function(c,l){c.Fr.push(l);var h=zo(c);h.er()&&h.pr&&h.Er(l.mutations)}(t,i),[3,6]);case 4:return s=a.sent(),[4,yp(t,s)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return KD(t)&&WD(t),[2]}})})}function KD(e){return es(e)&&!zo(e).tr()&&e.Fr.length>0}function WD(e){zo(e).start()}function h6(e){return k(this,void 0,void 0,function(){return A(this,function(t){return zo(e).Ar(),[2]})})}function d6(e){return k(this,void 0,void 0,function(){var t,n,r,i;return A(this,function(s){for(t=zo(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]})})}function p6(e,t,n){return k(this,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return r=e.Fr.shift(),i=Ez.from(r,t,n),[4,HD(e,function(){return e.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,cc(e)];case 2:return s.sent(),[2]}})})}function v6(e,t){return k(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return t&&zo(e).pr?[4,function(r,i){return k(this,void 0,void 0,function(){var s,a;return A(this,function(c){switch(c.label){case 0:return oD(a=i.code)&&a!==x.ABORTED?(s=r.Fr.shift(),zo(r).sr(),[4,HD(r,function(){return r.remoteSyncer.rejectFailedWrite(s.batchId,i)})]):[3,3];case 1:return c.sent(),[4,cc(r)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return KD(e)&&WD(e),[2]}})})}function Dw(e,t){return k(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return n=te(e),t?(n.Or.delete(2),[4,Hf(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,uc(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function lc(e){var t=this;return e.Ur||(e.Ur=function(n,r,i){var s=te(n);return s.br(),new i6(r,s.Hi,s.credentials,s.R,i)}(e.datastore,e.asyncQueue,{Ii:c6.bind(null,e),Ri:l6.bind(null,e),_r:f6.bind(null,e)}),e.Mr.push(function(n){return k(t,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),sE(e)?oE(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),qD(e),r.label=3;case 3:return[2]}})})})),e.Ur}function zo(e){var t=this;return e.Kr||(e.Kr=function(n,r,i){var s=te(n);return s.br(),new o6(r,s.Hi,s.credentials,s.R,i)}(e.datastore,e.asyncQueue,{Ii:h6.bind(null,e),Ri:v6.bind(null,e),Ir:d6.bind(null,e),Tr:p6.bind(null,e)}),e.Mr.push(function(n){return k(t,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return n?(e.Kr.sr(),[4,cc(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:r.sent(),e.Fr.length>0&&(X("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),r.label=4;case 4:return[2]}})})})),e.Kr}var g6=function(){function e(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new kn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return e.createAndSchedule=function(t,n,r,i,s){var a=new e(t,n,Date.now()+r,i,s);return a.start(r),a},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(x.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function fc(e,t){if(Ft("AsyncQueue",t+": "+e),wa(e))return new K(x.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $D=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||de.comparator(n.key,r.key)}:function(n,r){return de.comparator(n.key,r.key)},this.keyedMap=Nw(),this.sortedSet=new Rn(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),vR=function(){function e(){this.Qr=new Rn(de.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Qr.get(n);r?t.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Qr=this.Qr.remove(n):t.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):he():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),_p=function(){function e(t,n,r,i,s,a,c,l){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=l}return e.fromInitialDocuments=function(t,n,r,i){var s=[];return n.forEach(function(a){s.push({type:0,doc:a})}),new e(t,n,$D.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ff(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},e}(),m6=function(){this.Wr=void 0,this.listeners=[]},y6=function(){this.queries=new ac(function(e){return Qx(e)},Ff),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(e,t){return k(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return A(this,function(h){switch(h.label){case 0:if(n=te(e),r=t.query,i=!1,(s=n.queries.get(r))||(i=!0,s=new m6),!i)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),a=s,[4,n.onListen(r)];case 2:return a.Wr=h.sent(),[3,4];case 3:return c=h.sent(),l=fc(c,"Initialization of query '"+kw(t.query)+"' failed"),[2,void t.onError(l)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&cE(n),[2]}})})}function uE(e,t){return k(this,void 0,void 0,function(){var n,r,i,s,a;return A(this,function(c){return n=te(e),r=t.query,i=!1,(s=n.queries.get(r))&&(a=s.listeners.indexOf(t))>=0&&(s.listeners.splice(a,1),i=s.listeners.length===0),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function _6(e,t){for(var n=te(e),r=!1,i=0,s=t;i<s.length;i++){var a=s[i],c=a.query,l=n.queries.get(c);if(l){for(var h=0,d=l.listeners;h<d.length;h++)d[h].Hr(a)&&(r=!0);l.Wr=a}}r&&cE(n)}function w6(e,t,n){var r=te(e),i=r.queries.get(t);if(i)for(var s=0,a=i.listeners;s<a.length;s++)a[s].onError(n);r.queries.delete(t)}function cE(e){e.Gr.forEach(function(t){t.next()})}var lE=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=t.docChanges;r<i.length;r++){var s=i[r];s.type!==3&&n.push(s)}t=new _p(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),a=!0):this.eo(t,this.onlineState)&&(this.no(t),a=!0),this.Xr=t,a},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=_p.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}(),b6=function(){function e(t,n){this.payload=t,this.byteLength=n}return e.prototype.io=function(){return"metadata"in this.payload},e}(),gR=function(){function e(t){this.R=t}return e.prototype.qn=function(t){return bi(this.R,t)},e.prototype.Un=function(t){return t.metadata.exists?pD(this.R,t.document,!1):gn.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},e.prototype.Kn=function(t){return Jt(t)},e}(),E6=function(){function e(t,n,r){this.ro=t,this.localStore=n,this.R=r,this.queries=[],this.documents=[],this.progress=GD(t)}return e.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var n=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++n):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},e.prototype.co=function(t){for(var n=new Map,r=new gR(this.R),i=0,s=t;i<s.length;i++){var a=s[i];if(a.metadata.queries)for(var c=r.qn(a.metadata.name),l=0,h=a.metadata.queries;l<h.length;l++){var d=h[l],v=(n.get(d)||it()).add(c);n.set(d,v)}}return n},e.prototype.complete=function(){return k(this,void 0,void 0,function(){var t,n,r,i,s;return A(this,function(a){switch(a.label){case 0:return[4,Hz(this.localStore,new gR(this.R),this.documents,this.ro.id)];case 1:t=a.sent(),n=this.co(this.documents),r=0,i=this.queries,a.label=2;case 2:return r<i.length?(s=i[r],[4,Kz(this.localStore,s,n.get(s.name))]):[3,5];case 3:a.sent(),a.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Mz(Object.assign({},this.progress),t))]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zD=function(e){this.key=e},QD=function(e){this.key=e},YD=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=it(),this.mutatedKeys=it(),this.lo=Yx(t),this.fo=new $D(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,i=n?n.mo:new vR,s=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,c=s,l=!1,h=Td(this.query)&&s.size===this.query.limit?s.last():null,d=dp(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(g,y){var w=s.get(g),E=Uf(r.query,y)?y:null,I=!!w&&r.mutatedKeys.has(w.key),C=!!E&&(E.hasLocalMutations||r.mutatedKeys.has(E.key)&&E.hasCommittedMutations),N=!1;w&&E?w.data.isEqual(E.data)?I!==C&&(i.track({type:3,doc:E}),N=!0):r.yo(w,E)||(i.track({type:2,doc:E}),N=!0,(h&&r.lo(E,h)>0||d&&r.lo(E,d)<0)&&(l=!0)):!w&&E?(i.track({type:0,doc:E}),N=!0):w&&!E&&(i.track({type:1,doc:w}),N=!0,(h||d)&&(l=!0)),N&&(E?(c=c.add(E),a=C?a.add(g):a.delete(g)):(c=c.delete(g),a=a.delete(g)))}),Td(this.query)||dp(this.query))for(;c.size>this.query.limit;){var v=Td(this.query)?c.last():c.first();c=c.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{fo:c,mo:i,Nn:l,mutatedKeys:a}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var i=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var a=t.mo.jr();a.sort(function(d,v){return function(g,y){var w=function(E){switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return w(g)-w(y)}(d.type,v.type)||i.lo(d.doc,v.doc)}),this.po(r);var c=n?this.Eo():[],l=this.ho.size===0&&this.current?1:0,h=l!==this.ao;return this.ao=l,a.length!==0||h?{snapshot:new _p(this.query,t.fo,s,a,t.mutatedKeys,l===0,h,!1),To:c}:{To:c}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new vR,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=it(),this.fo.forEach(function(i){t.Io(i.key)&&(t.ho=t.ho.add(i.key))});var r=[];return n.forEach(function(i){t.ho.has(i)||r.push(new QD(i))}),this.ho.forEach(function(i){n.has(i)||r.push(new zD(i))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=it();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return _p.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),I6=function(e,t,n){this.query=e,this.targetId=t,this.view=n},T6=function(e){this.key=e,this.bo=!1},S6=function(){function e(t,n,r,i,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new ac(function(c){return Qx(c)},Ff),this.Vo=new Map,this.So=new Set,this.Do=new Rn(de.comparator),this.Co=new Map,this.No=new nE,this.xo={},this.ko=new Map,this.Fo=gp.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function C6(e,t){return k(this,void 0,void 0,function(){var n,r,i,s,a,c;return A(this,function(l){switch(l.label){case 0:return n=vE(e),(s=n.Po.get(t))?(r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Ro(),[3,4]):[3,1];case 1:return[4,Vu(n.localStore,Fr(t))];case 2:return a=l.sent(),c=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,fE(n,t,r,c==="current")];case 3:i=l.sent(),n.isPrimaryClient&&Ov(n.remoteStore,a),l.label=4;case 4:return[2,i]}})})}function fE(e,t,n,r){return k(this,void 0,void 0,function(){var i,s,a,c,l,h;return A(this,function(d){switch(d.label){case 0:return e.Oo=function(v,g,y){return function(w,E,I,C){return k(this,void 0,void 0,function(){var N,O,L;return A(this,function(V){switch(V.label){case 0:return N=E.view._o(I),N.Nn?[4,mp(w.localStore,E.query,!1).then(function(F){var G=F.documents;return E.view._o(G,N)})]:[3,2];case 1:N=V.sent(),V.label=2;case 2:return O=C&&C.targetChanges.get(E.targetId),L=E.view.applyChanges(N,w.isPrimaryClient,O),[2,(Lw(w,E.targetId,L.To),L.snapshot)]}})})}(e,v,g,y)},[4,mp(e.localStore,t,!0)];case 1:return i=d.sent(),s=new YD(t,i.Bn),a=s._o(i.documents),c=z0.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),l=s.applyChanges(a,e.isPrimaryClient,c),Lw(e,n,l.To),h=new I6(t,n,s),[2,(e.Po.set(t,h),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),l.snapshot)]}})})}function A6(e,t){return k(this,void 0,void 0,function(){var n,r,i;return A(this,function(s){switch(s.label){case 0:return n=te(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(a){return!Ff(a,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Bu(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),sf(n.remoteStore,r.targetId),qu(n,r.targetId)}).catch(ba)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return qu(n,r.targetId),[4,Bu(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function k6(e,t,n){return k(this,void 0,void 0,function(){var r,i,s,a;return A(this,function(c){switch(c.label){case 0:r=gE(e),c.label=1;case 1:return c.trys.push([1,5,,6]),[4,function(l,h){var d,v=te(l),g=er.now(),y=h.reduce(function(w,E){return w.add(E.key)},it());return v.persistence.runTransaction("Locally write mutations","readwrite",function(w){return v.Mn.pn(w,y).next(function(E){d=E;for(var I=[],C=0,N=h;C<N.length;C++){var O=N[C],L=JG(O,d.get(O.key));L!=null&&I.push(new Zo(O.key,L,Wx(L.value.mapValue),In.exists(!0)))}return v._n.addMutationBatch(w,g,I,h)})}).then(function(w){return w.applyToLocalDocumentSet(d),{batchId:w.batchId,changes:d}})}(r.localStore,t)];case 2:return i=c.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(l,h,d){var v=l.xo[l.currentUser.toKey()];v||(v=new Rn(Ve)),v=v.insert(h,d),l.xo[l.currentUser.toKey()]=v}(r,i.batchId,n),[4,io(r,i.changes)];case 3:return c.sent(),[4,cc(r.remoteStore)];case 4:return c.sent(),[3,6];case 5:return s=c.sent(),a=fc(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function XD(e,t){return k(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:n=te(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Vz(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach(function(s,a){var c=n.Co.get(a);c&&(we(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.bo=!0:s.modifiedDocuments.size>0?we(c.bo):s.removedDocuments.size>0&&(we(c.bo),c.bo=!1))}),[4,io(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,ba(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function mR(e,t,n){var r=te(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var i=[];r.Po.forEach(function(s,a){var c=a.view.zr(t);c.snapshot&&i.push(c.snapshot)}),function(s,a){var c=te(s);c.onlineState=a;var l=!1;c.queries.forEach(function(h,d){for(var v=0,g=d.listeners;v<g.length;v++)g[v].zr(a)&&(l=!0)}),l&&cE(c)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function R6(e,t,n){return k(this,void 0,void 0,function(){var r,i,s,a,c,l;return A(this,function(h){switch(h.label){case 0:return(r=te(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(s=i&&i.key)?(a=(a=new Rn(de.comparator)).insert(s,gn.newNoDocument(s,Le.min())),c=it().add(s),l=new G0(Le.min(),new Map,new Kt(Ve),a,c),[4,XD(r,l)]):[3,2];case 1:return h.sent(),r.Do=r.Do.remove(s),r.Co.delete(t),pE(r),[3,4];case 2:return[4,Bu(r.localStore,t,!1).then(function(){return qu(r,t,n)}).catch(ba)];case 3:h.sent(),h.label=4;case 4:return[2]}})})}function N6(e,t){return k(this,void 0,void 0,function(){var n,r,i;return A(this,function(s){switch(s.label){case 0:n=te(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,jz(n.localStore,t)];case 2:return i=s.sent(),dE(n,r,null),hE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,io(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,ba(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function P6(e,t,n){return k(this,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:r=te(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(a,c){var l=te(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",function(h){var d;return l._n.lookupMutationBatch(h,c).next(function(v){return we(v!==null),d=v.keys(),l._n.removeMutationBatch(h,v)}).next(function(){return l._n.performConsistencyCheck(h)}).next(function(){return l.Mn.pn(h,d)})})}(r.localStore,t)];case 2:return i=s.sent(),dE(r,t,n),hE(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,io(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,ba(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function O6(e,t){return k(this,void 0,void 0,function(){var n,r,i,s,a;return A(this,function(c){switch(c.label){case 0:es((n=te(e)).remoteStore)||X("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,function(l){var h=te(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(d){return h._n.getHighestUnacknowledgedBatchId(d)})}(n.localStore)];case 2:return(r=c.sent())===-1?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return s=c.sent(),a=fc(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function hE(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function dE(e,t,n){var r=te(e),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function qu(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var s=i[r];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(a){e.No.containsKey(a)||JD(e,a)})}function JD(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(sf(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),pE(e))}function Lw(e,t,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof zD?(e.No.addReference(s.key,t),x6(e,s)):s instanceof QD?(X("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||JD(e,s.key)):he()}}function x6(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(X("SyncEngine","New document in limbo: "+n),e.So.add(r),pE(e))}function pE(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new de(Ye.fromString(t)),r=e.Fo.next();e.Co.set(r,new T6(n)),e.Do=e.Do.insert(n,r),Ov(e.remoteStore,new Pv(Fr(sc(n.path)),r,2,dr.o))}}function io(e,t,n){return k(this,void 0,void 0,function(){var r,i,s,a;return A(this,function(c){switch(c.label){case 0:return r=te(e),i=[],s=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(l,h){a.push(r.Oo(h,t,n).then(function(d){if(d){r.isPrimaryClient&&r.sharedClientState.updateQueryState(h.targetId,d.fromCache?"not-current":"current"),i.push(d);var v=Fz.Pn(h.targetId,d);s.push(v)}}))}),[4,Promise.all(a)]);case 1:return c.sent(),r.vo._r(i),[4,function(l,h){return k(this,void 0,void 0,function(){var d,v,g,y,w,E,I,C,N;return A(this,function(O){switch(O.label){case 0:d=te(l),O.label=1;case 1:return O.trys.push([1,3,,4]),[4,d.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(L){return $.forEach(h,function(V){return $.forEach(V.bn,function(F){return d.persistence.referenceDelegate.addReference(L,V.targetId,F)}).next(function(){return $.forEach(V.vn,function(F){return d.persistence.referenceDelegate.removeReference(L,V.targetId,F)})})})})];case 2:return O.sent(),[3,4];case 3:if(!wa(v=O.sent()))throw v;return X("LocalStore","Failed to update sequence numbers: "+v),[3,4];case 4:for(g=0,y=h;g<y.length;g++)w=y[g],E=w.targetId,w.fromCache||(I=d.kn.get(E),C=I.snapshotVersion,N=I.withLastLimboFreeSnapshotVersion(C),d.kn=d.kn.insert(E,N));return[2]}})})}(r.localStore,s)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function D6(e,t){return k(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return(n=te(e)).currentUser.isEqual(t)?[3,3]:(X("SyncEngine","User change. New user:",t.toKey()),[4,xD(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(s,a){s.ko.forEach(function(c){c.forEach(function(l){l.reject(new K(x.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,io(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function L6(e,t){var n=te(e),r=n.Co.get(t);if(r&&r.bo)return it().add(r.key);var i=it(),s=n.Vo.get(t);if(!s)return i;for(var a=0,c=s;a<c.length;a++){var l=c[a],h=n.Po.get(l);i=i.unionWith(h.view.wo)}return i}function M6(e,t){return k(this,void 0,void 0,function(){var n,r,i;return A(this,function(s){switch(s.label){case 0:return[4,mp((n=te(e)).localStore,t.query,!0)];case 1:return r=s.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&Lw(n,t.targetId,i.To),i)]}})})}function F6(e){return k(this,void 0,void 0,function(){var t;return A(this,function(n){return[2,FD((t=te(e)).localStore).then(function(r){return io(t,r)})]})})}function U6(e,t,n,r){return k(this,void 0,void 0,function(){var i,s;return A(this,function(a){switch(a.label){case 0:return[4,function(c,l){var h=te(c),d=te(h._n);return h.persistence.runTransaction("Lookup mutation documents","readonly",function(v){return d.jt(v,l).next(function(g){return g?h.Mn.pn(v,g):$.resolve(null)})})}((i=te(e)).localStore,t)];case 1:return(s=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,cc(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(dE(i,t,r||null),hE(i,t),function(c,l){te(te(c)._n).Gt(l)}(i.localStore,t)):he(),a.label=4;case 4:return[4,io(i,s)];case 5:return a.sent(),[3,7];case 6:X("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function j6(e,t){return k(this,void 0,void 0,function(){var n,r,i,s,a,c,l,h;return A(this,function(d){switch(d.label){case 0:return vE(n=te(e)),gE(n),t!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,yR(n,r.toArray())]);case 1:return i=d.sent(),n.$o=!0,[4,Dw(n.remoteStore,!0)];case 2:for(d.sent(),s=0,a=i;s<a.length;s++)c=a[s],Ov(n.remoteStore,c);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(l=[],h=Promise.resolve(),n.Vo.forEach(function(v,g){n.sharedClientState.isLocalQueryTarget(g)?l.push(g):h=h.then(function(){return qu(n,g),Bu(n.localStore,g,!0)}),sf(n.remoteStore,g)}),[4,h]);case 4:return d.sent(),[4,yR(n,l)];case 5:return d.sent(),function(v){var g=te(v);g.Co.forEach(function(y,w){sf(g.remoteStore,w)}),g.No.ts(),g.Co=new Map,g.Do=new Rn(de.comparator)}(n),n.$o=!1,[4,Dw(n.remoteStore,!1)];case 6:d.sent(),d.label=7;case 7:return[2]}})})}function yR(e,t,n){return k(this,void 0,void 0,function(){var r,i,s,a,c,l,h,d,v,g,y,w,E,I;return A(this,function(C){switch(C.label){case 0:r=te(e),i=[],s=[],a=0,c=t,C.label=1;case 1:return a<c.length?(l=c[a],h=void 0,(d=r.Vo.get(l))&&d.length!==0?[4,Vu(r.localStore,Fr(d[0]))]:[3,7]):[3,13];case 2:h=C.sent(),v=0,g=d,C.label=3;case 3:return v<g.length?(y=g[v],w=r.Po.get(y),[4,M6(r,w)]):[3,6];case 4:(E=C.sent()).snapshot&&s.push(E.snapshot),C.label=5;case 5:return v++,[3,3];case 6:return[3,11];case 7:return[4,MD(r.localStore,l)];case 8:return I=C.sent(),[4,Vu(r.localStore,I)];case 9:return h=C.sent(),[4,fE(r,ZD(I),l,!1)];case 10:C.sent(),C.label=11;case 11:i.push(h),C.label=12;case 12:return a++,[3,1];case 13:return[2,(r.vo._r(s),i)]}})})}function ZD(e){return Gx(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function V6(e){var t=te(e);return te(te(t.localStore).persistence).fn()}function B6(e,t,n,r){return k(this,void 0,void 0,function(){var i,s,a;return A(this,function(c){switch(c.label){case 0:return(i=te(e)).$o?(X("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,FD(i.localStore)];case 3:return s=c.sent(),a=G0.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,io(i,s,a)];case 4:return c.sent(),[3,8];case 5:return[4,Bu(i.localStore,t,!0)];case 6:return c.sent(),qu(i,t,r),[3,8];case 7:he(),c.label=8;case 8:return[2]}})})}function q6(e,t,n){return k(this,void 0,void 0,function(){var r,i,s,a,c,l,h,d,v,g;return A(this,function(y){switch(y.label){case 0:if(!(r=vE(e)).$o)return[3,10];i=0,s=t,y.label=1;case 1:return i<s.length?(a=s[i],r.Vo.has(a)?(X("SyncEngine","Adding an already active target "+a),[3,5]):[4,MD(r.localStore,a)]):[3,6];case 2:return c=y.sent(),[4,Vu(r.localStore,c)];case 3:return l=y.sent(),[4,fE(r,ZD(c),l.targetId,!1)];case 4:y.sent(),Ov(r.remoteStore,l),y.label=5;case 5:return i++,[3,1];case 6:h=function(w){return A(this,function(E){switch(E.label){case 0:return r.Vo.has(w)?[4,Bu(r.localStore,w,!1).then(function(){sf(r.remoteStore,w),qu(r,w)}).catch(ba)]:[3,2];case 1:E.sent(),E.label=2;case 2:return[2]}})},d=0,v=n,y.label=7;case 7:return d<v.length?(g=v[d],[5,h(g)]):[3,10];case 8:y.sent(),y.label=9;case 9:return d++,[3,7];case 10:return[2]}})})}function vE(e){var t=te(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=XD.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=L6.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=R6.bind(null,t),t.vo._r=_6.bind(null,t.eventManager),t.vo.Mo=w6.bind(null,t.eventManager),t}function gE(e){var t=te(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=N6.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=P6.bind(null,t),t}function H6(e,t,n){var r=te(e);(function(i,s,a){return k(this,void 0,void 0,function(){var c,l,h,d,v,g;return A(this,function(y){switch(y.label){case 0:return y.trys.push([0,14,,15]),[4,s.getMetadata()];case 1:return c=y.sent(),[4,function(w,E){var I=te(w),C=Jt(E.createTime);return I.persistence.runTransaction("hasNewerBundle","readonly",function(N){return I.Ke.getBundleMetadata(N,E.id)}).then(function(N){return!!N&&N.createTime.compareTo(C)>=0})}(i.localStore,c)];case 2:return y.sent()?[4,s.close()]:[3,4];case 3:return[2,(y.sent(),void a._completeWith(function(w){return{taskState:"Success",documentsLoaded:w.totalDocuments,bytesLoaded:w.totalBytes,totalDocuments:w.totalDocuments,totalBytes:w.totalBytes}}(c)))];case 4:return a._updateProgress(GD(c)),l=new E6(c,i.localStore,s.R),[4,s.Lo()];case 5:h=y.sent(),y.label=6;case 6:return h?[4,l.oo(h)]:[3,10];case 7:return(d=y.sent())&&a._updateProgress(d),[4,s.Lo()];case 8:h=y.sent(),y.label=9;case 9:return[3,6];case 10:return[4,l.complete()];case 11:return v=y.sent(),[4,io(i,v.wn,void 0)];case 12:return y.sent(),[4,function(w,E){var I=te(w);return I.persistence.runTransaction("Save bundle","readwrite",function(C){return I.Ke.saveBundleMetadata(C,E)})}(i.localStore,c)];case 13:return y.sent(),a._completeWith(v.progress),[3,15];case 14:return Jl("SyncEngine","Loading bundle failed with "+(g=y.sent())),a._failWith(g),[3,15];case 15:return[2]}})})})(r,t,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var eL=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return k(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return this.R=qf(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return OD(this.persistence,new PD,t.initialUser,this.R)},e.prototype.qo=function(t){return new Yz(Jz.bs,this.R)},e.prototype.Bo=function(t){return new UD},e.prototype.terminate=function(){return k(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),tL=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).Qo=n,s.cacheSizeBytes=r,s.forceOwnership=i,s.synchronizeTabs=!1,s}return ne(t,e),t.prototype.initialize=function(n){return k(this,void 0,void 0,function(){var r=this;return A(this,function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return i.sent(),[4,qz(this.localStore)];case 2:return i.sent(),[4,this.Qo.initialize(this,n)];case 3:return i.sent(),[4,gE(this.Qo.syncEngine)];case 4:return i.sent(),[4,cc(this.Qo.remoteStore)];case 5:return i.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return i.sent(),[2]}})})},t.prototype.Ko=function(n){return OD(this.persistence,new PD,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new Rz(r,n.asyncQueue)},t.prototype.qo=function(n){var r=tE(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?vi.withCacheSize(this.cacheSizeBytes):vi.DEFAULT;return new Lz(this.synchronizeTabs,r,n.clientId,i,n.asyncQueue,jD(),Ad(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new UD},t}(eL),K6=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r,!1)||this).Qo=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return ne(t,e),t.prototype.initialize=function(n){return k(this,void 0,void 0,function(){var r,i=this;return A(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof s_?(this.sharedClientState.syncEngine={ui:U6.bind(null,r),ai:B6.bind(null,r),hi:q6.bind(null,r),fn:V6.bind(null,r),ci:F6.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(a){return k(i,void 0,void 0,function(){return A(this,function(c){switch(c.label){case 0:return[4,j6(this.Qo.syncEngine,a)];case 1:return c.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var r=jD();if(!s_.yt(r))throw new K(x.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=tE(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new s_(r,n.asyncQueue,i,n.clientId,n.initialUser)},t}(tL),Mw=function(){function e(){}return e.prototype.initialize=function(t,n){return k(this,void 0,void 0,function(){var r=this;return A(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return mR(r.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=D6.bind(null,this.syncEngine),[4,Dw(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new y6},e.prototype.createDatastore=function(t){var n,r=qf(t.databaseInfo.databaseId),i=(n=t.databaseInfo,new r6(n));return function(s,a,c){return new s6(s,a,c)}(t.credentials,i,r)},e.prototype.createRemoteStore=function(t){var n,r,i,s,a,c=this;return n=this.localStore,r=this.datastore,i=t.asyncQueue,s=function(l){return mR(c.syncEngine,l,0)},a=pR.yt()?new pR:new e6,new u6(n,r,i,s,a)},e.prototype.createSyncEngine=function(t,n){return function(r,i,s,a,c,l,h){var d=new S6(r,i,s,a,c,l);return h&&(d.$o=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return k(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return n=te(t),X("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,uc(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(e,t){t===void 0&&(t=10240);var n=0;return{read:function(){return k(this,void 0,void 0,function(){var r;return A(this,function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]})})},cancel:function(){return k(this,void 0,void 0,function(){return A(this,function(r){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xv=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),W6=function(){function e(t,n){var r=this;this.Go=t,this.R=n,this.metadata=new kn,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(i){i&&i.io()?r.metadata.resolve(i.payload.metadata):r.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(i==null?void 0:i.payload)))},function(i){return r.metadata.reject(i)})}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return k(this,void 0,void 0,function(){return A(this,function(t){return[2,this.metadata.promise]})})},e.prototype.Lo=function(){return k(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},e.prototype.Ho=function(){return k(this,void 0,void 0,function(){var t,n,r,i;return A(this,function(s){switch(s.label){case 0:return[4,this.Jo()];case 1:return(t=s.sent())===null?[2,null]:(n=this.zo.decode(t),r=Number(n),isNaN(r)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(r)]);case 2:return i=s.sent(),[2,new b6(JSON.parse(i),t.length+r)]}})})},e.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},e.prototype.Jo=function(){return k(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),n)])}})})},e.prototype.Xo=function(t){return k(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:r.sent()&&this.Yo("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return n=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),n)]}})})},e.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},e.prototype.tc=function(){return k(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return[4,this.Go.read()];case 1:return(t=r.sent()).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),[2,t.done]}})})},e}(),$6=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return k(this,void 0,void 0,function(){var n,r=this;return A(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new K(x.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return k(this,void 0,void 0,function(){var c,l,h,d,v,g;return A(this,function(y){switch(y.label){case 0:return c=te(s),l=of(c.R)+"/documents",h={documents:a.map(function(w){return rf(c.R,w)})},[4,c.$i("BatchGetDocuments",l,h)];case 1:return d=y.sent(),v=new Map,d.forEach(function(w){var E=function(I,C){return"found"in C?function(N,O){we(!!O.found),O.found.name,O.found.updateTime;var L=bi(N,O.found.name),V=Jt(O.found.updateTime),F=new hr({mapValue:{fields:O.found.fields}});return gn.newFoundDocument(L,V,F)}(I,C):"missing"in C?function(N,O){we(!!O.missing),we(!!O.readTime);var L=bi(N,O.missing),V=Jt(O.readTime);return gn.newNoDocument(L,V)}(I,C):he()}(c.R,w);v.set(E.key.toString(),E)}),g=[],[2,(a.forEach(function(w){var E=v.get(w.toString());we(!!E),g.push(E)}),g)]}})})}(this.datastore,t)];case 1:return[2,((n=i.sent()).forEach(function(s){return r.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Bf(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return k(this,void 0,void 0,function(){var t,n=this;return A(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(i){t.delete(i.key.toString())}),t.forEach(function(i,s){var a=de.fromPath(s);n.mutations.push(new $0(a,n.precondition(a)))}),[4,function(i,s){return k(this,void 0,void 0,function(){var a,c,l;return A(this,function(h){switch(h.label){case 0:return a=te(i),c=of(a.R)+"/documents",l={writes:s.map(function(d){return pp(a.R,d)})},[4,a.Ni("Commit",c,l)];case 1:return h.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw he();n=Le.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new K(x.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?In.updateTime(n):In.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(Le.min()))throw new K(x.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return In.updateTime(n)}return In.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),G6=function(){function e(t,n,r,i){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new rE(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return k(t,void 0,void 0,function(){var n,r,i=this;return A(this,function(s){return n=new $6(this.datastore),(r=this.sc(n))&&r.then(function(a){i.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){i.deferred.resolve(a)}).catch(function(c){i.ic(c)})})}).catch(function(a){i.ic(a)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!_a(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!oD(n)}return!1},e}(),z6=function(){function e(t,n,r){var i=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=an.UNAUTHENTICATED,this.clientId=jx.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(s){return k(i,void 0,void 0,function(){return A(this,function(a){switch(a.label){case 0:return X("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return a.sent(),this.user=s,[2]}})})})}return e.prototype.getConfiguration=function(){return k(this,void 0,void 0,function(){return A(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new K(x.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new kn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return k(t,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=s.sent(),i=fc(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(e,t){return k(this,void 0,void 0,function(){var n,r,i=this;return A(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.initialUser,e.setCredentialChangeListener(function(a){return k(i,void 0,void 0,function(){return A(this,function(c){switch(c.label){case 0:return r.isEqual(a)?[3,2]:[4,xD(t.localStore,a)];case 1:c.sent(),r=a,c.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function rL(e,t){return k(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,mE(e)];case 1:return n=i.sent(),X("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener(function(s){return function(a,c){return k(this,void 0,void 0,function(){var l,h;return A(this,function(d){switch(d.label){case 0:return(l=te(a)).asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials"),h=es(l),l.Or.add(3),[4,uc(l)];case 1:return d.sent(),h&&l.Br.set("Unknown"),[4,l.remoteSyncer.handleCredentialChange(c)];case 2:return d.sent(),l.Or.delete(3),[4,Hf(l)];case 3:return d.sent(),[2]}})})}(t.remoteStore,s)}),e.onlineComponents=t,[2]}})})}function mE(e){return k(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(X("FirestoreClient","Using default OfflineComponentProvider"),[4,nL(e,new eL)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function Dv(e){return k(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(X("FirestoreClient","Using default OnlineComponentProvider"),[4,rL(e,new Mw)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function wR(e){return mE(e).then(function(t){return t.persistence})}function yE(e){return mE(e).then(function(t){return t.localStore})}function bR(e){return Dv(e).then(function(t){return t.remoteStore})}function _E(e){return Dv(e).then(function(t){return t.syncEngine})}function Hu(e){return k(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return[4,Dv(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=C6.bind(null,t.syncEngine),n.onUnlisten=A6.bind(null,t.syncEngine),n)]}})})}function ER(e,t,n){var r=this;n===void 0&&(n={});var i=new kn;return e.asyncQueue.enqueueAndForget(function(){return k(r,void 0,void 0,function(){var s;return A(this,function(a){switch(a.label){case 0:return s=function(c,l,h,d,v){var g=new xv({next:function(w){l.enqueueAndForget(function(){return uE(c,y)});var E=w.docs.has(h);!E&&w.fromCache?v.reject(new K(x.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&w.fromCache&&d&&d.source==="server"?v.reject(new K(x.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(w)},error:function(w){return v.reject(w)}}),y=new lE(sc(h.path),g,{includeMetadataChanges:!0,so:!0});return aE(c,y)},[4,Hu(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}function IR(e,t,n){var r=this;n===void 0&&(n={});var i=new kn;return e.asyncQueue.enqueueAndForget(function(){return k(r,void 0,void 0,function(){var s;return A(this,function(a){switch(a.label){case 0:return s=function(c,l,h,d,v){var g=new xv({next:function(w){l.enqueueAndForget(function(){return uE(c,y)}),w.fromCache&&d.source==="server"?v.reject(new K(x.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(w)},error:function(w){return v.reject(w)}}),y=new lE(h,g,{includeMetadataChanges:!0,so:!0});return aE(c,y)},[4,Hu(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}var Q6=function(e,t,n,r,i,s,a,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=c},wp=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),TR=new Map,iL=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},SR=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(an.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Y6=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var r=this;this.changeListener=n,t.enqueueRetryable(function(){return n(r.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),X6=function(){function e(t){var n=this;this.currentUser=an.UNAUTHENTICATED,this.oc=new kn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(i){X("FirebaseCredentialsProvider","Auth detected"),n.auth=i,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(i){return r(i)}),setTimeout(function(){if(!n.auth){var i=t.getImmediate({optional:!0});i?r(i):(X("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return t.cc!==n?(X("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):i?(we(typeof i.accessToken=="string"),new iL(i.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var r=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return k(r,void 0,void 0,function(){return A(this,function(i){switch(i.label){case 0:return[4,this.oc.promise];case 1:return i.sent(),[4,n(this.currentUser)];case 2:return i.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return we(t===null||typeof t=="string"),new an(t)},e}(),J6=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r,this.type="FirstParty",this.user=an.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),Z6=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r}return e.prototype.getToken=function(){return Promise.resolve(new J6(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(an.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(e,t,n){if(!n)throw new K(x.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function bE(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new K(x.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function oL(e,t,n,r){if(t===!0&&r===!0)throw new K(x.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function CR(e){if(!de.isDocumentKey(e))throw new K(x.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function AR(e){if(de.isDocumentKey(e))throw new K(x.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Lv(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":he()}function ze(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new K(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Lv(e);throw new K(x.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function kR(e,t){if(t<=0)throw new K(x.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RR=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new K(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new K(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,oL("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),af=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RR({}),this._settingsFrozen=!1,t instanceof wp?(this._databaseId=t,this._credentials=new SR):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new K(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wp(r.options.projectId)}(t),this._credentials=new X6(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new K(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new K(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RR(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new SR;switch(n.type){case"gapi":var r=n.client;return we(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Z6(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new K(x.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=TR.get(t))&&(X("ComponentProvider","Removing Datastore"),TR.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),bt=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Vo(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),tr=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Vo=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,sc(i))||this)._path=i,s.type="collection",s}return ne(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new bt(this.firestore,null,new de(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(tr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Ne(e),wE("collection","path",t),e instanceof af)return AR(n=Ye.fromString.apply(Ye,Oe([t],r))),new Vo(e,null,n);if(!(e instanceof bt||e instanceof Vo))throw new K(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return AR(n=Ye.fromString.apply(Ye,Oe([e.path],r)).child(Ye.fromString(t))),new Vo(e.firestore,null,n)}function kd(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Ne(e),arguments.length===1&&(t=jx.u()),wE("doc","path",t),e instanceof af)return CR(n=Ye.fromString.apply(Ye,Oe([t],r))),new bt(e,null,new de(n));if(!(e instanceof bt||e instanceof Vo))throw new K(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return CR(n=e._path.child(Ye.fromString.apply(Ye,Oe([t],r)))),new bt(e.firestore,e instanceof Vo?e.converter:null,new de(n))}function aL(e,t){return e=Ne(e),t=Ne(t),(e instanceof bt||e instanceof Vo)&&(t instanceof bt||t instanceof Vo)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function uL(e,t){return e=Ne(e),t=Ne(t),e instanceof tr&&t instanceof tr&&e.firestore===t.firestore&&Ff(e._query,t._query)&&e.converter===t.converter}var e5=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new rE(this,"async_queue_retry"),this.Ic=function(){var r=Ad();r&&X("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=Ad();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=Ad();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new kn;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return k(this,void 0,void 0,function(){var t,n=this;return A(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!wa(t=r.sent()))throw t;return X("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,r=this.dc.then(function(){return n.gc=!0,t().catch(function(i){throw n.yc=i,n.gc=!1,Ft("INTERNAL UNHANDLED ERROR: ",function(s){var a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i)),i}).then(function(i){return n.gc=!1,i})});return this.dc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var i=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var s=g6.createAndSchedule(this,t,n,r,function(a){return i.vc(a)});return this.mc.push(s),s},e.prototype.Ac=function(){this.yc&&he()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return k(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,c){return a.targetTimeMs-c.targetTimeMs});for(var r=0,i=n.mc;r<i.length;r++){var s=i[r];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function Ku(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,i=0,s=["next","error","complete"];i<s.length;i++){var a=s[i];if(a in r&&typeof r[a]=="function")return!0}return!1}(e)}var t5=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new kn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(t,n,r){this._progressObserver={next:t,error:n,complete:r}},e.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},e.prototype.then=function(t,n){return this._taskCompletionResolver.promise.then(t,n)},e.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},e.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},e.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},e}(),n5=-1,Ot=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).type="firestore",i._queue=new e5,i._persistenceKey="name"in n?n.name:"[DEFAULT]",i}return ne(t,e),t.prototype._terminate=function(){return this._firestoreClient||cL(this),this._firestoreClient.terminate()},t}(af);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(e){return e._firestoreClient||cL(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function cL(e){var t,n=e._freezeSettings(),r=function(i,s,a,c){return new Q6(i,s,a,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new z6(e._credentials,e._queue,r)}function NR(e,t,n){var r=this,i=new kn;return e.asyncQueue.enqueue(function(){return k(r,void 0,void 0,function(){var s;return A(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,nL(e,n)];case 1:return a.sent(),[4,rL(e,t)];case 2:return a.sent(),i.resolve(),[3,4];case 3:if(!function(c){return c.name==="FirebaseError"?c.code===x.FAILED_PRECONDITION||c.code===x.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&c instanceof DOMException)||c.code===22||c.code===20||c.code===11}(s=a.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function PR(e){if(e._initialized||e._terminated)throw new K(x.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ei=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new K(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ri(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),ca=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(Hn.fromBase64String(t))}catch(n){throw new K(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(Hn.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),Ea=function(e){this._methodName=e},Mv=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new K(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new K(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return Ve(this._lat,t._lat)||Ve(this._long,t._long)},e}(),r5=/^__.*__$/,i5=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new Zo(t,this.data,this.fieldMask,n,this.fieldTransforms):new Vf(t,this.data,n,this.fieldTransforms)},e}(),lL=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new Zo(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}var hL=function(){function e(t,n,r,i,s,a){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Cc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,Fc:!1});return i.$c(t),i},e.prototype.Oc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,Fc:!1});return i.Cc(),i},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return bp(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(fL(this.Nc)&&r5.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),o5=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||qf(t)}return e.prototype.Uc=function(t,n,r,i){return i===void 0&&(i=!1),new hL({Nc:t,methodName:n,qc:r,path:ri.emptyPath(),Fc:!1,Bc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Ia(e){var t=e._freezeSettings(),n=qf(e._databaseId);return new o5(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Fv(e,t,n,r,i,s){s===void 0&&(s={});var a=e.Uc(s.merge||s.mergeFields?2:0,t,n,i);SE("Data must be an object, but it was:",a,r);var c,l,h=vL(r,a);if(s.merge)c=new Ru(a.fieldMask),l=a.fieldTransforms;else if(s.mergeFields){for(var d=[],v=0,g=s.mergeFields;v<g.length;v++){var y=Fw(t,g[v],n);if(!a.contains(y))throw new K(x.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");mL(d,y)||d.push(y)}c=new Ru(d),l=a.fieldTransforms.filter(function(w){return c.covers(w.field)})}else c=null,l=a.fieldTransforms;return new i5(new hr(h),c,l)}var EE=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ne(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(Ea);function dL(e,t,n){return new hL({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var s5=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ne(t,e),t.prototype._toFieldTransform=function(n){return new jf(n.path,new xu)},t.prototype.isEqual=function(n){return n instanceof t},t}(Ea),a5=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return ne(t,e),t.prototype._toFieldTransform=function(n){var r=dL(this,n,!0),i=this.Kc.map(function(a){return Ta(a,r)}),s=new aa(i);return new jf(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Ea),u5=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return ne(t,e),t.prototype._toFieldTransform=function(n){var r=dL(this,n,!0),i=this.Kc.map(function(a){return Ta(a,r)}),s=new ua(i);return new jf(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Ea),c5=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Qc=r,i}return ne(t,e),t.prototype._toFieldTransform=function(n){var r=new Du(n.R,Zx(n.R,this.Qc));return new jf(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(Ea);function IE(e,t,n,r){var i=e.Uc(1,t,n);SE("Data must be an object, but it was:",i,r);var s=[],a=hr.empty();ya(r,function(l,h){var d=CE(t,l,n);h=Ne(h);var v=i.Oc(d);if(h instanceof EE)s.push(d);else{var g=Ta(h,v);g!=null&&(s.push(d),a.set(d,g))}});var c=new Ru(s);return new lL(a,c,i.fieldTransforms)}function TE(e,t,n,r,i,s){var a=e.Uc(1,t,n),c=[Fw(t,r,n)],l=[i];if(s.length%2!=0)throw new K(x.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<s.length;h+=2)c.push(Fw(t,s[h])),l.push(s[h+1]);for(var d=[],v=hr.empty(),g=c.length-1;g>=0;--g)if(!mL(d,c[g])){var y=c[g],w=l[g];w=Ne(w);var E=a.Oc(y);if(w instanceof EE)d.push(y);else{var I=Ta(w,E);I!=null&&(d.push(y),v.set(y,I))}}var C=new Ru(d);return new lL(v,C,a.fieldTransforms)}function pL(e,t,n,r){return r===void 0&&(r=!1),Ta(n,e.Uc(r?4:3,t))}function Ta(e,t){if(gL(e=Ne(e)))return SE("Unsupported field value:",t,e),vL(e,t);if(e instanceof Ea)return function(n,r){if(!fL(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,r){for(var i=[],s=0,a=0,c=n;a<c.length;a++){var l=Ta(c[a],r.Mc(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=Ne(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Zx(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=er.fromDate(n);return{timestampValue:nf(r.R,i)}}if(n instanceof er)return i=new er(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:nf(r.R,i)};if(n instanceof Mv)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ca)return{bytesValue:lD(r.R,n._byteString)};if(n instanceof bt){i=r.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(i))throw r.Lc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Q0(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+Lv(n))}(e,t)}function vL(e,t){var n={};return Bx(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ya(e,function(r,i){var s=Ta(i,t.kc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function gL(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof er||e instanceof Mv||e instanceof ca||e instanceof bt||e instanceof Ea)}function SE(e,t,n){if(!gL(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=Lv(n);throw r==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function Fw(e,t,n){if((t=Ne(t))instanceof Ei)return t._internalPath;if(typeof t=="string")return CE(e,t);throw bp("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var l5=new RegExp("[~\\*/\\[\\]]");function CE(e,t,n){if(t.search(l5)>=0)throw bp("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Ei.bind.apply(Ei,Oe([void 0],t.split("."))))()._internalPath}catch{throw bp("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function bp(e,t,n,r,i){var s=r&&!r.isEmpty(),a=i!==void 0,c="Function "+t+"() called with invalid data";n&&(c+=" (via `toFirestore()`)");var l="";return(s||a)&&(l+=" (found",s&&(l+=" in field "+r),a&&(l+=" in document "+i),l+=")"),new K(x.INVALID_ARGUMENT,(c+=". ")+e+l)}function mL(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uf=function(){function e(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new bt(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new f5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(Ep("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),f5=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ne(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(uf);function Ep(e,t){return typeof t=="string"?CE(e,t):t instanceof Ei?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bs=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),zi=function(e){function t(n,r,i,s,a,c){var l=this;return(l=e.call(this,n,r,i,s,c)||this)._firestore=n,l._firestoreImpl=n,l.metadata=a,l}return ne(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new Cl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var i=this._document.data.field(Ep("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},t}(uf),Cl=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ne(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(zi),Po=function(){function e(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Bs(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(i){t.call(n,new Cl(r._firestore,r._userDataWriter,i.key,i,new Bs(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var s=0;return r._snapshot.docChanges.map(function(c){return{type:"added",doc:new Cl(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Bs(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}})}var a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(c){return i||c.type!==3}).map(function(c){var l=new Cl(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Bs(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),h=-1,d=-1;return c.type!==0&&(h=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(d=(a=a.add(c.doc)).indexOf(c.doc.key)),{type:h5(c.type),doc:l,oldIndex:h,newIndex:d}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function h5(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}function yL(e,t){return e instanceof zi&&t instanceof zi?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Po&&t instanceof Po&&e._firestore===t._firestore&&uL(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(e){if(dp(e)&&e.explicitOrderBy.length===0)throw new K(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Kf=function(){};function bo(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var s=i[r];e=s._apply(e)}return e}var d5=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).jc=n,s.Wc=r,s.Gc=i,s.type="where",s}return ne(t,e),t.prototype._apply=function(n){var r=Ia(n.firestore),i=function(s,a,c,l,h,d,v){var g;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new K(x.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+d+"' queries on FieldPath.documentId().");if(d==="in"||d==="not-in"){MR(v,d);for(var y=[],w=0,E=v;w<E.length;w++){var I=E[w];y.push(LR(l,s,I))}g={arrayValue:{values:y}}}else g=LR(l,s,v)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||MR(v,d),g=pL(c,"where",v,d==="in"||d==="not-in");var C=pr.create(h,d,g);return function(N,O){if(O.g()){var L=K0(N);if(L!==null&&!L.isEqual(O.field))throw new K(x.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+L.toString()+"' and '"+O.field.toString()+"'");var V=H0(N);V!==null&&bL(N,O.field,V)}var F=function(G,M){for(var se=0,R=G.filters;se<R.length;se++){var Pe=R[se];if(M.indexOf(Pe.op)>=0)return Pe.op}return null}(N,function(G){switch(G){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(O.op));if(F!==null)throw F===O.op?new K(x.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+O.op.toString()+"' filter."):new K(x.INVALID_ARGUMENT,"Invalid query. You cannot use '"+O.op.toString()+"' filters with '"+F.toString()+"' filters.")}(s,C),C}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new tr(n.firestore,n.converter,function(s,a){var c=s.filters.concat([a]);return new ro(s.path,s.collectionGroup,s.explicitOrderBy.slice(),c,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,i))},t}(Kf),p5=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).jc=n,i.zc=r,i.type="orderBy",i}return ne(t,e),t.prototype._apply=function(n){var r=function(i,s,a){if(i.startAt!==null)throw new K(x.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new K(x.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var c=new pu(s,a);return function(l,h){if(H0(l)===null){var d=K0(l);d!==null&&bL(l,d,h.field)}}(i,c),c}(n._query,this.jc,this.zc);return new tr(n.firestore,n.converter,function(i,s){var a=i.explicitOrderBy.concat([s]);return new ro(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n._query,r))},t}(Kf),OR=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=i,s}return ne(t,e),t.prototype._apply=function(n){return new tr(n.firestore,n.converter,zx(n._query,this.Hc,this.Jc))},t}(Kf),xR=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=i,s}return ne(t,e),t.prototype._apply=function(n){var r=wL(n,this.type,this.Yc,this.Xc);return new tr(n.firestore,n.converter,function(i,s){return new ro(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(n._query,r))},t}(Kf),DR=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=i,s}return ne(t,e),t.prototype._apply=function(n){var r=wL(n,this.type,this.Yc,this.Xc);return new tr(n.firestore,n.converter,function(i,s){return new ro(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(n._query,r))},t}(Kf);function wL(e,t,n,r){if(n[0]=Ne(n[0]),n[0]instanceof uf)return function(s,a,c,l,h){if(!l)throw new K(x.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+c+"().");for(var d=[],v=0,g=Ou(s);v<g.length;v++){var y=g[v];if(y.field.isKeyField())d.push(lp(a,l.key));else{var w=l.data.field(y.field);if(V0(w))throw new K(x.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){var E=y.field.canonicalString();throw new K(x.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+E+"' (used as the orderBy) does not exist.")}d.push(w)}}return new tf(d,h)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Ia(e.firestore);return function(s,a,c,l,h,d){var v=s.explicitOrderBy;if(h.length>v.length)throw new K(x.INVALID_ARGUMENT,"Too many arguments provided to "+l+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var g=[],y=0;y<h.length;y++){var w=h[y];if(v[y].field.isKeyField()){if(typeof w!="string")throw new K(x.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+l+"(), but got a "+typeof w);if(!W0(s)&&w.indexOf("/")!==-1)throw new K(x.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+l+"() must be a plain document ID, but '"+w+"' contains a slash.");var E=s.path.child(Ye.fromString(w));if(!de.isDocumentKey(E))throw new K(x.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+l+"() must result in a valid document path, but '"+E+"' is not because it contains an odd number of segments.");var I=new de(E);g.push(lp(a,I))}else{var C=pL(c,l,w);g.push(C)}}return new tf(g,d)}(e._query,e.firestore._databaseId,i,t,n,r)}function LR(e,t,n){if(typeof(n=Ne(n))=="string"){if(n==="")throw new K(x.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!W0(t)&&n.indexOf("/")!==-1)throw new K(x.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Ye.fromString(n));if(!de.isDocumentKey(r))throw new K(x.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return lp(e,new de(r))}if(n instanceof bt)return lp(e,n._key);throw new K(x.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Lv(n)+".")}function MR(e,t){if(!Array.isArray(e)||e.length===0)throw new K(x.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new K(x.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function bL(e,t,n){if(!n.isEqual(t))throw new K(x.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AE=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),sa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Mt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Nu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw he()}},e.prototype.convertObject=function(t,n){var r=this,i={};return ya(t.fields,function(s,a){i[s]=r.convertValue(a,n)}),i},e.prototype.convertGeoPoint=function(t){return new Mv(Mt(t.latitude),Mt(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(i){return r.convertValue(i,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=Hx(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Zl(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=Go(t);return new er(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=Ye.fromString(t);we(_D(r));var i=new wp(r.get(1),r.get(3)),s=new de(r.popFirst(5));return i.isEqual(n)||Ft("Document "+s+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var v5=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return ne(t,e),t.prototype.convertBytes=function(n){return new ca(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new bt(this.firestore,null,r)},t}(AE),g5=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ia(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var i=Oo(t,this._firestore),s=Uv(i.converter,n,r),a=Fv(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,In.none())),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];this._verifyNotCommitted();var a,c=Oo(t,this._firestore);return a=typeof(n=Ne(n))=="string"||n instanceof Ei?TE(this._dataReader,"WriteBatch.update",c._key,n,r,i):IE(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(a.toMutation(c._key,In.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=Oo(t,this._firestore);return this._mutations=this._mutations.concat(new Bf(n._key,In.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new K(x.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(e,t){if((e=Ne(e)).firestore!==t)throw new K(x.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qs=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return ne(t,e),t.prototype.convertBytes=function(n){return new ca(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new bt(this.firestore,null,r)},t}(AE);function FR(e,t,n){e=ze(e,bt);var r=ze(e.firestore,Ot),i=Uv(e.converter,t,n);return Wf(r,[Fv(Ia(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,In.none())])}function UR(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=ze(e,bt);var s=ze(e.firestore,Ot),a=Ia(s);return Wf(s,[(typeof(t=Ne(t))=="string"||t instanceof Ei?TE(a,"updateDoc",e._key,t,n,r):IE(a,"updateDoc",e._key,t)).toMutation(e._key,In.exists(!0))])}function EL(e){for(var t,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];e=Ne(e);var a={includeMetadataChanges:!1},c=0;typeof i[c]!="object"||Ku(i[c])||(a=i[c],c++);var l,h,d,v={includeMetadataChanges:a.includeMetadataChanges};if(Ku(i[c])){var g=i[c];i[c]=(t=g.next)===null||t===void 0?void 0:t.bind(g),i[c+1]=(n=g.error)===null||n===void 0?void 0:n.bind(g),i[c+2]=(r=g.complete)===null||r===void 0?void 0:r.bind(g)}if(e instanceof bt)h=ze(e.firestore,Ot),d=sc(e._key.path),l={next:function(E){i[c]&&i[c](Uw(h,e,E))},error:i[c+1],complete:i[c+2]};else{var y=ze(e,tr);h=ze(y.firestore,Ot),d=y._query;var w=new Qs(h);l={next:function(E){i[c]&&i[c](new Po(h,w,y,E))},error:i[c+1],complete:i[c+2]},_L(e._query)}return function(E,I,C,N){var O=this,L=new xv(N),V=new lE(I,L,C);return E.asyncQueue.enqueueAndForget(function(){return k(O,void 0,void 0,function(){var F;return A(this,function(G){switch(G.label){case 0:return F=aE,[4,Hu(E)];case 1:return[2,F.apply(void 0,[G.sent(),V])]}})})}),function(){L.Wo(),E.asyncQueue.enqueueAndForget(function(){return k(O,void 0,void 0,function(){var F;return A(this,function(G){switch(G.label){case 0:return F=uE,[4,Hu(E)];case 1:return[2,F.apply(void 0,[G.sent(),V])]}})})})}}(Yt(h),d,v,l)}function Wf(e,t){return function(n,r){var i=this,s=new kn;return n.asyncQueue.enqueueAndForget(function(){return k(i,void 0,void 0,function(){var a;return A(this,function(c){switch(c.label){case 0:return a=k6,[4,_E(n)];case 1:return[2,a.apply(void 0,[c.sent(),r,s])]}})})}),s.promise}(Yt(e),t)}function Uw(e,t,n){var r=n.docs.get(t._key),i=new Qs(e);return new zi(e,i,t._key,r,new Bs(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m5=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this)._firestore=n,i}return ne(t,e),t.prototype.get=function(n){var r=this,i=Oo(n,this._firestore),s=new Qs(this._firestore);return e.prototype.get.call(this,n).then(function(a){return new zi(r._firestore,s,i._key,a._document,new Bs(!1,!1),i.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=Ia(t)}return e.prototype.get=function(t){var n=this,r=Oo(t,this._firestore),i=new v5(this._firestore);return this._transaction.lookup([r._key]).then(function(s){if(!s||s.length!==1)return he();var a=s[0];if(a.isFoundDocument())return new uf(n._firestore,i,a.key,a,r.converter);if(a.isNoDocument())return new uf(n._firestore,i,r._key,null,r.converter);throw he()})},e.prototype.set=function(t,n,r){var i=Oo(t,this._firestore),s=Uv(i.converter,n,r),a=Fv(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,a),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var a,c=Oo(t,this._firestore);return a=typeof(n=Ne(n))=="string"||n instanceof Ei?TE(this._dataReader,"Transaction.update",c._key,n,r,i):IE(this._dataReader,"Transaction.update",c._key,n),this._transaction.update(c._key,a),this},e.prototype.delete=function(t){var n=Oo(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(){if(typeof Uint8Array=="undefined")throw new K(x.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function VR(){if(typeof atob=="undefined")throw new K(x.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var IL=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return VR(),new e(ca.fromBase64String(t))},e.fromUint8Array=function(t){return jR(),new e(ca.fromUint8Array(t))},e.prototype.toBase64=function(){return VR(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return jR(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),y5=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,i){PR(r=ze(r,Ot));var s=Yt(r),a=r._freezeSettings(),c=new Mw;return NR(s,c,new tL(c,a.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){PR(n=ze(n,Ot));var r=Yt(n),i=n._freezeSettings(),s=new Mw;return NR(r,s,new K6(s,i.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new K(x.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new kn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return k(r,void 0,void 0,function(){var s;return A(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(c){return k(this,void 0,void 0,function(){var l;return A(this,function(h){switch(h.label){case 0:return Fu.yt()?(l=c+"main",[4,Fu.delete(l)]):[2,Promise.resolve()];case 1:return h.sent(),[2]}})})}(tE(n._databaseId,n._persistenceKey))];case 1:return a.sent(),i.resolve(),[3,3];case 2:return s=a.sent(),i.reject(s),[3,3];case 3:return[2]}})})}),i.promise}(t._delegate)},e}(),kE=function(){function e(t,n,r){var i=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof wp||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||Jl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(i,s,a,c){var l;c===void 0&&(c={});var h=(i=ze(i,af))._getSettings();if(h.host!=="firestore.googleapis.com"&&h.host!==s&&Jl("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},h),{host:s+":"+a,ssl:!1})),c.mockUserToken){var d,v;if(typeof c.mockUserToken=="string")d=c.mockUserToken,v=an.MOCK_USER;else{d=Ab(c.mockUserToken,(l=i._app)===null||l===void 0?void 0:l.options.projectId);var g=c.mockUserToken.sub||c.mockUserToken.user_id;if(!g)throw new K(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new an(g)}i._credentials=new Y6(new iL(d,v))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return k(n,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return[4,wR(t)];case 1:return r=s.sent(),[4,bR(t)];case 2:return i=s.sent(),[2,(r.setNetworkEnabled(!0),function(a){var c=te(a);return c.Or.delete(0),Hf(c)}(i))]}})})})}(Yt(ze(this._delegate,Ot)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return k(n,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return[4,wR(t)];case 1:return r=s.sent(),[4,bR(t)];case 2:return i=s.sent(),[2,(r.setNetworkEnabled(!1),function(a){return k(this,void 0,void 0,function(){var c;return A(this,function(l){switch(l.label){case 0:return(c=te(a)).Or.add(0),[4,uc(c)];case 1:return l.sent(),c.Br.set("Offline"),[2]}})})}(i))]}})})})}(Yt(ze(this._delegate,Ot)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&oL("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new kn;return t.asyncQueue.enqueueAndForget(function(){return k(n,void 0,void 0,function(){var i;return A(this,function(s){switch(s.label){case 0:return i=O6,[4,_E(t)];case 1:return[2,i.apply(void 0,[s.sent(),r])]}})})}),r.promise}(Yt(ze(this._delegate,Ot)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(i,s){var a=this,c=new xv(s);return i.asyncQueue.enqueueAndForget(function(){return k(a,void 0,void 0,function(){var l;return A(this,function(h){switch(h.label){case 0:return l=function(d,v){te(d).Gr.add(v),v.next()},[4,Hu(i)];case 1:return[2,l.apply(void 0,[h.sent(),c])]}})})}),function(){c.Wo(),i.asyncQueue.enqueueAndForget(function(){return k(a,void 0,void 0,function(){var l;return A(this,function(h){switch(h.label){case 0:return l=function(d,v){te(d).Gr.delete(v)},[4,Hu(i)];case 1:return[2,l.apply(void 0,[h.sent(),c])]}})})})}}(Yt(n=ze(n,Ot)),Ku(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new K(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Ip(this,sL(this._delegate,t))}catch(n){throw Fn(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Ys(this,kd(this._delegate,t))}catch(n){throw Fn(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new $f(this,function(n,r){if(n=ze(n,af),wE("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new K(x.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new tr(n,null,function(i){return new ro(Ye.emptyPath(),i)}(r))}(this._delegate,t))}catch(n){throw Fn(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,i){return function(s,a){var c=this,l=new kn;return s.asyncQueue.enqueueAndForget(function(){return k(c,void 0,void 0,function(){var h;return A(this,function(d){switch(d.label){case 0:return[4,function(v){return Dv(v).then(function(g){return g.datastore})}(s)];case 1:return h=d.sent(),new G6(s.asyncQueue,h,a,l).run(),[2]}})})}),l.promise}(Yt(r),function(s){return i(new m5(r,s))})}(this._delegate,function(r){return t(new TL(n,r))})},e.prototype.batch=function(){var t=this;return Yt(this._delegate),new SL(new g5(this._delegate,function(n){return Wf(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new K(x.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new K(x.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),jv=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return ne(t,e),t.prototype.convertBytes=function(n){return new IL(new ca(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return Ys.eu(r,this.firestore,null)},t}(AE);function _5(e){var t;t=e,ti.setLogLevel(t)}var TL=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new jv(t)}return e.prototype.get=function(t){var n=this,r=qs(t);return this._delegate.get(r).then(function(i){return new cf(n._firestore,new zi(n._firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,r.converter))})},e.prototype.set=function(t,n,r){var i=qs(t);return r?(bE("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var c=qs(t);return arguments.length===2?this._delegate.update(c,n):(i=this._delegate).update.apply(i,Oe([c,n,r],s)),this},e.prototype.delete=function(t){var n=qs(t);return this._delegate.delete(n),this},e}(),SL=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var i=qs(t);return r?(bE("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var c=qs(t);return arguments.length===2?this._delegate.update(c,n):(i=this._delegate).update.apply(i,Oe([c,n,r],s)),this},e.prototype.delete=function(t){var n=qs(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Vv=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new Cl(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new lf(this._firestore,r),n!=null?n:{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var s=i.get(n);return s||(s=new e(t,new jv(t),n),i.set(n,s)),s},e}();Vv.su=new WeakMap;var Ys=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new jv(t)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new K(x.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new bt(n._delegate,r,new de(t)))},e.eu=function(t,n,r){return new e(n,new bt(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Ip(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Ip(this.firestore,sL(this._delegate,t))}catch(n){throw Fn(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=Ne(t))instanceof bt&&aL(this._delegate,t)},e.prototype.set=function(t,n){n=bE("DocumentReference.set",n);try{return n?FR(this._delegate,t,n):FR(this._delegate,t)}catch(r){throw Fn(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return arguments.length===1?UR(this._delegate,t):UR.apply(void 0,Oe([this._delegate,t,n],r))}catch(s){throw Fn(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Wf(ze((t=this._delegate).firestore,Ot),[new Bf(t._key,In.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=CL(n),s=AL(n,function(a){return new cf(t.firestore,new zi(t.firestore._delegate,t._userDataWriter,a._key,a._document,a.metadata,t._delegate.converter))});return EL(this._delegate,i,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=ze(r,bt);var i=ze(r.firestore,Ot),s=Yt(i),a=new Qs(i);return function(c,l){var h=this,d=new kn;return c.asyncQueue.enqueueAndForget(function(){return k(h,void 0,void 0,function(){var v;return A(this,function(g){switch(g.label){case 0:return v=function(y,w,E){return k(this,void 0,void 0,function(){var I,C;return A(this,function(N){switch(N.label){case 0:return N.trys.push([0,2,,3]),[4,function(O,L){var V=te(O);return V.persistence.runTransaction("read document","readonly",function(F){return V.Mn.mn(F,L)})}(y,w)];case 1:return(C=N.sent()).isFoundDocument()?E.resolve(C):C.isNoDocument()?E.resolve(null):E.reject(new K(x.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return I=N.sent(),C=fc(I,"Failed to get document '"+w+" from cache"),E.reject(C),[3,3];case 3:return[2]}})})},[4,yE(c)];case 1:return[2,v.apply(void 0,[g.sent(),l,d])]}})})}),d.promise}(s,r._key).then(function(c){return new zi(i,a,r._key,c,new Bs(c!==null&&c.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=ze(r,bt);var i=ze(r.firestore,Ot);return ER(Yt(i),r._key,{source:"server"}).then(function(s){return Uw(i,r,s)})}(this._delegate):function(r){r=ze(r,bt);var i=ze(r.firestore,Ot);return ER(Yt(i),r._key).then(function(s){return Uw(i,r,s)})}(this._delegate)).then(function(r){return new cf(n.firestore,new zi(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Vv.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Fn(e,t,n){return e.message=e.message.replace(t,n),e}function CL(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!Ku(r))return r}return{}}function AL(e,t){var n,r,i;return{next:function(s){i.next&&i.next(t(s))},error:(n=(i=Ku(e[0])?e[0]:Ku(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var cf=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Ys(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return yL(this._delegate,t._delegate)},e}(),lf=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ne(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(cf),$f=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new jv(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,bo(this._delegate,function(i,s,a){var c=s,l=Ep("where",i);return new d5(l,c,a)}(t,n,r)))}catch(i){throw Fn(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,bo(this._delegate,function(r,i){i===void 0&&(i="asc");var s=i,a=Ep("orderBy",r);return new p5(a,s)}(t,n)))}catch(r){throw Fn(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,bo(this._delegate,function(n){return kR("limit",n),new OR("limit",n,"F")}(t)))}catch(n){throw Fn(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,bo(this._delegate,function(n){return kR("limitToLast",n),new OR("limitToLast",n,"L")}(t)))}catch(n){throw Fn(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,bo(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new xR("startAt",r,!0)}.apply(void 0,t)))}catch(r){throw Fn(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,bo(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new xR("startAfter",r,!1)}.apply(void 0,t)))}catch(r){throw Fn(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,bo(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new DR("endBefore",r,!0)}.apply(void 0,t)))}catch(r){throw Fn(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,bo(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new DR("endAt",r,!1)}.apply(void 0,t)))}catch(r){throw Fn(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return uL(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=ze(r,tr);var i=ze(r.firestore,Ot),s=Yt(i),a=new Qs(i);return function(c,l){var h=this,d=new kn;return c.asyncQueue.enqueueAndForget(function(){return k(h,void 0,void 0,function(){var v;return A(this,function(g){switch(g.label){case 0:return v=function(y,w,E){return k(this,void 0,void 0,function(){var I,C,N,O,L;return A(this,function(V){switch(V.label){case 0:return V.trys.push([0,2,,3]),[4,mp(y,w,!0)];case 1:return L=V.sent(),I=new YD(w,L.Bn),C=I._o(L.documents),N=I.applyChanges(C,!1),E.resolve(N.snapshot),[3,3];case 2:return O=V.sent(),L=fc(O,"Failed to execute query '"+w+" against cache"),E.reject(L),[3,3];case 3:return[2]}})})},[4,yE(c)];case 1:return[2,v.apply(void 0,[g.sent(),l,d])]}})})}),d.promise}(s,r._query).then(function(c){return new Po(i,a,r,c)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=ze(r,tr);var i=ze(r.firestore,Ot),s=Yt(i),a=new Qs(i);return IR(s,r._query,{source:"server"}).then(function(c){return new Po(i,a,r,c)})}(this._delegate):function(r){r=ze(r,tr);var i=ze(r.firestore,Ot),s=Yt(i),a=new Qs(i);return _L(r._query),IR(s,r._query).then(function(c){return new Po(i,a,r,c)})}(this._delegate)).then(function(r){return new jw(n.firestore,new Po(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=CL(n),s=AL(n,function(a){return new jw(t.firestore,new Po(t.firestore._delegate,t._userDataWriter,t._delegate,a._snapshot))});return EL(this._delegate,i,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Vv.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),w5=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new lf(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),jw=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new $f(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new lf(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new w5(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(i){t.call(n,new lf(r._firestore,i))})},e.prototype.isEqual=function(t){return yL(this._delegate,t._delegate)},e}(),Ip=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).firestore=n,i._delegate=r,i}return ne(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Ys(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new Ys(this.firestore,n===void 0?kd(this._delegate):kd(this._delegate,n))}catch(r){throw Fn(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(i,s){var a=ze(i.firestore,Ot),c=kd(i),l=Uv(i.converter,s);return Wf(a,[Fv(Ia(i.firestore),"addDoc",c._key,l,i.converter!==null,{}).toMutation(c._key,In.exists(!1))]).then(function(){return c})}(this._delegate,n).then(function(i){return new Ys(r.firestore,i)})},t.prototype.isEqual=function(n){return aL(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Vv.nu(this.firestore,n)):this._delegate.withConverter(null))},t}($f);function qs(e){return ze(e,bt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var b5=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(Ei.bind.apply(Ei,Oe([void 0],t)))}return e.documentId=function(){return new e(ri.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=Ne(t))instanceof Ei&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),E5=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new s5("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new EE("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new a5("arrayUnion",i)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new u5("arrayRemove",i)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new c5("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I5(e){return function(t,n){var r=Yt(t=ze(t,Ot)),i=new t5;return function(s,a,c,l){var h=this,d=function(v,g){return function(y,w){return new W6(y,w)}(function(y,w){if(y instanceof Uint8Array)return _R(y,w);if(y instanceof ArrayBuffer)return _R(new Uint8Array(y),w);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(typeof v=="string"?new TextEncoder().encode(v):v),g)}(c,qf(a));s.asyncQueue.enqueueAndForget(function(){return k(h,void 0,void 0,function(){var v;return A(this,function(g){switch(g.label){case 0:return v=H6,[4,_E(s)];case 1:return v.apply(void 0,[g.sent(),d,l]),[2]}})})})}(r,t._databaseId,n,i),i}(this._delegate,e)}function T5(e){var t,n,r=this;return(t=this._delegate,n=e,function(i,s){var a=this;return i.asyncQueue.enqueue(function(){return k(a,void 0,void 0,function(){var c;return A(this,function(l){switch(l.label){case 0:return c=function(h,d){var v=te(h);return v.persistence.runTransaction("Get named query","readonly",function(g){return v.Ke.getNamedQuery(g,d)})},[4,yE(i)];case 1:return[2,c.apply(void 0,[l.sent(),s])]}})})})}(Yt(t=ze(t,Ot)),n).then(function(i){return i?new tr(t,null,i.query):null})).then(function(i){return i?new $f(r,i):null})}var S5={Firestore:kE,GeoPoint:Mv,Timestamp:er,Blob:IL,Transaction:TL,WriteBatch:SL,DocumentReference:Ys,DocumentSnapshot:cf,Query:$f,QueryDocumentSnapshot:lf,QuerySnapshot:jw,CollectionReference:Ip,FieldPath:b5,FieldValue:E5,setLogLevel:_5,CACHE_SIZE_UNLIMITED:n5};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C5(e){(function(t,n){t.INTERNAL.registerComponent(new An("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},S5)))})(e,function(t,n){return new kE(t,new Ot(t,n),new y5)}),e.registerVersion("@firebase/firestore","2.4.1")}C5(le);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(e){e.prototype.loadBundle=I5,e.prototype.namedQuery=T5}A5(kE);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BR={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},vu=function(e){ne(t,e);function t(n,r,i){var s=e.call(this,r)||this;return Object.setPrototypeOf(s,t.prototype),s.code=n,s.details=i,s}return t}(Error);function k5(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function R5(e,t,n){var r=k5(e),i=r,s=void 0;try{var a=t&&t.error;if(a){var c=a.status;if(typeof c=="string"){if(!BR[c])return new vu("internal","internal");r=BR[c],i=c}var l=a.message;typeof l=="string"&&(i=l),s=a.details,s!==void 0&&(s=n.decode(s))}}catch{}return r==="ok"?null:new vu(r,i,s)}var N5=function(){function e(t,n){var r=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(function(i){return r.auth=i},function(){}),this.messaging||n.get().then(function(i){return r.messaging=i},function(){})}return e.prototype.getAuthToken=function(){return k(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:if(!this.auth)return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return t=n.sent(),t?[2,t.accessToken]:[2,void 0];case 3:return n.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getInstanceIdToken=function(){return k(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:if(!this.messaging||!("Notification"in self)||Notification.permission!=="granted")return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getContext=function(){return k(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return[4,this.getAuthToken()];case 1:return t=r.sent(),[4,this.getInstanceIdToken()];case 2:return n=r.sent(),[2,{authToken:t,instanceIdToken:n}]}})})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P5="type.googleapis.com/google.protobuf.Int64Value",O5="type.googleapis.com/google.protobuf.UInt64Value";function qR(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var x5=function(){function e(){}return e.prototype.encode=function(t){var n=this;if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(function(r){return n.encode(r)});if(typeof t=="function"||typeof t=="object")return qR(t,function(r){return n.encode(r)});throw new Error("Data cannot be encoded in JSON: "+t)},e.prototype.decode=function(t){var n=this;if(t==null)return t;if(t["@type"])switch(t["@type"]){case P5:case O5:{var r=Number(t.value);if(isNaN(r))throw new Error("Data cannot be decoded from JSON: "+t);return r}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(i){return n.decode(i)}):typeof t=="function"||typeof t=="object"?qR(t,function(i){return n.decode(i)}):t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D5(e){var t,n=new Promise(function(r,i){t=setTimeout(function(){i(new vu("deadline-exceeded","deadline-exceeded"))},e)});return{timer:t,promise:n}}var HR=function(){function e(t,n,r,i,s,a){var c=this;s===void 0&&(s="us-central1"),this.app_=t,this.appCheckProvider=i,this.fetchImpl=a,this.serializer=new x5,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(c.deleteService())}},this.contextProvider=new N5(n,r),this.cancelAllRequests=new Promise(function(h){c.deleteService=function(){return h()}});try{var l=new URL(s);this.customDomain=l.origin,this.region="us-central1"}catch{this.customDomain=null,this.region=s}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(t){var n=this.app_.options.projectId;if(this.emulatorOrigin!==null){var r=this.emulatorOrigin;return r+"/"+n+"/"+this.region+"/"+t}return this.customDomain!==null?this.customDomain+"/"+t:"https://"+this.region+"-"+n+".cloudfunctions.net/"+t},e.prototype.useEmulator=function(t,n){this.emulatorOrigin="http://"+t+":"+n},e.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},e.prototype.httpsCallable=function(t,n){var r=this;return function(i){return r.call(t,i,n||{})}},e.prototype.postJSON=function(t,n,r){return k(this,void 0,void 0,function(){var i,s,a;return A(this,function(c){switch(c.label){case 0:return r["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:i=c.sent(),i!==null&&(r["X-Firebase-AppCheck"]=i),c.label=2;case 2:return c.trys.push([2,4,,5]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(n),headers:r})];case 3:return s=c.sent(),[3,5];case 4:return c.sent(),[2,{status:0,json:null}];case 5:a=null,c.label=6;case 6:return c.trys.push([6,8,,9]),[4,s.json()];case 7:return a=c.sent(),[3,9];case 8:return c.sent(),[3,9];case 9:return[2,{status:s.status,json:a}]}})})},e.prototype.getAppCheckToken=function(){return k(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return t=this.appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype.call=function(t,n,r){return k(this,void 0,void 0,function(){var i,s,a,c,l,h,d,v,g,y,w,E;return A(this,function(I){switch(I.label){case 0:return i=this._url(t),n=this.serializer.encode(n),s={data:n},a={},[4,this.contextProvider.getContext()];case 1:return c=I.sent(),c.authToken&&(a.Authorization="Bearer "+c.authToken),c.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=c.instanceIdToken),l=r.timeout||7e4,h=D5(l),d=h.timer,v=h.promise,[4,Promise.race([KR(d,this.postJSON(i,s,a)),v,KR(d,this.cancelAllRequests)])];case 2:if(g=I.sent(),!g)throw new vu("cancelled","Firebase Functions instance was deleted.");if(y=R5(g.status,g.json,this.serializer),y)throw y;if(!g.json)throw new vu("internal","Response is not valid JSON object.");if(w=g.json.data,typeof w=="undefined"&&(w=g.json.result),typeof w=="undefined")throw new vu("internal","Response is missing data field.");return E=this.serializer.decode(w),[2,{data:E}]}})})},e}();function KR(e,t){return k(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var L5="functions";function M5(e,t){var n={Functions:HR};function r(i,s){var a=s.instanceIdentifier,c=i.getProvider("app").getImmediate(),l=i.getProvider("auth-internal"),h=i.getProvider("app-check-internal"),d=i.getProvider("messaging");return new HR(c,l,d,h,a,t)}e.INTERNAL.registerComponent(new An(L5,r,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}var F5="@firebase/functions",U5="0.6.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */M5(le,fetch.bind(self));le.registerVersion(F5,U5);function j5(e){return Array.prototype.slice.call(e)}function kL(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function Bv(e,t,n){var r,i=new Promise(function(s,a){r=e[t].apply(e,n),kL(r).then(s,a)});return i.request=r,i}function V5(e,t,n){var r=Bv(e,t,n);return r.then(function(i){if(!!i)return new ff(i,r.request)})}function hc(e,t,n){n.forEach(function(r){Object.defineProperty(e.prototype,r,{get:function(){return this[t][r]},set:function(i){this[t][r]=i}})})}function RE(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return Bv(this[t],i,arguments)})})}function qv(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return this[t][i].apply(this[t],arguments)})})}function RL(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return V5(this[t],i,arguments)})})}function Sa(e){this._index=e}hc(Sa,"_index",["name","keyPath","multiEntry","unique"]);RE(Sa,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);RL(Sa,"_index",IDBIndex,["openCursor","openKeyCursor"]);function ff(e,t){this._cursor=e,this._request=t}hc(ff,"_cursor",["direction","key","primaryKey","value"]);RE(ff,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(ff.prototype[e]=function(){var t=this,n=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,n),kL(t._request).then(function(r){if(!!r)return new ff(r,t._request)})})})});function Pi(e){this._store=e}Pi.prototype.createIndex=function(){return new Sa(this._store.createIndex.apply(this._store,arguments))};Pi.prototype.index=function(){return new Sa(this._store.index.apply(this._store,arguments))};hc(Pi,"_store",["name","keyPath","indexNames","autoIncrement"]);RE(Pi,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);RL(Pi,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);qv(Pi,"_store",IDBObjectStore,["deleteIndex"]);function Gf(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}Gf.prototype.objectStore=function(){return new Pi(this._tx.objectStore.apply(this._tx,arguments))};hc(Gf,"_tx",["objectStoreNames","mode"]);qv(Gf,"_tx",IDBTransaction,["abort"]);function Hv(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new Gf(n)}Hv.prototype.createObjectStore=function(){return new Pi(this._db.createObjectStore.apply(this._db,arguments))};hc(Hv,"_db",["name","version","objectStoreNames"]);qv(Hv,"_db",IDBDatabase,["deleteObjectStore","close"]);function Kv(e){this._db=e}Kv.prototype.transaction=function(){return new Gf(this._db.transaction.apply(this._db,arguments))};hc(Kv,"_db",["name","version","objectStoreNames"]);qv(Kv,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(e){[Pi,Sa].forEach(function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var n=j5(arguments),r=n[n.length-1],i=this._store||this._index,s=i[e].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})});[Sa,Pi].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(t,n){var r=this,i=[];return new Promise(function(s){r.iterateCursor(t,function(a){if(!a){s(i);return}if(i.push(a.value),n!==void 0&&i.length==n){s(i);return}a.continue()})})})});function NE(e,t,n){var r=Bv(indexedDB,"open",[e,t]),i=r.request;return i&&(i.onupgradeneeded=function(s){n&&n(new Hv(i.result,s.oldVersion,i.transaction))}),r.then(function(s){return new Kv(s)})}function a_(e){return Bv(indexedDB,"deleteDatabase",[e])}var B5="@firebase/installations",NL="0.4.32";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PL=1e4,OL="w:"+NL,xL="FIS_v2",q5="https://firebaseinstallations.googleapis.com/v1",H5=60*60*1e3,K5="installations",W5="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Eo,$5=(Eo={},Eo["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Eo["not-registered"]="Firebase Installation is not registered.",Eo["installation-not-found"]="Firebase Installation not found.",Eo["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Eo["app-offline"]="Could not process request. Application offline.",Eo["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Eo),Zi=new no(K5,W5,$5);function DL(e){return e instanceof Ju&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(e){var t=e.projectId;return q5+"/projects/"+t+"/installations"}function LL(e){return{token:e.token,requestStatus:2,expiresIn:G5(e.expiresIn),creationTime:Date.now()}}function OE(e,t){return k(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,Zi.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function ML(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function FL(e,t){var n=t.refreshToken,r=ML(e);return r.append("Authorization",z5(n)),r}function xE(e){return k(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return[4,e()];case 1:return t=n.sent(),t.status>=500&&t.status<600?[2,e()]:[2,t]}})})}function G5(e){return Number(e.replace("s","000"))}function z5(e){return xL+" "+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q5(e,t){var n=t.fid;return k(this,void 0,void 0,function(){var r,i,s,a,c,l,h;return A(this,function(d){switch(d.label){case 0:return r=PE(e),i=ML(e),s={fid:n,authVersion:xL,appId:e.appId,sdkVersion:OL},a={method:"POST",headers:i,body:JSON.stringify(s)},[4,xE(function(){return fetch(r,a)})];case 1:return c=d.sent(),c.ok?[4,c.json()]:[3,3];case 2:return l=d.sent(),h={fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:LL(l.authToken)},[2,h];case 3:return[4,OE("Create Installation",c)];case 4:throw d.sent()}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y5(e){var t=btoa(String.fromCharCode.apply(String,Oe([],ln(e))));return t.replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X5=/^[cdef][\w-]{21}$/,Vw="";function J5(){try{var e=new Uint8Array(17),t=self.crypto||self.msCrypto;t.getRandomValues(e),e[0]=112+e[0]%16;var n=Z5(e);return X5.test(n)?n:Vw}catch{return Vw}}function Z5(e){var t=Y5(e);return t.substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(e){return e.appName+"!"+e.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wu=new Map;function jL(e,t){var n=dc(e);VL(n,t),nQ(n,t)}function eQ(e,t){BL();var n=dc(e),r=Wu.get(n);r||(r=new Set,Wu.set(n,r)),r.add(t)}function tQ(e,t){var n=dc(e),r=Wu.get(n);!r||(r.delete(t),r.size===0&&Wu.delete(n),qL())}function VL(e,t){var n,r,i=Wu.get(e);if(!!i)try{for(var s=Zt(i),a=s.next();!a.done;a=s.next()){var c=a.value;c(t)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}function nQ(e,t){var n=BL();n&&n.postMessage({key:e,fid:t}),qL()}var Hs=null;function BL(){return!Hs&&"BroadcastChannel"in self&&(Hs=new BroadcastChannel("[Firebase] FID Change"),Hs.onmessage=function(e){VL(e.data.key,e.data.fid)}),Hs}function qL(){Wu.size===0&&Hs&&(Hs.close(),Hs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rQ="firebase-installations-database",iQ=1,la="firebase-installations-store",u_=null;function DE(){return u_||(u_=NE(rQ,iQ,function(e){switch(e.oldVersion){case 0:e.createObjectStore(la)}})),u_}function Tp(e,t){return k(this,void 0,void 0,function(){var n,r,i,s,a;return A(this,function(c){switch(c.label){case 0:return n=dc(e),[4,DE()];case 1:return r=c.sent(),i=r.transaction(la,"readwrite"),s=i.objectStore(la),[4,s.get(n)];case 2:return a=c.sent(),[4,s.put(t,n)];case 3:return c.sent(),[4,i.complete];case 4:return c.sent(),(!a||a.fid!==t.fid)&&jL(e,t.fid),[2,t]}})})}function LE(e){return k(this,void 0,void 0,function(){var t,n,r;return A(this,function(i){switch(i.label){case 0:return t=dc(e),[4,DE()];case 1:return n=i.sent(),r=n.transaction(la,"readwrite"),[4,r.objectStore(la).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function zf(e,t){return k(this,void 0,void 0,function(){var n,r,i,s,a,c;return A(this,function(l){switch(l.label){case 0:return n=dc(e),[4,DE()];case 1:return r=l.sent(),i=r.transaction(la,"readwrite"),s=i.objectStore(la),[4,s.get(n)];case 2:return a=l.sent(),c=t(a),c!==void 0?[3,4]:[4,s.delete(n)];case 3:return l.sent(),[3,6];case 4:return[4,s.put(c,n)];case 5:l.sent(),l.label=6;case 6:return[4,i.complete];case 7:return l.sent(),c&&(!a||a.fid!==c.fid)&&jL(e,c.fid),[2,c]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(e){return k(this,void 0,void 0,function(){var t,n,r;return A(this,function(i){switch(i.label){case 0:return[4,zf(e,function(s){var a=oQ(s),c=sQ(e,a);return t=c.registrationPromise,c.installationEntry})];case 1:return n=i.sent(),n.fid!==Vw?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}})})}function oQ(e){var t=e||{fid:J5(),registrationStatus:0};return HL(t)}function sQ(e,t){if(t.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(Zi.create("app-offline"));return{installationEntry:t,registrationPromise:n}}var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=aQ(e,r);return{installationEntry:r,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:uQ(e)}:{installationEntry:t}}function aQ(e,t){return k(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,Q5(e,t)];case 1:return n=i.sent(),[2,Tp(e,n)];case 2:return r=i.sent(),DL(r)&&r.customData.serverCode===409?[4,LE(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Tp(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}function uQ(e){return k(this,void 0,void 0,function(){var t,n,r,i;return A(this,function(s){switch(s.label){case 0:return[4,WR(e)];case 1:t=s.sent(),s.label=2;case 2:return t.registrationStatus!==1?[3,5]:[4,UL(100)];case 3:return s.sent(),[4,WR(e)];case 4:return t=s.sent(),[3,2];case 5:return t.registrationStatus!==0?[3,7]:[4,ME(e)];case 6:return n=s.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,t]}})})}function WR(e){return zf(e,function(t){if(!t)throw Zi.create("installation-not-found");return HL(t)})}function HL(e){return cQ(e)?{fid:e.fid,registrationStatus:0}:e}function cQ(e){return e.registrationStatus===1&&e.registrationTime+PL<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lQ(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return k(this,void 0,void 0,function(){var i,s,a,c,l,h,d,v;return A(this,function(g){switch(g.label){case 0:return i=fQ(n,t),s=FL(n,t),a=r.getImmediate({optional:!0}),a&&s.append("x-firebase-client",a.getPlatformInfoString()),c={installation:{sdkVersion:OL}},l={method:"POST",headers:s,body:JSON.stringify(c)},[4,xE(function(){return fetch(i,l)})];case 1:return h=g.sent(),h.ok?[4,h.json()]:[3,3];case 2:return d=g.sent(),v=LL(d),[2,v];case 3:return[4,OE("Generate Auth Token",h)];case 4:throw g.sent()}})})}function fQ(e,t){var n=t.fid;return PE(e)+"/"+n+"/authTokens:generate"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(e,t){return t===void 0&&(t=!1),k(this,void 0,void 0,function(){var n,r,i,s;return A(this,function(a){switch(a.label){case 0:return[4,zf(e.appConfig,function(c){if(!KL(c))throw Zi.create("not-registered");var l=c.authToken;if(!t&&pQ(l))return c;if(l.requestStatus===1)return n=hQ(e,t),c;if(!navigator.onLine)throw Zi.create("app-offline");var h=gQ(c);return n=dQ(e,h),h})];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return s=a.sent(),[3,4];case 3:s=r.authToken,a.label=4;case 4:return i=s,[2,i]}})})}function hQ(e,t){return k(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return[4,$R(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,UL(100)];case 3:return i.sent(),[4,$R(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,FE(e,t)]:[2,r]}})})}function $R(e){return zf(e,function(t){if(!KL(t))throw Zi.create("not-registered");var n=t.authToken;return mQ(n)?ye(ye({},t),{authToken:{requestStatus:0}}):t})}function dQ(e,t){return k(this,void 0,void 0,function(){var n,i,r,i;return A(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,8]),[4,lQ(e,t)];case 1:return n=s.sent(),i=ye(ye({},t),{authToken:n}),[4,Tp(e.appConfig,i)];case 2:return s.sent(),[2,n];case 3:return r=s.sent(),DL(r)&&(r.customData.serverCode===401||r.customData.serverCode===404)?[4,LE(e.appConfig)]:[3,5];case 4:return s.sent(),[3,7];case 5:return i=ye(ye({},t),{authToken:{requestStatus:0}}),[4,Tp(e.appConfig,i)];case 6:s.sent(),s.label=7;case 7:throw r;case 8:return[2]}})})}function KL(e){return e!==void 0&&e.registrationStatus===2}function pQ(e){return e.requestStatus===2&&!vQ(e)}function vQ(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+H5}function gQ(e){var t={requestStatus:1,requestTime:Date.now()};return ye(ye({},e),{authToken:t})}function mQ(e){return e.requestStatus===1&&e.requestTime+PL<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yQ(e){return k(this,void 0,void 0,function(){var t,n,r;return A(this,function(i){switch(i.label){case 0:return[4,ME(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,r=t.registrationPromise,r?r.catch(console.error):FE(e).catch(console.error),[2,n.fid]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Q(e,t){return t===void 0&&(t=!1),k(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return[4,wQ(e.appConfig)];case 1:return r.sent(),[4,FE(e,t)];case 2:return n=r.sent(),[2,n.token]}})})}function wQ(e){return k(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return[4,ME(e)];case 1:return t=n.sent().registrationPromise,t?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bQ(e,t){return k(this,void 0,void 0,function(){var n,r,i,s;return A(this,function(a){switch(a.label){case 0:return n=EQ(e,t),r=FL(e,t),i={method:"DELETE",headers:r},[4,xE(function(){return fetch(n,i)})];case 1:return s=a.sent(),s.ok?[3,3]:[4,OE("Delete Installation",s)];case 2:throw a.sent();case 3:return[2]}})})}function EQ(e,t){var n=t.fid;return PE(e)+"/"+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IQ(e){return k(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return t=e.appConfig,[4,zf(t,function(i){if(!(i&&i.registrationStatus===0))return i})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw Zi.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw Zi.create("app-offline");case 3:return[4,bQ(t,n)];case 4:return r.sent(),[4,LE(t)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TQ(e,t){var n=e.appConfig;return eQ(n,t),function(){tQ(n,t)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SQ(e){var t,n;if(!e||!e.options)throw c_("App Configuration");if(!e.name)throw c_("App Name");var r=["projectId","apiKey","appId"];try{for(var i=Zt(r),s=i.next();!s.done;s=i.next()){var a=s.value;if(!e.options[a])throw c_(a)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function c_(e){return Zi.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CQ(e){var t="installations";e.INTERNAL.registerComponent(new An(t,function(n){var r=n.getProvider("app").getImmediate(),i=SQ(r),s=n.getProvider("platform-logger"),a={appConfig:i,platformLoggerProvider:s},c={app:r,getId:function(){return yQ(a)},getToken:function(l){return _Q(a,l)},delete:function(){return IQ(a)},onIdChange:function(l){return TQ(a,l)}};return c},"PUBLIC")),e.registerVersion(B5,NL)}CQ(le);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt,AQ=(Bt={},Bt["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Bt["only-available-in-window"]="This method is available in a Window context.",Bt["only-available-in-sw"]="This method is available in a service worker context.",Bt["permission-default"]="The notification permission was not granted and dismissed instead.",Bt["permission-blocked"]="The notification permission was not granted and blocked instead.",Bt["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",Bt["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",Bt["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",Bt["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",Bt["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",Bt["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",Bt["token-update-no-token"]="FCM returned no token when updating the user to push.",Bt["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",Bt["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",Bt["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",Bt["invalid-vapid-key"]="The public VAPID key must be a string.",Bt["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",Bt),rt=new no("messaging","Messaging",AQ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kQ="/firebase-messaging-sw.js",RQ="/firebase-cloud-messaging-push-scope",Sp="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",NQ="https://fcmregistrations.googleapis.com/v1",WL="FCM_MSG",PQ="FirebaseMessaging: ",OQ="google.c.a.e",$L="google.c.a.c_id",xQ="google.c.a.ts",DQ="google.c.a.c_l",LQ=1e3,MQ=3e3;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var fa;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(fa||(fa={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(e){var t=new Uint8Array(e),n=btoa(String.fromCharCode.apply(String,Oe([],ln(t))));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function FQ(e){for(var t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l_="fcm_token_details_db",UQ=5,GR="fcm_token_object_Store";function jQ(e){return k(this,void 0,void 0,function(){var t,n,r,i,s=this;return A(this,function(a){switch(a.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=a.sent(),n=t.map(function(c){return c.name}),!n.includes(l_))return[2,null];a.label=2;case 2:return r=null,[4,NE(l_,UQ,function(c){return k(s,void 0,void 0,function(){var l,h,d,d,d,v;return A(this,function(g){switch(g.label){case 0:return c.oldVersion<2?[2]:c.objectStoreNames.contains(GR)?(l=c.transaction.objectStore(GR),[4,l.index("fcmSenderId").get(e)]):[2];case 1:return h=g.sent(),[4,l.clear()];case 2:if(g.sent(),!h)return[2];if(c.oldVersion===2){if(d=h,!d.auth||!d.p256dh||!d.endpoint)return[2];r={token:d.fcmToken,createTime:(v=d.createTime)!==null&&v!==void 0?v:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:qi(d.vapidKey)}}}else c.oldVersion===3?(d=h,r={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:qi(d.auth),p256dh:qi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:qi(d.vapidKey)}}):c.oldVersion===4&&(d=h,r={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:qi(d.auth),p256dh:qi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:qi(d.vapidKey)}});return[2]}})})})];case 3:return i=a.sent(),i.close(),[4,a_(l_)];case 4:return a.sent(),[4,a_("fcm_vapid_details_db")];case 5:return a.sent(),[4,a_("undefined")];case 6:return a.sent(),[2,VQ(r)?r:null]}})})}function VQ(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BQ="firebase-messaging-database",qQ=1,ha="firebase-messaging-store",f_=null;function UE(){return f_||(f_=NE(BQ,qQ,function(e){switch(e.oldVersion){case 0:e.createObjectStore(ha)}})),f_}function Cp(e){return k(this,void 0,void 0,function(){var t,n,r,i;return A(this,function(s){switch(s.label){case 0:return t=VE(e),[4,UE()];case 1:return n=s.sent(),[4,n.transaction(ha).objectStore(ha).get(t)];case 2:return r=s.sent(),r?[2,r]:[3,3];case 3:return[4,jQ(e.appConfig.senderId)];case 4:return i=s.sent(),i?[4,jE(e,i)]:[3,6];case 5:return s.sent(),[2,i];case 6:return[2]}})})}function jE(e,t){return k(this,void 0,void 0,function(){var n,r,i;return A(this,function(s){switch(s.label){case 0:return n=VE(e),[4,UE()];case 1:return r=s.sent(),i=r.transaction(ha,"readwrite"),[4,i.objectStore(ha).put(t,n)];case 2:return s.sent(),[4,i.complete];case 3:return s.sent(),[2,t]}})})}function HQ(e){return k(this,void 0,void 0,function(){var t,n,r;return A(this,function(i){switch(i.label){case 0:return t=VE(e),[4,UE()];case 1:return n=i.sent(),r=n.transaction(ha,"readwrite"),[4,r.objectStore(ha).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function VE(e){var t=e.appConfig;return t.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KQ(e,t){return k(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return A(this,function(h){switch(h.label){case 0:return[4,qE(e)];case 1:n=h.sent(),r=zL(t),i={method:"POST",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(BE(e.appConfig),i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw c=h.sent(),rt.create("token-subscribe-failed",{errorInfo:c});case 6:if(s.error)throw l=s.error.message,rt.create("token-subscribe-failed",{errorInfo:l});if(!s.token)throw rt.create("token-subscribe-no-token");return[2,s.token]}})})}function WQ(e,t){return k(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return A(this,function(h){switch(h.label){case 0:return[4,qE(e)];case 1:n=h.sent(),r=zL(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(BE(e.appConfig)+"/"+t.token,i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw c=h.sent(),rt.create("token-update-failed",{errorInfo:c});case 6:if(s.error)throw l=s.error.message,rt.create("token-update-failed",{errorInfo:l});if(!s.token)throw rt.create("token-update-no-token");return[2,s.token]}})})}function GL(e,t){return k(this,void 0,void 0,function(){var n,r,i,s,a,c;return A(this,function(l){switch(l.label){case 0:return[4,qE(e)];case 1:n=l.sent(),r={method:"DELETE",headers:n},l.label=2;case 2:return l.trys.push([2,5,,6]),[4,fetch(BE(e.appConfig)+"/"+t,r)];case 3:return i=l.sent(),[4,i.json()];case 4:if(s=l.sent(),s.error)throw a=s.error.message,rt.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw c=l.sent(),rt.create("token-unsubscribe-failed",{errorInfo:c});case 6:return[2]}})})}function BE(e){var t=e.projectId;return NQ+"/projects/"+t+"/registrations"}function qE(e){var t=e.appConfig,n=e.installations;return k(this,void 0,void 0,function(){var r;return A(this,function(i){switch(i.label){case 0:return[4,n.getToken()];case 1:return r=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+r})]}})})}function zL(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,s={web:{endpoint:r,auth:n,p256dh:t}};return i!==Sp&&(s.web.applicationPubKey=i),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $Q=7*24*60*60*1e3;function Bw(e,t,n){return k(this,void 0,void 0,function(){var r,i,s,a;return A(this,function(c){switch(c.label){case 0:if(Notification.permission!=="granted")throw rt.create("permission-blocked");return[4,zQ(t,n)];case 1:return r=c.sent(),[4,Cp(e)];case 2:return i=c.sent(),s={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:qi(r.getKey("auth")),p256dh:qi(r.getKey("p256dh"))},i?[3,3]:[2,zR(e,s)];case 3:if(QQ(i.subscriptionOptions,s))return[3,8];c.label=4;case 4:return c.trys.push([4,6,,7]),[4,GL(e,i.token)];case 5:return c.sent(),[3,7];case 6:return a=c.sent(),console.warn(a),[3,7];case 7:return[2,zR(e,s)];case 8:return Date.now()>=i.createTime+$Q?[2,GQ({token:i.token,createTime:Date.now(),subscriptionOptions:s},e,t)]:[2,i.token];case 9:return[2]}})})}function Al(e,t){return k(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return[4,Cp(e)];case 1:return n=i.sent(),n?[4,GL(e,n.token)]:[3,4];case 2:return i.sent(),[4,HQ(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}})})}function GQ(e,t,n){return k(this,void 0,void 0,function(){var r,i,s;return A(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,WQ(t,e)];case 1:return r=a.sent(),i=ye(ye({},e),{token:r,createTime:Date.now()}),[4,jE(t,i)];case 2:return a.sent(),[2,r];case 3:return s=a.sent(),[4,Al(t,n)];case 4:throw a.sent(),s;case 5:return[2]}})})}function zR(e,t){return k(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return[4,KQ(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,jE(e,r)];case 2:return i.sent(),[2,r.token]}})})}function zQ(e,t){return k(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:FQ(t)})]}})})}function QQ(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YQ(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return XQ(t,e),JQ(t,e),ZQ(t,e),t}function XQ(e,t){if(!!t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}function JQ(e,t){!t.data||(e.data=t.data)}function ZQ(e,t){if(!!t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(e){return typeof e=="object"&&!!e&&$L in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eY=function(){function e(t){var n=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(r){r.waitUntil(n.onPush(r))}),self.addEventListener("pushsubscriptionchange",function(r){r.waitUntil(n.onSubChange(r))}),self.addEventListener("notificationclick",function(r){r.waitUntil(n.onNotificationClick(r))})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||typeof t!="function")throw rt.create("invalid-bg-handler");this.bgMessageHandler=t},e.prototype.onBackgroundMessage=function(t){var n=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){n.bgMessageHandler=null}},e.prototype.getToken=function(){var t,n;return k(this,void 0,void 0,function(){var r;return A(this,function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,Cp(this.firebaseDependencies)];case 1:r=i.sent(),this.vapidKey=(n=(t=r==null?void 0:r.subscriptionOptions)===null||t===void 0?void 0:t.vapidKey)!==null&&n!==void 0?n:Sp,i.label=2;case 2:return[2,Bw(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},e.prototype.deleteToken=function(){return Al(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw rt.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw rt.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw rt.create("invalid-vapid-key");this.vapidKey=t},e.prototype.useServiceWorker=function(){throw rt.create("only-available-in-window")},e.prototype.onMessage=function(){throw rt.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw rt.create("only-available-in-window")},e.prototype.onPush=function(t){return k(this,void 0,void 0,function(){var n,r,i,s;return A(this,function(a){switch(a.label){case 0:return n=nY(t),n?[4,YL()]:(console.debug(PQ+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return r=a.sent(),iY(r)?[2,oY(r,n)]:(i=!1,n.notification?[4,sY(tY(n))]:[3,3]);case 2:a.sent(),i=!0,a.label=3;case 3:return i===!0&&this.isOnBackgroundMessageUsed===!1?[2]:(this.bgMessageHandler&&(s=YQ(n),typeof this.bgMessageHandler=="function"?this.bgMessageHandler(s):this.bgMessageHandler.next(s)),[4,QR(LQ)]);case 4:return a.sent(),[2]}})})},e.prototype.onSubChange=function(t){var n,r;return k(this,void 0,void 0,function(){var i,s;return A(this,function(a){switch(a.label){case 0:return i=t.newSubscription,i?[3,2]:[4,Al(this.firebaseDependencies,self.registration)];case 1:return a.sent(),[2];case 2:return[4,Cp(this.firebaseDependencies)];case 3:return s=a.sent(),[4,Al(this.firebaseDependencies,self.registration)];case 4:return a.sent(),[4,Bw(this.firebaseDependencies,self.registration,(r=(n=s==null?void 0:s.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&r!==void 0?r:Sp)];case 5:return a.sent(),[2]}})})},e.prototype.onNotificationClick=function(t){var n,r;return k(this,void 0,void 0,function(){var i,s,a,c,l;return A(this,function(h){switch(h.label){case 0:if(i=(r=(n=t.notification)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r[WL],i){if(t.action)return[2]}else return[2];return t.stopImmediatePropagation(),t.notification.close(),s=aY(i),s?(a=new URL(s,self.location.href),c=new URL(self.location.origin),a.host!==c.host?[2]:[4,rY(a)]):[2];case 1:return l=h.sent(),l?[3,4]:[4,self.clients.openWindow(s)];case 2:return l=h.sent(),[4,QR(MQ)];case 3:return h.sent(),[3,6];case 4:return[4,l.focus()];case 5:l=h.sent(),h.label=6;case 6:return l?(i.messageType=fa.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,l.postMessage(i)]):[2]}})})},e}();function tY(e){var t,n=ye({},e.notification);return n.data=(t={},t[WL]=e,t),n}function nY(e){var t=e.data;if(!t)return null;try{return t.json()}catch{return null}}function rY(e){return k(this,void 0,void 0,function(){var t,n,r,i,s,a,c;return A(this,function(l){switch(l.label){case 0:return[4,YL()];case 1:t=l.sent();try{for(n=Zt(t),r=n.next();!r.done;r=n.next())if(i=r.value,s=new URL(i.url,self.location.href),e.host===s.host)return[2,i]}catch(h){a={error:h}}finally{try{r&&!r.done&&(c=n.return)&&c.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function iY(e){return e.some(function(t){return t.visibilityState==="visible"&&!t.url.startsWith("chrome-extension://")})}function oY(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=fa.PUSH_RECEIVED;try{for(var i=Zt(e),s=i.next();!s.done;s=i.next()){var a=s.value;a.postMessage(t)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function YL(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function sY(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification((t=e.title)!==null&&t!==void 0?t:"",e)}function aY(e){var t,n,r,i=(n=(t=e.fcmOptions)===null||t===void 0?void 0:t.link)!==null&&n!==void 0?n:(r=e.notification)===null||r===void 0?void 0:r.click_action;return i||(QL(e.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uY=function(){function e(t){var n=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(r){return n.messageEventListener(r)})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(t){return k(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return n=t.data,n.isFirebaseMessaging?(this.onMessageCallback&&n.messageType===fa.PUSH_RECEIVED&&(typeof this.onMessageCallback=="function"?this.onMessageCallback(lY(Object.assign({},n))):this.onMessageCallback.next(Object.assign({},n))),r=n.data,QL(r)&&r[OQ]==="1"?[4,this.logEvent(n.messageType,r)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(t){return k(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return Notification.permission!=="default"?[3,2]:[4,Notification.requestPermission()];case 1:n.sent(),n.label=2;case 2:if(Notification.permission!=="granted")throw rt.create("permission-blocked");return[4,this.updateVapidKey(t==null?void 0:t.vapidKey)];case 3:return n.sent(),[4,this.updateSwReg(t==null?void 0:t.serviceWorkerRegistration)];case 4:return n.sent(),[2,Bw(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},e.prototype.updateVapidKey=function(t){return k(this,void 0,void 0,function(){return A(this,function(n){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=Sp),[2]})})},e.prototype.updateSwReg=function(t){return k(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return!t&&!this.swRegistration?[4,this.registerDefaultSw()]:[3,2];case 1:n.sent(),n.label=2;case 2:if(!t&&!!this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw rt.create("invalid-sw-registration");return this.swRegistration=t,[2]}})})},e.prototype.registerDefaultSw=function(){return k(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register(kQ,{scope:RQ})];case 1:return t.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw n=r.sent(),rt.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 3:return[2]}})})},e.prototype.deleteToken=function(){return k(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,Al(this.firebaseDependencies,this.swRegistration)]}})})},e.prototype.requestPermission=function(){return k(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return Notification.permission==="granted"?[2]:[4,Notification.requestPermission()];case 1:if(t=n.sent(),t==="granted")return[2];throw t==="denied"?rt.create("permission-blocked"):rt.create("permission-default")}})})},e.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw rt.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw rt.create("invalid-vapid-key");this.vapidKey=t},e.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw rt.create("invalid-sw-registration");if(this.swRegistration)throw rt.create("use-sw-after-get-token");this.swRegistration=t},e.prototype.onMessage=function(t){var n=this;return this.onMessageCallback=t,function(){n.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw rt.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw rt.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(t,n){return k(this,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return r=cY(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i=s.sent(),i.logEvent(r,{message_id:n[$L],message_name:n[DQ],message_time:n[xQ],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},e}();function cY(e){switch(e){case fa.NOTIFICATION_CLICKED:return"notification_open";case fa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function lY(e){return delete e.messageType,delete e.isFirebaseMessaging,e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fY(e){var t,n;if(!e||!e.options)throw h_("App Configuration Object");if(!e.name)throw h_("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=e.options;try{for(var s=Zt(r),a=s.next();!a.done;a=s.next()){var c=a.value;if(!i[c])throw h_(c)}}catch(l){t={error:l}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return{appName:e.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function h_(e){return rt.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hY="messaging";function dY(e){var t=e.getProvider("app").getImmediate(),n=fY(t),r=e.getProvider("installations").getImmediate(),i=e.getProvider("analytics-internal"),s={app:t,appConfig:n,installations:r,analyticsProvider:i};if(!XL())throw rt.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new eY(s):new uY(s)}var pY={isSupported:XL};le.INTERNAL.registerComponent(new An(hY,dY,"PUBLIC").setServiceProps(pY));function XL(){return self&&"ServiceWorkerGlobalScope"in self?gY():vY()}function vY(){return"indexedDB"in window&&indexedDB!==null&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function gY(){return"indexedDB"in self&&indexedDB!==null&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JL="firebasestorage.googleapis.com",ZL="storageBucket",mY=2*60*1e3,yY=10*60*1e3,jt=function(e){ne(t,e);function t(n,r){var i=e.call(this,d_(n),"Firebase Storage: "+r+" ("+d_(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return t.prototype._codeEquals=function(n){return d_(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(Ju);function d_(e){return"storage/"+e}function HE(){var e="An unknown error occurred, please check the error payload for server response.";return new jt("unknown",e)}function _Y(e){return new jt("object-not-found","Object '"+e+"' does not exist.")}function wY(e){return new jt("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function bY(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new jt("unauthenticated",e)}function EY(){return new jt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function IY(e){return new jt("unauthorized","User does not have permission to access '"+e+"'.")}function TY(){return new jt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function eM(){return new jt("canceled","User canceled the upload/download.")}function SY(e){return new jt("invalid-url","Invalid URL '"+e+"'.")}function CY(e){return new jt("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function AY(){return new jt("no-default-bucket","No default bucket found. Did you set the '"+ZL+"' property when initializing the app?")}function tM(){return new jt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function kY(){return new jt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function RY(){return new jt("no-download-url","The given file does not have any download URLs.")}function gu(e){return new jt("invalid-argument",e)}function nM(){return new jt("app-deleted","The Firebase app was deleted.")}function rM(e){return new jt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function kl(e,t){return new jt("invalid-format","String does not match format '"+e+"': "+t)}function dd(e){throw new jt("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NY(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},p_=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function iM(e,t){switch(e){case Rr.RAW:return new p_(oM(t));case Rr.BASE64:case Rr.BASE64URL:return new p_(sM(e,t));case Rr.DATA_URL:return new p_(OY(t),xY(t))}throw HE()}function oM(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296){var i=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!i)t.push(239,191,189);else{var s=r,a=e.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function PY(e){var t;try{t=decodeURIComponent(e)}catch{throw kl(Rr.DATA_URL,"Malformed data URL.")}return oM(t)}function sM(e,t){switch(e){case Rr.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw kl(e,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case Rr.BASE64URL:{var s=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(s||a){var i=s?"+":"/";throw kl(e,"Invalid character '"+i+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var c;try{c=NY(t)}catch{throw kl(e,"Invalid character found")}for(var l=new Uint8Array(c.length),h=0;h<c.length;h++)l[h]=c.charCodeAt(h);return l}var aM=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw kl(Rr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=DY(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}return e}();function OY(e){var t=new aM(e);return t.base64?sM(Rr.BASE64,t.rest):PY(t.rest)}function xY(e){var t=new aM(e);return t.contentType}function DY(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LY={STATE_CHANGED:"state_changed"},Un={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function v_(e){switch(e){case"running":case"pausing":case"canceling":return Un.RUNNING;case"paused":return Un.PAUSED;case"success":return Un.SUCCESS;case"canceled":return Un.CANCELED;case"error":return Un.ERROR;default:return Un.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xs;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Xs||(Xs={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MY=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Xs.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=Xs.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=Xs.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,r,i){if(this.sent_)throw dd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(var s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw dd("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw dd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw dd("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function FY(){return new MY}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UY=function(){function e(){}return e.prototype.createConnection=function(){return FY()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nr=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(r.path==="")return r;throw CY(t)},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";function s(se){se.path.charAt(se.path.length-1)==="/"&&(se.path_=se.path_.slice(0,-1))}var a="(/(.*))?$",c=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function h(se){se.path_=decodeURIComponent(se.path)}for(var d="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",y=new RegExp("^https?://"+v+"/"+d+"/b/"+i+"/o"+g,"i"),w={bucket:1,path:3},E=n===JL?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",C=new RegExp("^https?://"+E+"/"+i+"/"+I,"i"),N={bucket:1,path:2},O=[{regex:c,indices:l,postModify:s},{regex:y,indices:w,postModify:h},{regex:C,indices:N,postModify:h}],L=0;L<O.length;L++){var V=O[L],F=V.regex.exec(t);if(F){var G=F[V.indices.bucket],M=F[V.indices.path];M||(M=""),r=new e(G,M),V.postModify(r);break}}if(r==null)throw SY(t);return r},e}(),jY=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VY(e,t,n){var r=1,i=null,s=!1,a=0;function c(){return a===2}var l=!1;function h(){for(var w=[],E=0;E<arguments.length;E++)w[E]=arguments[E];l||(l=!0,t.apply(null,w))}function d(w){i=setTimeout(function(){i=null,e(v,c())},w)}function v(w){for(var E=[],I=1;I<arguments.length;I++)E[I-1]=arguments[I];if(!l){if(w){h.call.apply(h,Oe([null,w],E));return}var C=c()||s;if(C){h.call.apply(h,Oe([null,w],E));return}r<64&&(r*=2);var N;a===1?(a=2,N=0):N=(r+Math.random())*1e3,d(N)}}var g=!1;function y(w){g||(g=!0,!l&&(i!==null?(w||(a=2),clearTimeout(i),d(0)):w||(a=1)))}return d(0),setTimeout(function(){s=!0,y(!0)},n),y}function BY(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qY(e){return e!==void 0}function HY(e){return typeof e=="function"}function KY(e){return typeof e=="object"&&!Array.isArray(e)}function Wv(e){return typeof e=="string"||e instanceof String}function YR(e){return KE()&&e instanceof Blob}function KE(){return typeof Blob!="undefined"}function qw(e,t,n,r){if(r<t)throw gu("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw gu("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(e,t){var n=t.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],i=t;return r==null&&(i="https://"+t),i+"/v0"+e}function uM(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WY=function(){function e(t,n,r,i,s,a,c,l,h,d,v){var g=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=c,this.errorCallback_=l,this.progressCallback_=d,this.timeout_=h,this.pool_=v,this.promise_=new Promise(function(y,w){g.resolve_=y,g.reject_=w,g.start_()})}return e.prototype.start_=function(){var t=this;function n(i,s){if(s){i(!1,new pd(!1,null,!0));return}var a=t.pool_.createConnection();t.pendingConnection_=a;function c(l){var h=l.loaded,d=l.lengthComputable?l.total:-1;t.progressCallback_!==null&&t.progressCallback_(h,d)}t.progressCallback_!==null&&a.addUploadProgressListener(c),a.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&a.removeUploadProgressListener(c),t.pendingConnection_=null;var l=a.getErrorCode()===Xs.NO_ERROR,h=a.getStatus();if(!l||t.isRetryStatusCode_(h)){var d=a.getErrorCode()===Xs.ABORT;i(!1,new pd(!1,null,d));return}var v=t.successCodes_.indexOf(h)!==-1;i(!0,new pd(v,a))})}function r(i,s){var a=t.resolve_,c=t.reject_,l=s.connection;if(s.wasSuccessCode)try{var h=t.callback_(l,l.getResponseText());qY(h)?a(h):a()}catch(v){c(v)}else if(l!==null){var d=HE();d.serverResponse=l.getResponseText(),t.errorCallback_?c(t.errorCallback_(l,d)):c(d)}else if(s.canceled){var d=t.appDelete_?nM():eM();c(d)}else{var d=TY();c(d)}}this.canceled_?r(!1,new pd(!1,null,!0)):this.backoffId_=VY(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&BY(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],i=r.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||i||s},e}(),pd=function(){function e(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}return e}();function $Y(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function GY(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t!=null?t:"AppManager")}function zY(e,t){t&&(e["X-Firebase-GMPID"]=t)}function QY(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function YY(e,t,n,r,i,s){var a=uM(e.urlParams),c=e.url+a,l=Object.assign({},e.headers);return zY(l,t),$Y(l,n),GY(l,s),QY(l,r),new WY(c,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XY(){return typeof BlobBuilder!="undefined"?BlobBuilder:typeof WebKitBlobBuilder!="undefined"?WebKitBlobBuilder:void 0}function JY(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=XY();if(n!==void 0){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}else{if(KE())return new Blob(e);throw new jt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function ZY(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WE=function(){function e(t,n){var r=0,i="";YR(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(YR(this.data_)){var r=this.data_,i=ZY(r,t,n);return i===null?null:new e(i)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(KE()){var r=t.map(function(l){return l instanceof e?l.data_:l});return new e(JY.apply(null,r))}else{var i=t.map(function(l){return Wv(l)?iM(Rr.RAW,l).data:l.data_}),s=0;i.forEach(function(l){s+=l.byteLength});var a=new Uint8Array(s),c=0;return i.forEach(function(l){for(var h=0;h<l.length;h++)a[c++]=l[h]}),new e(a,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(e){var t;try{t=JSON.parse(e)}catch{return null}return KY(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eX(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function tX(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function cM(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nX(e,t){return t}var Dn=function(){function e(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||nX}return e}(),vd=null;function rX(e){return!Wv(e)||e.length<2?e:cM(e)}function $v(){if(vd)return vd;var e=[];e.push(new Dn("bucket")),e.push(new Dn("generation")),e.push(new Dn("metageneration")),e.push(new Dn("name","fullPath",!0));function t(s,a){return rX(a)}var n=new Dn("name");n.xform=t,e.push(n);function r(s,a){return a!==void 0?Number(a):a}var i=new Dn("size");return i.xform=r,e.push(i),e.push(new Dn("timeCreated")),e.push(new Dn("updated")),e.push(new Dn("md5Hash",null,!0)),e.push(new Dn("cacheControl",null,!0)),e.push(new Dn("contentDisposition",null,!0)),e.push(new Dn("contentEncoding",null,!0)),e.push(new Dn("contentLanguage",null,!0)),e.push(new Dn("contentType",null,!0)),e.push(new Dn("metadata","customMetadata",!0)),vd=e,vd}function iX(e,t){function n(){var r=e.bucket,i=e.fullPath,s=new Nr(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function oX(e,t,n){var r={};r.type="file";for(var i=n.length,s=0;s<i;s++){var a=n[s];r[a.local]=a.xform(r,t[a.server])}return iX(r,e),r}function lM(e,t,n){var r=$E(t);if(r===null)return null;var i=r;return oX(e,i,n)}function sX(e,t,n){var r=$E(t);if(r===null||!Wv(r.downloadTokens))return null;var i=r.downloadTokens;if(i.length===0)return null;var s=encodeURIComponent,a=i.split(","),c=a.map(function(l){var h=e.bucket,d=e.fullPath,v="/b/"+s(h)+"/o/"+s(d),g=ts(v,n),y=uM({alt:"media",token:l});return g+y});return c[0]}function GE(e,t){for(var n={},r=t.length,i=0;i<r;i++){var s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XR="prefixes",JR="items";function aX(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[XR])for(var i=0,s=n[XR];i<s.length;i++){var a=s[i],c=a.replace(/\/$/,""),l=e._makeStorageReference(new Nr(t,c));r.prefixes.push(l)}if(n[JR])for(var h=0,d=n[JR];h<d.length;h++){var v=d[h],l=e._makeStorageReference(new Nr(t,v.name));r.items.push(l)}return r}function uX(e,t,n){var r=$E(n);if(r===null)return null;var i=r;return aX(e,t,i)}var oo=function(){function e(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(e){if(!e)throw HE()}function Gv(e,t){function n(r,i){var s=lM(e,i,t);return Ii(s!==null),s}return n}function cX(e,t){function n(r,i){var s=uX(e,t,i);return Ii(s!==null),s}return n}function lX(e,t){function n(r,i){var s=lM(e,i,t);return Ii(s!==null),sX(s,i,e.host)}return n}function pc(e){function t(n,r){var i;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?i=EY():i=bY():n.getStatus()===402?i=wY(e.bucket):n.getStatus()===403?i=IY(e.path):i=r,i.serverResponse=r.serverResponse,i}return t}function zv(e){var t=pc(e);function n(r,i){var s=t(r,i);return r.getStatus()===404&&(s=_Y(e.path)),s.serverResponse=i.serverResponse,s}return n}function fM(e,t,n){var r=t.fullServerUrl(),i=ts(r,e.host),s="GET",a=e.maxOperationRetryTime,c=new oo(i,s,Gv(e,n),a);return c.errorHandler=zv(t),c}function fX(e,t,n,r,i){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var a=t.bucketOnlyServerUrl(),c=ts(a,e.host),l="GET",h=e.maxOperationRetryTime,d=new oo(c,l,cX(e,t.bucket),h);return d.urlParams=s,d.errorHandler=pc(t),d}function hX(e,t,n){var r=t.fullServerUrl(),i=ts(r,e.host),s="GET",a=e.maxOperationRetryTime,c=new oo(i,s,lX(e,n),a);return c.errorHandler=zv(t),c}function dX(e,t,n,r){var i=t.fullServerUrl(),s=ts(i,e.host),a="PATCH",c=GE(n,r),l={"Content-Type":"application/json; charset=utf-8"},h=e.maxOperationRetryTime,d=new oo(s,a,Gv(e,r),h);return d.headers=l,d.body=c,d.errorHandler=zv(t),d}function pX(e,t){var n=t.fullServerUrl(),r=ts(n,e.host),i="DELETE",s=e.maxOperationRetryTime;function a(l,h){}var c=new oo(r,i,a,s);return c.successCodes=[200,204],c.errorHandler=zv(t),c}function vX(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function hM(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=vX(null,t)),r}function gX(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function c(){for(var O="",L=0;L<2;L++)O=O+Math.random().toString().slice(2);return O}var l=c();a["Content-Type"]="multipart/related; boundary="+l;var h=hM(t,r,i),d=GE(h,n),v="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+h.contentType+`\r
\r
`,g=`\r
--`+l+"--",y=WE.getBlob(v,r,g);if(y===null)throw tM();var w={name:h.fullPath},E=ts(s,e.host),I="POST",C=e.maxUploadRetryTime,N=new oo(E,I,Gv(e,n),C);return N.urlParams=w,N.headers=a,N.body=y.uploadData(),N.errorHandler=pc(t),N}var Ap=function(){function e(t,n,r,i){this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}return e}();function zE(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{Ii(!1)}var r=t||["active"];return Ii(!!n&&r.indexOf(n)!==-1),n}function mX(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a=hM(t,r,i),c={name:a.fullPath},l=ts(s,e.host),h="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},v=GE(a,n),g=e.maxUploadRetryTime;function y(E){zE(E);var I;try{I=E.getResponseHeader("X-Goog-Upload-URL")}catch{Ii(!1)}return Ii(Wv(I)),I}var w=new oo(l,h,y,g);return w.urlParams=c,w.headers=d,w.body=v,w.errorHandler=pc(t),w}function yX(e,t,n,r){var i={"X-Goog-Upload-Command":"query"};function s(h){var d=zE(h,["active","final"]),v=null;try{v=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ii(!1)}v||Ii(!1);var g=Number(v);return Ii(!isNaN(g)),new Ap(g,r.size(),d==="final")}var a="POST",c=e.maxUploadRetryTime,l=new oo(n,a,s,c);return l.headers=i,l.errorHandler=pc(t),l}var ZR=256*1024;function _X(e,t,n,r,i,s,a,c){var l=new Ap(0,0);if(a?(l.current=a.current,l.total=a.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw kY();var h=l.total-l.current,d=h;i>0&&(d=Math.min(d,i));var v=l.current,g=v+d,y=d===h?"upload, finalize":"upload",w={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":""+l.current},E=r.slice(v,g);if(E===null)throw tM();function I(L,V){var F=zE(L,["active","final"]),G=l.current+d,M=r.size(),se;return F==="final"?se=Gv(t,s)(L,V):se=null,new Ap(G,M,F==="final",se)}var C="POST",N=t.maxUploadRetryTime,O=new oo(n,C,I,N);return O.headers=w,O.body=E.uploadData(),O.progressCallback=c||null,O.errorHandler=pc(e),O}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wX=function(){function e(t,n,r){var i=HY(t)||n!=null||r!=null;if(i)this.next=t,this.error=n,this.complete=r;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dM=function(){function e(t,n,r){var i=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=$v(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){i._request=void 0,i._chunkMultiplier=1,s._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=s,i._transition("error"))},this._metadataErrorHandler=function(s){i._request=void 0,s._codeEquals("canceled")?i.completeTransitions_():(i._error=s,i._transition("error"))},this._promise=new Promise(function(s,a){i._resolve=s,i._reject=a,i._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var i=r[0],s=r[1];switch(n._state){case"running":t(i,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,r){var i=mX(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._uploadUrl=a,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r,i){var s=yX(t._ref.storage,t._ref._location,n,t._blob),a=t._ref.storage._makeRequest(s,r,i);t._request=a,a.getPromise().then(function(c){c=c,t._request=void 0,t._updateProgress(c.current),t._needToFetchStatus=!1,c.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=ZR*this._chunkMultiplier,r=new Ap(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(s,a){var c;try{c=_X(t._ref._location,t._ref.storage,i,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(h){t._error=h,t._transition("error");return}var l=t._ref.storage._makeRequest(c,s,a);t._request=l,l.getPromise().then(function(h){t._increaseMultiplier(),t._request=void 0,t._updateProgress(h.current),h.finalized?(t._metadata=h.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=ZR*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,r){var i=fM(t._ref.storage,t._ref._location,t._mappings),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,r){var i=gX(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=eM(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=v_(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,i){var s=this,a=new wX(n,r,i);return this._addObserver(a),function(){s._removeObserver(a)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(v_(this._state)){case Un.SUCCESS:Za(this._resolve.bind(null,this.snapshot))();break;case Un.CANCELED:case Un.ERROR:var n=this._reject;Za(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=v_(this._state);switch(n){case Un.RUNNING:case Un.PAUSED:t.next&&Za(t.next.bind(t,this.snapshot))();break;case Un.SUCCESS:t.complete&&Za(t.complete.bind(t))();break;case Un.CANCELED:case Un.ERROR:t.error&&Za(t.error.bind(t,this._error))();break;default:t.error&&Za(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qv=function(){function e(t,n){this._service=t,n instanceof Nr?this._location=n:this._location=Nr.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new Nr(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return cM(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=eX(this._location.path);if(t===null)return null;var n=new Nr(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw rM(t)},e}();function bX(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new dM(e,new WE(t),n)}function EX(e){var t={prefixes:[],items:[]};return pM(e,t).then(function(){return t})}function pM(e,t,n){return k(this,void 0,void 0,function(){var r,i,s,a;return A(this,function(c){switch(c.label){case 0:return r={pageToken:n},[4,vM(e,r)];case 1:return i=c.sent(),(s=t.prefixes).push.apply(s,i.prefixes),(a=t.items).push.apply(a,i.items),i.nextPageToken==null?[3,3]:[4,pM(e,t,i.nextPageToken)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function vM(e,t){return k(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return t!=null&&typeof t.maxResults=="number"&&qw("options.maxResults",1,1e3,t.maxResults),n=t||{},r=fX(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function IX(e){return k(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=fM(e.storage,e._location,$v()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function TX(e,t){return k(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=dX(e.storage,e._location,t,$v()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function SX(e){return k(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=hX(e.storage,e._location,$v()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw RY();return r})]}})})}function CX(e){return k(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=pX(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function gM(e,t){var n=tX(e._location.path,t),r=new Nr(e._location.bucket,n);return new Qv(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(e){return/^[A-Za-z]+:\/\//.test(e)}function AX(e,t){return new Qv(e,t)}function mM(e,t){if(e instanceof Yv){var n=e;if(n._bucket==null)throw AY();var r=new Qv(n,n._bucket);return t!=null?mM(r,t):r}else return t!==void 0?gM(e,t):e}function kX(e,t){if(t&&Hw(t)){if(e instanceof Yv)return AX(e,t);throw gu("To use ref(service, url), the first argument must be a Storage instance.")}else return mM(e,t)}function eN(e,t){var n=t==null?void 0:t[ZL];return n==null?null:Nr.makeFromBucketSpec(n,e)}function RX(e,t,n,r){r===void 0&&(r={}),e.host="http://"+t+":"+n;var i=r.mockUserToken;i&&(e._overrideAuthToken=typeof i=="string"?i:Ab(i,e.app.options.projectId))}var Yv=function(){function e(t,n,r,i,s,a){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._pool=i,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=JL,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=mY,this._maxUploadRetryTime=yY,this._requests=new Set,s!=null?this._bucket=Nr.makeFromBucketSpec(s,this._host):this._bucket=eN(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=Nr.makeFromBucketSpec(this._url,t):this._bucket=eN(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){qw("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){qw("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return k(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return k(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new Qv(this,t)},e.prototype._makeRequest=function(t,n,r){var i=this;if(this._deleted)return new jY(nM());var s=YY(t,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return i._requests.delete(s)},function(){return i._requests.delete(s)}),s},e.prototype.makeRequestWithTokens=function(t){return k(this,void 0,void 0,function(){var n,r,i;return A(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),r=n[0],i=n[1],[2,this._makeRequest(t,r,i)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NX(e,t,n){return e=Ne(e),bX(e,t,n)}function PX(e){return e=Ne(e),IX(e)}function OX(e,t){return e=Ne(e),TX(e,t)}function xX(e,t){return e=Ne(e),vM(e,t)}function DX(e){return e=Ne(e),EX(e)}function LX(e){return e=Ne(e),SX(e)}function MX(e){return e=Ne(e),CX(e)}function tN(e,t){return e=Ne(e),kX(e,t)}function FX(e,t){return gM(e,t)}function UX(e,t,n,r){r===void 0&&(r={}),RX(e,t,n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gd=function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nN=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new gd(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(i){if(t)return t(new gd(i,r,r._ref))},n)},e.prototype.on=function(t,n,r,i){var s=this,a=void 0;return n&&(typeof n=="function"?a=function(c){return n(new gd(c,s,s._ref))}:a={next:n.next?function(c){return n.next(new gd(c,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,a,r||void 0,i||void 0)},e}(),rN=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new hf(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new hf(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hf=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=FX(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new nN(NX(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){n===void 0&&(n=Rr.RAW),this._throwIfRoot("putString");var i=iM(n,t),s=ye({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new nN(new dM(this._delegate,new WE(i.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return DX(this._delegate).then(function(n){return new rN(n,t.storage)})},e.prototype.list=function(t){var n=this;return xX(this._delegate,t||void 0).then(function(r){return new rN(r,n.storage)})},e.prototype.getMetadata=function(){return PX(this._delegate)},e.prototype.updateMetadata=function(t){return OX(this._delegate,t)},e.prototype.getDownloadURL=function(){return LX(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),MX(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw rM(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jX=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(Hw(t))throw gu("ref() expected a child path but got a URL, use refFromURL instead.");return new hf(tN(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!Hw(t))throw gu("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Nr.makeFromUrl(t,this._delegate.host)}catch{throw gu("refFromUrl() expected a valid full URL but got an invalid one.")}return new hf(tN(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),UX(this._delegate,t,n,r)},e}(),VX="@firebase/storage",BX="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qX="storage";function HX(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal"),a=new jX(r,new Yv(r,i,s,new UY,n,le.SDK_VERSION));return a}function KX(e){var t={TaskState:Un,TaskEvent:LY,StringFormat:Rr,Storage:Yv,Reference:hf};e.INTERNAL.registerComponent(new An(qX,HX,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(VX,BX)}KX(le);var WX="@firebase/performance",yM="0.4.18";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _M=yM,$X="FB-PERF-TRACE-START",GX="FB-PERF-TRACE-STOP",Kw="FB-PERF-TRACE-MEASURE",wM="_wt_",bM="_fp",EM="_fcp",IM="_fid",TM="@firebase/performance/config",SM="@firebase/performance/configexpire",zX="performance",CM="Performance";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on,QX=(on={},on["trace started"]="Trace {$traceName} was started before.",on["trace stopped"]="Trace {$traceName} is not running.",on["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",on["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",on["no window"]="Window is not available.",on["no app id"]="App id is not available.",on["no project id"]="Project id is not available.",on["no api key"]="Api key is not available.",on["invalid cc log"]="Attempted to queue invalid cc event",on["FB not default"]="Performance can only start when Firebase app instance is the default one.",on["RC response not ok"]="RC response is not ok",on["invalid attribute name"]="Attribute name {$attributeName} is invalid.",on["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",on["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",on["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",on),wn=new no(zX,CM,QX);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eo=new da(CM);eo.logLevel=Fe.INFO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g_,AM,Sn=function(){function e(t){if(this.window=t,!t)throw wn.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(t){!this.performance||!this.performance.mark||this.performance.mark(t)},e.prototype.measure=function(t,n,r){!this.performance||!this.performance.measure||this.performance.measure(t,n,r)},e.prototype.getEntriesByType=function(t){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(t)},e.prototype.getEntriesByName=function(t){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(t)},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return!fetch||!Promise||!this.navigator||!this.navigator.cookieEnabled?(eo.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):mf()?!0:(eo.info("IndexedDB is not supported by current browswer"),!1)},e.prototype.setupObserver=function(t,n){if(!!this.PerformanceObserver){var r=new this.PerformanceObserver(function(i){for(var s=0,a=i.getEntries();s<a.length;s++){var c=a[s];n(c)}});r.observe({entryTypes:[t]})}},e.getInstance=function(){return g_===void 0&&(g_=new e(AM)),g_},e}();function YX(e){AM=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(e,t){var n=e.length-t.length;if(n<0||n>1)throw wn.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m_,Ht=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=iN("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=iN("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw wn.create("no app id");return t},e.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw wn.create("no project id");return t},e.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw wn.create("no api key");return t},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return m_===void 0&&(m_=new e),m_},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kM;function XX(){var e=Ht.getInstance().installationsService.getId();return e.then(function(t){kM=t}),e}function QE(){return kM}function JX(){var e=Ht.getInstance().installationsService.getToken();return e.then(function(t){}),e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mu;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"})(mu||(mu={}));var ZX=["firebase_","google_","ga_"],e8=new RegExp("^[a-zA-Z]\\w*$"),t8=40,n8=100;function r8(){var e=Sn.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function RM(){var e=Sn.getInstance().document,t=e.visibilityState;switch(t){case"visible":return mu.VISIBLE;case"hidden":return mu.HIDDEN;default:return mu.UNKNOWN}}function i8(){var e=Sn.getInstance().navigator,t=e.connection,n=t&&t.effectiveType;switch(n){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function o8(e){if(e.length===0||e.length>t8)return!1;var t=ZX.some(function(n){return e.startsWith(n)});return!t&&!!e.match(e8)}function s8(e){return e.length!==0&&e.length<=n8}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var a8="0.0.1",u8={loggingEnabled:!0},c8="FIREBASE_INSTALLATIONS_AUTH";function l8(e){var t=f8();return t?(oN(t),Promise.resolve()):p8(e).then(oN).then(function(n){return h8(n)},function(){})}function f8(){var e=Sn.getInstance().localStorage;if(!!e){var t=e.getItem(SM);if(!(!t||!v8(t))){var n=e.getItem(TM);if(!!n)try{var r=JSON.parse(n);return r}catch{return}}}}function h8(e){var t=Sn.getInstance().localStorage;!e||!t||(t.setItem(TM,JSON.stringify(e)),t.setItem(SM,String(Date.now()+Ht.getInstance().configTimeToLive*60*60*1e3)))}var d8="Could not fetch config, will use default configs";function p8(e){return JX().then(function(t){var n=Ht.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+Ht.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:c8+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:Ht.getInstance().getAppId(),app_version:_M,sdk_version:a8})});return fetch(i).then(function(s){if(s.ok)return s.json();throw wn.create("RC response not ok")})}).catch(function(){eo.info(d8)})}function oN(e){if(!e)return e;var t=Ht.getInstance(),n=e.entries||{};return n.fpr_enabled!==void 0?t.loggingEnabled=String(n.fpr_enabled)==="true":t.loggingEnabled=u8.loggingEnabled,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),n.fpr_vc_network_request_sampling_rate!==void 0&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),n.fpr_vc_trace_sampling_rate!==void 0&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=sN(t.tracesSamplingRate),t.logNetworkAfterSampling=sN(t.networkRequestsSamplingRate),e}function v8(e){return Number(e)>Date.now()}function sN(e){return Math.random()<=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YE=1,y_;function NM(){return YE=2,y_=y_||m8(),y_}function g8(){return YE===3}function m8(){return y8().then(function(){return XX()}).then(function(e){return l8(e)}).then(function(){return aN()},function(){return aN()})}function y8(){var e=Sn.getInstance().document;return new Promise(function(t){if(e&&e.readyState!=="complete"){var n=function(){e.readyState==="complete"&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()})}function aN(){YE=3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XE=10*1e3,_8=5.5*1e3,PM=3,w8=1e3,kp=PM,Bo=[],uN=!1;function b8(){uN||(Xv(_8),uN=!0)}function Xv(e){setTimeout(function(){if(kp!==0){if(!Bo.length)return Xv(XE);E8()}},e)}function E8(){var e=Bo.splice(0,w8),t=e.map(function(r){return{source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}}),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Ht.getInstance().logSource,log_event:t};I8(n,e).catch(function(){Bo=Oe(Oe([],e),Bo),kp--,eo.info("Tries left: "+kp+"."),Xv(XE)})}function I8(e,t){return T8(e).then(function(n){return n.ok||eo.info("Call to Firebase backend failed."),n.json()}).then(function(n){var r=Number(n.nextRequestWaitMillis),i=XE;isNaN(r)||(i=Math.max(r,i));var s=n.logResponseDetails;Array.isArray(s)&&s.length>0&&s[0].responseAction==="RETRY_REQUEST_LATER"&&(Bo=Oe(Oe([],t),Bo),eo.info("Retry transport request later.")),kp=PM,Xv(i)})}function T8(e){var t=Ht.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}function S8(e){if(!e.eventTime||!e.message)throw wn.create("invalid cc log");Bo=Oe(Oe([],Bo),[e])}function C8(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e.apply(void 0,t);S8({message:r,eventTime:Date.now()})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var __;function OM(e,t){__||(__=C8(k8)),__(e,t)}function md(e){var t=Ht.getInstance();!t.instrumentationEnabled&&e.isAuto||!t.dataCollectionEnabled&&!e.isAuto||!Sn.getInstance().requiredApisAvailable()||e.isAuto&&RM()!==mu.VISIBLE||(g8()?w_(e):NM().then(function(){return w_(e)},function(){return w_(e)}))}function w_(e){if(!!QE()){var t=Ht.getInstance();!t.loggingEnabled||!t.logTraceAfterSampling||setTimeout(function(){return OM(e,1)},0)}}function A8(e){var t=Ht.getInstance();if(!!t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n===r||n===i||!t.loggingEnabled||!t.logNetworkAfterSampling||setTimeout(function(){return OM(e,0)},0)}}function k8(e,t){return t===0?R8(e):N8(e)}function R8(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:xM(),network_request_metric:t};return JSON.stringify(n)}function N8(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};Object.keys(e.counters).length!==0&&(t.counters=e.counters);var n=e.getAttributes();Object.keys(n).length!==0&&(t.custom_attributes=n);var r={application_info:xM(),trace_metric:t};return JSON.stringify(r)}function xM(){return{google_app_id:Ht.getInstance().getAppId(),app_instance_id:QE(),web_app_info:{sdk_version:_M,page_url:Sn.getInstance().getUrl(),service_worker_status:r8(),visibility_state:RM(),effective_connection_type:i8()},application_process_state:0}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P8=100,O8="_",x8=[bM,EM,IM];function D8(e,t){return e.length===0||e.length>P8?!1:t&&t.startsWith(wM)&&x8.indexOf(e)>-1||!e.startsWith(O8)}function L8(e){var t=Math.floor(e);return t<e&&eo.info("Metric value should be an Integer, setting the value as : "+t+"."),t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rl=function(){function e(t,n,r){n===void 0&&(n=!1),this.name=t,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=Sn.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=$X+"-"+this.randomId+"-"+this.name,this.traceStopMark=GX+"-"+this.randomId+"-"+this.name,this.traceMeasure=r||Kw+"-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(this.state!==1)throw wn.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(this.state!==2)throw wn.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),md(this)},e.prototype.record=function(t,n,r){if(t<=0)throw wn.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw wn.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(t*1e3),r&&r.attributes&&(this.customAttributes=ye({},r.attributes)),r&&r.metrics)for(var i=0,s=Object.keys(r.metrics);i<s.length;i++){var a=s[i];isNaN(Number(r.metrics[a]))||(this.counters[a]=Number(Math.floor(r.metrics[a])))}md(this)},e.prototype.incrementMetric=function(t,n){n===void 0&&(n=1),this.counters[t]===void 0?this.putMetric(t,n):this.putMetric(t,this.counters[t]+n)},e.prototype.putMetric=function(t,n){if(D8(t,this.name))this.counters[t]=L8(n);else throw wn.create("invalid custom metric name",{customMetricName:t})},e.prototype.getMetric=function(t){return this.counters[t]||0},e.prototype.putAttribute=function(t,n){var r=o8(t),i=s8(n);if(r&&i){this.customAttributes[t]=n;return}if(!r)throw wn.create("invalid attribute name",{attributeName:t});if(!i)throw wn.create("invalid attribute value",{attributeValue:n})},e.prototype.getAttribute=function(t){return this.customAttributes[t]},e.prototype.removeAttribute=function(t){this.customAttributes[t]!==void 0&&delete this.customAttributes[t]},e.prototype.getAttributes=function(){return ye({},this.customAttributes)},e.prototype.setStartTime=function(t){this.startTimeUs=t},e.prototype.setDuration=function(t){this.durationUs=t},e.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),n=t&&t[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))},e.createOobTrace=function(t,n,r){var i=Sn.getInstance().getUrl();if(!!i){var s=new e(wM+i,!0),a=Math.floor(Sn.getInstance().getTimeOrigin()*1e3);s.setStartTime(a),t&&t[0]&&(s.setDuration(Math.floor(t[0].duration*1e3)),s.putMetric("domInteractive",Math.floor(t[0].domInteractive*1e3)),s.putMetric("domContentLoadedEventEnd",Math.floor(t[0].domContentLoadedEventEnd*1e3)),s.putMetric("loadEventEnd",Math.floor(t[0].loadEventEnd*1e3)));var c="first-paint",l="first-contentful-paint";if(n){var h=n.find(function(v){return v.name===c});h&&h.startTime&&s.putMetric(bM,Math.floor(h.startTime*1e3));var d=n.find(function(v){return v.name===l});d&&d.startTime&&s.putMetric(EM,Math.floor(d.startTime*1e3)),r&&s.putMetric(IM,Math.floor(r*1e3))}md(s)}},e.createUserTimingTrace=function(t){var n=new e(t,!1,t);md(n)},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(e){var t=e;if(!(!t||t.responseStart===void 0)){var n=Sn.getInstance().getTimeOrigin(),r=Math.floor((t.startTime+n)*1e3),i=t.responseStart?Math.floor((t.responseStart-t.startTime)*1e3):void 0,s=Math.floor((t.responseEnd-t.startTime)*1e3),a=t.name&&t.name.split("?")[0],c={url:a,responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:s};A8(c)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var M8=5e3;function lN(){!QE()||(setTimeout(function(){return U8()},0),setTimeout(function(){return F8()},0),setTimeout(function(){return j8()},0))}function F8(){for(var e=Sn.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){var i=r[n];cN(i)}e.setupObserver("resource",cN)}function U8(){var e=Sn.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout(function(){Rl.createOobTrace(t,n),r=void 0},M8);e.onFirstInputDelay(function(i){r&&(clearTimeout(r),Rl.createOobTrace(t,n,i))})}else Rl.createOobTrace(t,n)}function j8(){for(var e=Sn.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){var i=r[n];fN(i)}e.setupObserver("measure",fN)}function fN(e){var t=e.name;t.substring(0,Kw.length)!==Kw&&Rl.createUserTimingTrace(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V8=function(){function e(t){this.app=t,Sn.getInstance().requiredApisAvailable()&&Nb().then(function(n){n&&(b8(),NM().then(lN,lN))}).catch(function(n){eo.info("Environment doesn't support IndexedDB: "+n)})}return e.prototype.trace=function(t){return new Rl(t)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return Ht.getInstance().instrumentationEnabled},set:function(t){Ht.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return Ht.getInstance().dataCollectionEnabled},set:function(t){Ht.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var B8="[DEFAULT]";function q8(e){var t=function(n,r){if(n.name!==B8)throw wn.create("FB not default");if(typeof window=="undefined")throw wn.create("no window");return YX(window),Ht.getInstance().firebaseAppInstance=n,Ht.getInstance().installationsService=r,new V8(n)};e.INTERNAL.registerComponent(new An("performance",function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return t(r,i)},"PUBLIC")),e.registerVersion(WX,yM)}q8(le);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H8="firebase_id",K8="origin",W8=60*1e3,$8="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",DM="https://www.googletagmanager.com/gtag/js",Cn;(function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"})(Cn||(Cn={}));var Ww;(function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"})(Ww||(Ww={}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G8(e,t,n,r,i){return k(this,void 0,void 0,function(){var s,a;return A(this,function(c){switch(c.label){case 0:return i&&i.global?(e(Cn.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:s=c.sent(),a=ye(ye({},r),{send_to:s}),e(Cn.EVENT,n,a),c.label=3;case 3:return[2]}})})}function z8(e,t,n,r){return k(this,void 0,void 0,function(){var i;return A(this,function(s){switch(s.label){case 0:return r&&r.global?(e(Cn.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=s.sent(),e(Cn.CONFIG,i,{update:!0,screen_name:n}),s.label=3;case 3:return[2]}})})}function Q8(e,t,n,r){return k(this,void 0,void 0,function(){var i;return A(this,function(s){switch(s.label){case 0:return r&&r.global?(e(Cn.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=s.sent(),e(Cn.CONFIG,i,{update:!0,user_id:n}),s.label=3;case 3:return[2]}})})}function Y8(e,t,n,r){return k(this,void 0,void 0,function(){var i,s,a,c,l;return A(this,function(h){switch(h.label){case 0:if(!(r&&r.global))return[3,1];for(i={},s=0,a=Object.keys(n);s<a.length;s++)c=a[s],i["user_properties."+c]=n[c];return e(Cn.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:l=h.sent(),e(Cn.CONFIG,l,{update:!0,user_properties:n}),h.label=3;case 3:return[2]}})})}function X8(e,t){return k(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un=new da("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J8(e,t){var n=document.createElement("script");n.src=DM+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}function Z8(e){var t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}function eJ(e,t,n,r,i,s){return k(this,void 0,void 0,function(){var a,c,l,h;return A(this,function(d){switch(d.label){case 0:a=r[i],d.label=1;case 1:return d.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return d.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return c=d.sent(),l=c.find(function(v){return v.measurementId===i}),l?[4,t[l.appId]]:[3,6];case 5:d.sent(),d.label=6;case 6:return[3,8];case 7:return h=d.sent(),un.error(h),[3,8];case 8:return e(Cn.CONFIG,i,s),[2]}})})}function tJ(e,t,n,r,i){return k(this,void 0,void 0,function(){var s,a,c,l,h,d,v,g,y;return A(this,function(w){switch(w.label){case 0:return w.trys.push([0,4,,5]),s=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(c=w.sent(),l=function(E){var I=c.find(function(N){return N.measurementId===E}),C=I&&t[I.appId];if(C)s.push(C);else return s=[],"break"},h=0,d=a;h<d.length&&(v=d[h],g=l(v),g!=="break");h++);w.label=2;case 2:return s.length===0&&(s=Object.values(t)),[4,Promise.all(s)];case 3:return w.sent(),e(Cn.EVENT,r,i||{}),[3,5];case 4:return y=w.sent(),un.error(y),[3,5];case 5:return[2]}})})}function nJ(e,t,n,r){function i(s,a,c){return k(this,void 0,void 0,function(){var l;return A(this,function(h){switch(h.label){case 0:return h.trys.push([0,6,,7]),s!==Cn.EVENT?[3,2]:[4,tJ(e,t,n,a,c)];case 1:return h.sent(),[3,5];case 2:return s!==Cn.CONFIG?[3,4]:[4,eJ(e,t,n,r,a,c)];case 3:return h.sent(),[3,5];case 4:e(Cn.SET,a),h.label=5;case 5:return[3,7];case 6:return l=h.sent(),un.error(l),[3,7];case 7:return[2]}})})}return i}function rJ(e,t,n,r,i){var s=function(){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=nJ(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}function iJ(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(DM))return r}return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $r,oJ=($r={},$r["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",$r["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",$r["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",$r["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",$r["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",$r["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",$r["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",$r["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',$r["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',$r),Lr=new no("analytics","Analytics",oJ);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sJ=30,aJ=1e3,uJ=function(){function e(t,n){t===void 0&&(t={}),n===void 0&&(n=aJ),this.throttleMetadata=t,this.intervalMillis=n}return e.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},e.prototype.setThrottleMetadata=function(t,n){this.throttleMetadata[t]=n},e.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},e}(),LM=new uJ;function cJ(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function lJ(e){var t;return k(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return A(this,function(h){switch(h.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:cJ(r)},s=$8.replace("{app-id}",n),[4,fetch(s,i)];case 1:if(a=h.sent(),!(a.status!==200&&a.status!==304))return[3,6];c="",h.label=2;case 2:return h.trys.push([2,4,,5]),[4,a.json()];case 3:return l=h.sent(),!((t=l.error)===null||t===void 0)&&t.message&&(c=l.error.message),[3,5];case 4:return h.sent(),[3,5];case 5:throw Lr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:c});case 6:return[2,a.json()]}})})}function fJ(e,t,n){return t===void 0&&(t=LM),k(this,void 0,void 0,function(){var r,i,s,a,c,l,h=this;return A(this,function(d){if(r=e.options,i=r.appId,s=r.apiKey,a=r.measurementId,!i)throw Lr.create("no-app-id");if(!s){if(a)return[2,{measurementId:a,appId:i}];throw Lr.create("no-api-key")}return c=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new pJ,setTimeout(function(){return k(h,void 0,void 0,function(){return A(this,function(v){return l.abort(),[2]})})},n!==void 0?n:W8),[2,MM({appId:i,apiKey:s,measurementId:a},c,l,t)]})})}function MM(e,t,n,r){var i=t.throttleEndTimeMillis,s=t.backoffCount;return r===void 0&&(r=LM),k(this,void 0,void 0,function(){var a,c,l,h,d,v,g;return A(this,function(y){switch(y.label){case 0:a=e.appId,c=e.measurementId,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,hJ(n,i)];case 2:return y.sent(),[3,4];case 3:if(l=y.sent(),c)return un.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+c)+(' provided in the "measurementId" field in the local Firebase config. ['+l.message+"]")),[2,{appId:a,measurementId:c}];throw l;case 4:return y.trys.push([4,6,,7]),[4,lJ(e)];case 5:return h=y.sent(),r.deleteThrottleMetadata(a),[2,h];case 6:if(d=y.sent(),!dJ(d)){if(r.deleteThrottleMetadata(a),c)return un.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+c)+(' provided in the "measurementId" field in the local Firebase config. ['+d.message+"]")),[2,{appId:a,measurementId:c}];throw d}return v=Number(d.customData.httpStatus)===503?W_(s,r.intervalMillis,sJ):W_(s,r.intervalMillis),g={throttleEndTimeMillis:Date.now()+v,backoffCount:s+1},r.setThrottleMetadata(a,g),un.debug("Calling attemptFetch again in "+v+" millis"),[2,MM(e,g,n,r)];case 7:return[2]}})})}function hJ(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(function(){clearTimeout(s),r(Lr.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function dJ(e){if(!(e instanceof Ju)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var pJ=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vJ(){return k(this,void 0,void 0,function(){var e;return A(this,function(t){switch(t.label){case 0:return mf()?[3,1]:(un.warn(Lr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,Nb()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),un.warn(Lr.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}})})}function gJ(e,t,n,r,i,s){return k(this,void 0,void 0,function(){var a,c,l,h,d,v,g;return A(this,function(y){switch(y.label){case 0:return a=fJ(e),a.then(function(w){n[w.measurementId]=w.appId,e.options.measurementId&&w.measurementId!==e.options.measurementId&&un.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+w.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(w){return un.error(w)}),t.push(a),c=vJ().then(function(w){if(w)return r.getId()}),[4,Promise.all([a,c])];case 1:return l=y.sent(),h=l[0],d=l[1],iJ()||J8(s,h.measurementId),i("js",new Date),v=(g={},g[K8]="firebase",g.update=!0,g),d!=null&&(v[H8]=d),i(Cn.CONFIG,h.measurementId,v),[2,h.measurementId]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ji={},hN=[],dN={},Rd="dataLayer",FM="gtag",pN,ol,$w=!1;function mJ(e){if($w)throw Lr.create("already-initialized");e.dataLayerName&&(Rd=e.dataLayerName),e.gtagName&&(FM=e.gtagName)}function yJ(){var e=[];if(Rb()&&e.push("This is a browser extension environment."),oP()||e.push("Cookies are not available."),e.length>0){var t=e.map(function(r,i){return"("+(i+1)+") "+r}).join(" "),n=Lr.create("invalid-analytics-context",{errorInfo:t});un.warn(n.message)}}function _J(e,t){yJ();var n=e.options.appId;if(!n)throw Lr.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)un.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw Lr.create("no-api-key");if(ji[n]!=null)throw Lr.create("already-exists",{id:n});if(!$w){Z8(Rd);var r=rJ(ji,hN,dN,Rd,FM),i=r.wrappedGtag,s=r.gtagCore;ol=i,pN=s,$w=!0}ji[n]=gJ(e,hN,dN,t,pN,Rd);var a={app:e,logEvent:function(c,l,h){G8(ol,ji[n],c,l,h).catch(function(d){return un.error(d)})},setCurrentScreen:function(c,l){z8(ol,ji[n],c,l).catch(function(h){return un.error(h)})},setUserId:function(c,l){Q8(ol,ji[n],c,l).catch(function(h){return un.error(h)})},setUserProperties:function(c,l){Y8(ol,ji[n],c,l).catch(function(h){return un.error(h)})},setAnalyticsCollectionEnabled:function(c){X8(ji[n],c).catch(function(l){return un.error(l)})},INTERNAL:{delete:function(){return delete ji[n],Promise.resolve()}}};return a}var wJ="@firebase/analytics",bJ="0.6.18",vN="analytics";function EJ(e){e.INTERNAL.registerComponent(new An(vN,function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return _J(r,i)},"PUBLIC").setServiceProps({settings:mJ,EventName:Ww,isSupported:IJ})),e.INTERNAL.registerComponent(new An("analytics-internal",t,"PRIVATE")),e.registerVersion(wJ,bJ);function t(n){try{var r=n.getProvider(vN).getImmediate();return{logEvent:r.logEvent}}catch(i){throw Lr.create("interop-component-reg-failed",{reason:i})}}}EJ(le);function IJ(){return k(this,void 0,void 0,function(){var e;return A(this,function(t){switch(t.label){case 0:if(Rb())return[2,!1];if(!oP())return[2,!1];if(!mf())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Nb()];case 2:return e=t.sent(),[2,e];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TJ=function(){function e(t,n,r,i){this.client=t,this.storage=n,this.storageCache=r,this.logger=i}return e.prototype.isCachedDataFresh=function(t,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-n,i=r<=t;return this.logger.debug("Config fetch cache check."+(" Cache age millis: "+r+".")+(" Cache max age millis (minimumFetchIntervalMillis setting): "+t+".")+(" Is cache hit: "+i+".")),i},e.prototype.fetch=function(t){return k(this,void 0,void 0,function(){var n,r,i,s,a;return A(this,function(c){switch(c.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return n=c.sent(),r=n[0],i=n[1],i&&this.isCachedDataFresh(t.cacheMaxAgeMillis,r)?[2,i]:(t.eTag=i&&i.eTag,[4,this.client.fetch(t)]);case 2:return s=c.sent(),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],s.status===200&&a.push(this.storage.setLastSuccessfulFetchResponse(s)),[4,Promise.all(a)];case 3:return c.sent(),[2,s]}})})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ln,SJ=(Ln={},Ln["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",Ln["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",Ln["registration-api-key"]="Undefined API key. Check Firebase app initialization.",Ln["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",Ln["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Ln["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Ln["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Ln["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",Ln["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Ln["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',Ln["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',Ln["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Ln["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Ln),Pr=new no("remoteconfig","Remote Config",SJ);function CJ(e,t){return e instanceof Ju&&e.code.indexOf(t)!==-1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AJ(e){return e===void 0&&(e=navigator),e.languages&&e.languages[0]||e.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kJ=function(){function e(t,n,r,i,s,a){this.firebaseInstallations=t,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=a}return e.prototype.fetch=function(t){return k(this,void 0,void 0,function(){var n,r,i,s,a,c,l,h,d,v,g,y,w,E,I,C,N,O,L;return A(this,function(V){switch(V.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:n=V.sent(),r=n[0],i=n[1],s=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=s+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,c={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},l={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:this.appId,language_code:AJ()},h={method:"POST",headers:c,body:JSON.stringify(l)},d=fetch(a,h),v=new Promise(function(F,G){t.signal.addEventListener(function(){var M=new Error("The operation was aborted.");M.name="AbortError",G(M)})}),V.label=2;case 2:return V.trys.push([2,5,,6]),[4,Promise.race([d,v])];case 3:return V.sent(),[4,d];case 4:return g=V.sent(),[3,6];case 5:throw y=V.sent(),w="fetch-client-network",y.name==="AbortError"&&(w="fetch-timeout"),Pr.create(w,{originalErrorMessage:y.message});case 6:if(E=g.status,I=g.headers.get("ETag")||void 0,g.status!==200)return[3,11];O=void 0,V.label=7;case 7:return V.trys.push([7,9,,10]),[4,g.json()];case 8:return O=V.sent(),[3,10];case 9:throw L=V.sent(),Pr.create("fetch-client-parse",{originalErrorMessage:L.message});case 10:C=O.entries,N=O.state,V.label=11;case 11:if(N==="INSTANCE_STATE_UNSPECIFIED"?E=500:N==="NO_CHANGE"?E=304:(N==="NO_TEMPLATE"||N==="EMPTY_CONFIG")&&(C={}),E!==304&&E!==200)throw Pr.create("fetch-status",{httpStatus:E});return[2,{status:E,eTag:I,config:C}]}})})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RJ=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NJ=!1,PJ="",gN=0,OJ=["1","true","t","yes","y","on"],b_=function(){function e(t,n){n===void 0&&(n=PJ),this._source=t,this._value=n}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return this._source==="static"?NJ:OJ.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if(this._source==="static")return gN;var t=Number(this._value);return isNaN(t)&&(t=gN),t},e.prototype.getSource=function(){return this._source},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xJ=60*1e3,DJ=12*60*60*1e3,LJ=function(){function e(t,n,r,i,s){this.app=t,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:xJ,minimumFetchIntervalMillis:DJ},this.defaultConfig={}}return e.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=Fe.DEBUG;break;case"silent":this._logger.logLevel=Fe.SILENT;break;default:this._logger.logLevel=Fe.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return k(this,void 0,void 0,function(){var t,n,r;return A(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=i.sent(),n=t[0],r=t[1],!n||!n.config||!n.eTag||n.eTag===r?[2,!1]:[4,Promise.all([this._storageCache.setActiveConfig(n.config),this._storage.setActiveConfigEtag(n.eTag)])];case 2:return i.sent(),[2,!0]}})})},e.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0})),this._initializePromise},e.prototype.fetch=function(){return k(this,void 0,void 0,function(){var t,n,r,i=this;return A(this,function(s){switch(s.label){case 0:t=new RJ,setTimeout(function(){return k(i,void 0,void 0,function(){return A(this,function(a){return t.abort(),[2]})})},this.settings.fetchTimeoutMillis),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return s.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return s.sent(),[3,6];case 4:return n=s.sent(),r=CJ(n,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw s.sent(),n;case 6:return[2]}})})},e.prototype.fetchAndActivate=function(){return k(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}})})},e.prototype.getAll=function(){var t=this;return MJ(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(n,r){return n[r]=t.getValue(r),n},{})},e.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},e.prototype.getNumber=function(t){return this.getValue(t).asNumber()},e.prototype.getString=function(t){return this.getValue(t).asString()},e.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var n=this._storageCache.getActiveConfig();return n&&n[t]!==void 0?new b_("remote",n[t]):this.defaultConfig&&this.defaultConfig[t]!==void 0?new b_("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new b_("static"))},e}();function MJ(e,t){return e===void 0&&(e={}),t===void 0&&(t={}),Object.keys(ye(ye({},e),t))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(e,t){var n=e.target.error||void 0;return Pr.create(t,{originalErrorMessage:n&&n.message})}var Ns="app_namespace_store",FJ="firebase_remote_config",UJ=1;function jJ(){return new Promise(function(e,t){var n=indexedDB.open(FJ,UJ);n.onerror=function(r){t(Nd(r,"storage-open"))},n.onsuccess=function(r){e(r.target.result)},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Ns,{keyPath:"compositeKey"})}}})}var VJ=function(){function e(t,n,r,i){i===void 0&&(i=jJ()),this.appId=t,this.appName=n,this.namespace=r,this.openDbPromise=i}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(t){return this.set("active_config",t)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(t){return k(this,void 0,void 0,function(){var n,r=this;return A(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var c=n.transaction([Ns],"readonly"),l=c.objectStore(Ns),h=r.createCompositeKey(t);try{var d=l.get(h);d.onerror=function(v){a(Nd(v,"storage-get"))},d.onsuccess=function(v){var g=v.target.result;s(g?g.value:void 0)}}catch(v){a(Pr.create("storage-get",{originalErrorMessage:v&&v.message}))}})]}})})},e.prototype.set=function(t,n){return k(this,void 0,void 0,function(){var r,i=this;return A(this,function(s){switch(s.label){case 0:return[4,this.openDbPromise];case 1:return r=s.sent(),[2,new Promise(function(a,c){var l=r.transaction([Ns],"readwrite"),h=l.objectStore(Ns),d=i.createCompositeKey(t);try{var v=h.put({compositeKey:d,value:n});v.onerror=function(g){c(Nd(g,"storage-set"))},v.onsuccess=function(){a()}}catch(g){c(Pr.create("storage-set",{originalErrorMessage:g&&g.message}))}})]}})})},e.prototype.delete=function(t){return k(this,void 0,void 0,function(){var n,r=this;return A(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var c=n.transaction([Ns],"readwrite"),l=c.objectStore(Ns),h=r.createCompositeKey(t);try{var d=l.delete(h);d.onerror=function(v){a(Nd(v,"storage-delete"))},d.onsuccess=function(){s()}}catch(v){a(Pr.create("storage-delete",{originalErrorMessage:v&&v.message}))}})]}})})},e.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BJ=function(){function e(t){this.storage=t}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return k(this,void 0,void 0,function(){var t,n,r,i,s,a;return A(this,function(c){switch(c.label){case 0:return t=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,t];case 1:return i=c.sent(),i&&(this.lastFetchStatus=i),[4,n];case 2:return s=c.sent(),s&&(this.lastSuccessfulFetchTimestampMillis=s),[4,r];case 3:return a=c.sent(),a&&(this.activeConfig=a),[2]}})})},e.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},e.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qJ(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(function(){clearTimeout(s),r(Pr.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function HJ(e){if(!(e instanceof Ju)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var KJ=function(){function e(t,n){this.client=t,this.storage=n}return e.prototype.fetch=function(t){return k(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return n=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,n)]}})})},e.prototype.attemptFetch=function(t,n){var r=n.throttleEndTimeMillis,i=n.backoffCount;return k(this,void 0,void 0,function(){var s,a,c;return A(this,function(l){switch(l.label){case 0:return[4,qJ(t.signal,r)];case 1:l.sent(),l.label=2;case 2:return l.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return s=l.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return l.sent(),[2,s];case 5:if(a=l.sent(),!HJ(a))throw a;return c={throttleEndTimeMillis:Date.now()+W_(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(c)];case 6:return l.sent(),[2,this.attemptFetch(t,c)];case 7:return[2]}})})},e}(),mN="@firebase/remote-config",WJ="0.1.43";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $J(e){e.INTERNAL.registerComponent(new An("remoteConfig",t,"PUBLIC").setMultipleInstances(!0)),e.registerVersion(mN,WJ);function t(n,r){var i=r.instanceIdentifier,s=n.getProvider("app").getImmediate(),a=n.getProvider("installations").getImmediate();if(typeof window=="undefined")throw Pr.create("registration-window");var c=s.options,l=c.projectId,h=c.apiKey,d=c.appId;if(!l)throw Pr.create("registration-project-id");if(!h)throw Pr.create("registration-api-key");if(!d)throw Pr.create("registration-app-id");i=i||"firebase";var v=new VJ(d,s.name,i),g=new BJ(v),y=new da(mN);y.logLevel=Fe.ERROR;var w=new kJ(a,e.SDK_VERSION,i,l,h,d),E=new KJ(w,v),I=new TJ(E,v,g,y),C=new LJ(s,I,g,v,y);return C.ensureInitialized(),C}}$J(le);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gr,GJ=(Gr={},Gr["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",Gr["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",Gr["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Gr["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Gr["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Gr["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Gr["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Gr["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Gr["recaptcha-error"]="ReCAPTCHA error.",Gr),vr=new no("appCheck","AppCheck",GJ);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UM=new Map,zJ={activated:!1,tokenObservers:[]},QJ={enabled:!1};function Kn(e){return UM.get(e)||zJ}function Ti(e,t){UM.set(e,t)}function JE(){return QJ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jM="https://content-firebaseappcheck.googleapis.com/v1beta",YJ="exchangeRecaptchaToken",XJ="exchangeDebugToken",yN={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JJ=function(){function e(t,n,r,i,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}return e.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},e.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},e.prototype.isRunning=function(){return!!this.pending},e.prototype.process=function(t){return k(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:this.stop(),r.label=1;case 1:return r.trys.push([1,6,,7]),this.pending=new Xt,[4,ZJ(this.getNextRun(t))];case 2:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return r.sent(),this.pending=new Xt,[4,this.operation()];case 4:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return r.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return n=r.sent(),this.retryPolicy(n)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}})})},e.prototype.getNextRun=function(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n},e}();function ZJ(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(){return self.grecaptcha}function VM(e){if(!Kn(e).activated)throw vr.create("use-before-activation",{appName:e.name})}function e7(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e==="x"?t:t&3|8;return n.toString(16)})}function t7(e){return Gp.encodeString(JSON.stringify(e),!1)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(e,t){var n=e.url,r=e.body;return k(this,void 0,void 0,function(){var i,s,a,c,l,h,d,v,g,y;return A(this,function(w){switch(w.label){case 0:i={"Content-Type":"application/json"},s=t.getImmediate({optional:!0}),s&&(i["X-Firebase-Client"]=s.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:i},w.label=1;case 1:return w.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return c=w.sent(),[3,4];case 3:throw l=w.sent(),vr.create("fetch-network-error",{originalErrorMessage:l.message});case 4:if(c.status!==200)throw vr.create("fetch-status-error",{httpStatus:c.status});w.label=5;case 5:return w.trys.push([5,7,,8]),[4,c.json()];case 6:return h=w.sent(),[3,8];case 7:throw d=w.sent(),vr.create("fetch-parse-error",{originalErrorMessage:d.message});case 8:if(v=h.ttl.match(/^([\d.]+)(s)$/),!v||!v[2]||isNaN(Number(v[1])))throw vr.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration "+("format: "+h.ttl)});return g=Number(v[1])*1e3,y=Date.now(),[2,{token:h.attestationToken,expireTimeMillis:y+g,issuedAtTimeMillis:y}]}})})}function n7(e,t){var n=e.options,r=n.projectId,i=n.appId,s=n.apiKey;return{url:jM+"/projects/"+r+"/apps/"+i+":"+YJ+"?key="+s,body:{recaptcha_token:t}}}function r7(e,t){var n=e.options,r=n.projectId,i=n.appId,s=n.apiKey;return{url:jM+"/projects/"+r+"/apps/"+i+":"+XJ+"?key="+s,body:{debug_token:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i7="firebase-app-check-database",o7=1,df="firebase-app-check-store",qM="debug-token",yd=null;function HM(){return yd||(yd=new Promise(function(e,t){try{var n=indexedDB.open(i7,o7);n.onsuccess=function(r){e(r.target.result)},n.onerror=function(r){var i;t(vr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(df,{keyPath:"compositeKey"})}}}catch(r){t(vr.create("storage-open",{originalErrorMessage:r.message}))}}),yd)}function s7(e){return WM($M(e))}function a7(e,t){return KM($M(e),t)}function u7(e){return KM(qM,e)}function c7(){return WM(qM)}function KM(e,t){return k(this,void 0,void 0,function(){var n,r,i,s;return A(this,function(a){switch(a.label){case 0:return[4,HM()];case 1:return n=a.sent(),r=n.transaction(df,"readwrite"),i=r.objectStore(df),s=i.put({compositeKey:e,value:t}),[2,new Promise(function(c,l){s.onsuccess=function(h){c()},r.onerror=function(h){var d;l(vr.create("storage-set",{originalErrorMessage:(d=h.target.error)===null||d===void 0?void 0:d.message}))}})]}})})}function WM(e){return k(this,void 0,void 0,function(){var t,n,r,i;return A(this,function(s){switch(s.label){case 0:return[4,HM()];case 1:return t=s.sent(),n=t.transaction(df,"readonly"),r=n.objectStore(df),i=r.get(e),[2,new Promise(function(a,c){i.onsuccess=function(l){var h=l.target.result;a(h?h.value:void 0)},n.onerror=function(l){var h;c(vr.create("storage-get",{originalErrorMessage:(h=l.target.error)===null||h===void 0?void 0:h.message}))}})]}})})}function $M(e){return e.options.appId+"-"+e.name}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jv=new da("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l7(e){return k(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:if(!mf())return[3,5];t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,s7(e)];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),Jv.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,t];case 5:return[2,void 0]}})})}function wN(e,t){return mf()?a7(e,t).catch(function(n){Jv.warn("Failed to write token to indexeddb. Error: "+n)}):Promise.resolve()}function f7(){return k(this,void 0,void 0,function(){var e,t;return A(this,function(n){switch(n.label){case 0:e=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,c7()];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return e?[2,e]:(t=e7(),u7(t).catch(function(r){return Jv.warn("Failed to persist debug token to indexeddb. Error: "+r)}),console.log("AppCheck debug token: "+t+". You will need to whitelist it in the Firebase console for it to work"),[2,t])}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h7(){var e=JE();return e.enabled}function d7(){return k(this,void 0,void 0,function(){var e;return A(this,function(t){if(e=JE(),e.enabled&&e.token)return[2,e.token.promise];throw Error(`
            Can't get debug token in production mode.
        `)})})}function p7(){var e=w3();if(!(typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)){var t=JE();t.enabled=!0;var n=new Xt;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(f7())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var v7={error:"UNKNOWN_ERROR"};function Rp(e,t,n){return n===void 0&&(n=!1),k(this,void 0,void 0,function(){var r,i,s,a,c,l,h,d,v,g;return A(this,function(y){switch(y.label){case 0:return VM(e),r=Kn(e),i=r.token,s=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:a=y.sent(),a&&pf(a)&&(i=a,Ti(e,ye(ye({},r),{token:i})),bN(e,{token:i.token})),y.label=2;case 2:return!n&&i&&pf(i)?[2,{token:i.token}]:h7()?(l=BM,h=r7,d=[e],[4,d7()]):[3,6];case 3:return[4,l.apply(void 0,[h.apply(void 0,d.concat([y.sent()])),t])];case 4:return c=y.sent(),[4,wN(e,c)];case 5:return y.sent(),Ti(e,ye(ye({},r),{token:c})),[2,{token:c.token}];case 6:return y.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=y.sent(),[3,9];case 8:return v=y.sent(),Jv.error(v),s=v,[3,9];case 9:return i?[3,10]:(g=m7(s),[3,12]);case 10:return g={token:i.token},Ti(e,ye(ye({},r),{token:i})),[4,wN(e,i)];case 11:y.sent(),y.label=12;case 12:return bN(e,g),[2,g]}})})}function GM(e,t,n,r,i){var s=Kn(e),a={next:r,error:i,type:n},c=ye(ye({},s),{tokenObservers:Oe(Oe([],s.tokenObservers),[a])});if(!c.tokenRefresher){var l=g7(e,t);c.tokenRefresher=l}if(!c.tokenRefresher.isRunning()&&s.isTokenAutoRefreshEnabled&&c.tokenRefresher.start(),s.token&&pf(s.token)){var h=s.token;Promise.resolve().then(function(){return r({token:h.token})}).catch(function(){})}else s.token==null&&s.cachedTokenPromise.then(function(d){d&&pf(d)&&r({token:d.token})}).catch(function(){});Ti(e,c)}function ZE(e,t){var n=Kn(e),r=n.tokenObservers.filter(function(i){return i.next!==t});r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),Ti(e,ye(ye({},n),{tokenObservers:r}))}function g7(e,t){var n=this;return new JJ(function(){return k(n,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return r=Kn(e),r.token?[3,2]:[4,Rp(e,t)];case 1:return i=s.sent(),[3,4];case 2:return[4,Rp(e,t,!0)];case 3:i=s.sent(),s.label=4;case 4:if(i.error)throw i.error;return[2]}})})},function(){return!0},function(){var r=Kn(e);if(r.token){var i=r.token.issuedAtTimeMillis+(r.token.expireTimeMillis-r.token.issuedAtTimeMillis)*.5+3e5,s=r.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,s),Math.max(0,i-Date.now())}else return 0},yN.RETRIAL_MIN_WAIT,yN.RETRIAL_MAX_WAIT)}function bN(e,t){for(var n=Kn(e).tokenObservers,r=0,i=n;r<i.length;r++){var s=i[r];try{s.type==="EXTERNAL"&&t.error!=null?s.error(t.error):s.next(t)}catch{}}}function pf(e){return e.expireTimeMillis-Date.now()>0}function m7(e){return{token:t7(v7),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y7="https://www.google.com/recaptcha/api.js";function _7(e,t){var n=Kn(e),r=new Xt;Ti(e,ye(ye({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+e.name,s=document.createElement("div");s.id=i,s.style.display="none",document.body.appendChild(s);var a=_N();return a?a.ready(function(){EN(e,t,a,i),r.resolve(a)}):b7(function(){var c=_N();if(!c)throw new Error("no recaptcha");c.ready(function(){EN(e,t,c,i),r.resolve(c)})}),r.promise}function w7(e){return k(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return VM(e),t=Kn(e).reCAPTCHAState,[4,t.initialized.promise];case 1:return n=r.sent(),[2,new Promise(function(i,s){var a=Kn(e).reCAPTCHAState;n.ready(function(){i(n.execute(a.widgetId,{action:"fire_app_check"}))})})]}})})}function EN(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),s=Kn(e);Ti(e,ye(ye({},s),{reCAPTCHAState:ye(ye({},s.reCAPTCHAState),{widgetId:i})}))}function b7(e){var t=document.createElement("script");t.src=""+y7,t.onload=e,document.head.appendChild(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gw=function(){function e(t){this._siteKey=t}return e.prototype.getToken=function(){return k(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:if(!this._app||!this._platformLoggerProvider)throw vr.create("use-before-activation",{appName:""});n.label=1;case 1:return n.trys.push([1,3,,4]),[4,w7(this._app)];case 2:return t=n.sent(),[3,4];case 3:throw n.sent(),vr.create("recaptcha-error");case 4:return[2,BM(n7(this._app,t),this._platformLoggerProvider)]}})})},e.prototype.initialize=function(t,n){this._app=t,this._platformLoggerProvider=n,_7(t,this._siteKey).catch(function(){})},e}(),zw=function(){function e(t){this._customProviderOptions=t}return e.prototype.getToken=function(){return k(this,void 0,void 0,function(){var t,n,r;return A(this,function(i){switch(i.label){case 0:if(!this._app)throw vr.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return t=i.sent(),n=T3(t.token),r=n!==null&&n<Date.now()&&n>0?n*1e3:Date.now(),[2,ye(ye({},t),{issuedAtTimeMillis:r})]}})})},e.prototype.initialize=function(t){this._app=t},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E7(e,t,n,r){var i=Kn(e);if(i.activated)throw vr.create("already-activated",{appName:e.name});var s=ye(ye({},i),{activated:!0});s.cachedTokenPromise=l7(e).then(function(a){return a&&pf(a)&&Ti(e,ye(ye({},Kn(e)),{token:a})),a}),typeof t=="string"?s.provider=new Gw(t):t instanceof Gw||t instanceof zw?s.provider=t:s.provider=new zw({getToken:t.getToken}),s.isTokenAutoRefreshEnabled=r===void 0?e.automaticDataCollectionEnabled:r,Ti(e,s),s.provider.initialize(e,n)}function I7(e,t){var n=Kn(e);n.tokenRefresher&&(t===!0?n.tokenRefresher.start():n.tokenRefresher.stop()),Ti(e,ye(ye({},n),{isTokenAutoRefreshEnabled:t}))}function T7(e,t,n){return k(this,void 0,void 0,function(){var r;return A(this,function(i){switch(i.label){case 0:return[4,Rp(e,t,n)];case 1:if(r=i.sent(),r.error)throw r.error;return[2,{token:r.token}]}})})}function S7(e,t,n,r,i){var s=function(){},a=function(){};return n.next!=null?s=n.next.bind(n):s=n,n.error!=null?a=n.error.bind(n):r&&(a=r),GM(e,t,"EXTERNAL",s,a),function(){return ZE(e,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C7(e,t){return{app:e,activate:function(n,r){return E7(e,n,t,r)},setTokenAutoRefreshEnabled:function(n){return I7(e,n)},getToken:function(n){return T7(e,t,n)},onTokenChanged:function(n,r,i){return S7(e,t,n,r)},INTERNAL:{delete:function(){for(var n=Kn(e).tokenObservers,r=0,i=n;r<i.length;r++){var s=i[r];ZE(e,s.next)}return Promise.resolve()}}}}function A7(e,t){return{getToken:function(n){return Rp(e,t,n)},addTokenListener:function(n){return GM(e,t,"INTERNAL",n)},removeTokenListener:function(n){return ZE(e,n)}}}var k7="@firebase/app-check",R7="0.3.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var N7="appCheck",IN="app-check-internal";function P7(e){e.INTERNAL.registerComponent(new An(N7,function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("platform-logger");return C7(n,r)},"PUBLIC").setServiceProps({ReCaptchaV3Provider:Gw,CustomProvider:zw}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(t,n,r){var i=t.getProvider(IN);i.initialize()})),e.INTERNAL.registerComponent(new An(IN,function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("platform-logger");return A7(n,r)},"PUBLIC").setInstantiationMode("EXPLICIT")),e.registerVersion(k7,R7)}P7(le);p7();var O7="firebase",zM="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */le.registerVersion(O7,zM,"app");le.SDK_VERSION=zM;var x7="firebase",D7="8.10.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */console.warn(`
It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the module builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

CommonJS Modules:
const firebase = require('firebase/app');
require('firebase/<PACKAGE>');

ES Modules:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';

Typescript:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';
`);le.registerVersion(x7,D7);const L7={apiKey:"AIzaSyDUAEScC0oiXdln9pk5G4ehB4GOUql1eTg",authDomain:"tabletop-expansion.firebaseapp.com",projectId:"tabletop-expansion",storageBucket:"tabletop-expansion.appspot.com",messagingSenderId:"818162262556",appId:"1:818162262556:web:7457985b07f6f9fb04f5d9",measurementId:"G-0LQV2XLX15"};le.initializeApp(L7);const M7=le.firestore(),Ls=le.auth(),F7=le.storage(),U7=le.analytics();var j7=Object.freeze(Object.defineProperty({__proto__:null,db:M7,auth:Ls,storage:F7,analytics:U7},Symbol.toStringTag,{value:"Module"}));function Qw(e){let t={displayName:"",email:"",photoURL:"",uid:""};return e&&(t.displayName=e.displayName?e.displayName:"",t.email=e.email?e.email:"",t.photoURL=e.photoURL?e.photoURL:"",t.uid=e.uid?e.uid:""),t}const V7=h3("auth",{state:()=>({authUser:null,isLoaded:!1}),actions:{setUser(e){this.authUser=e},async signInWithEmailAndPassword(e,t){try{this.authUser=await Ls.signInWithEmailAndPassword(e,t)}catch(n){console.error("Error with signIn using email and password",n)}},async signOut(){try{await Ls.signOut(),this.authUser=null}catch(e){console.error("Error during signOut",e)}},async signInWithPopup(){let e=new le.auth.GoogleAuthProvider;try{await Ls.signInWithPopup(e)}catch(t){console.error("Error during signInWithPopup",t)}},onAuthStateChange(){Ls.onAuthStateChanged(e=>{this.setUser(e?new Qw(e):null)})},init(){Ls.onAuthStateChanged(e=>{this.setUser(e?new Qw(e):null),this.isLoaded=!0})},registerUser(e){console.log("registerUser action",e),le.auth().createUserWithEmailAndPassword(e.email,e.password).then(t=>{t.user}).catch(t=>{t.code,t.message})}},getters:{isAuthenticated:e=>!!e.authUser}});var B7=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n};const q7=gb({name:"App",data(){return{authStore:V7()}},created(){Ls.onAuthStateChanged(e=>{this.authStore.setUser(e?new Qw(e):null),this.authStore.isLoaded=!0})}}),H7={key:1,class:"loading text-h1 text-bold"};function K7(e,t,n,r,i,s){const a=SB("router-view");return e.authStore.isLoaded?(Fd(),Eb(a,{key:0})):(Fd(),zB("div",H7,"Loading..."))}var W7=B7(q7,[["render",K7]]);function TZ(e){return e}var E_=()=>a3();/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const iu=typeof window!="undefined";function $7(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const nt=Object.assign;function I_(e,t){const n={};for(const r in t){const i=t[r];n[r]=ii(i)?i.map(e):e(i)}return n}const Nl=()=>{},ii=Array.isArray,G7=/\/$/,z7=e=>e.replace(G7,"");function T_(e,t,n="/"){let r,i={},s="",a="";const c=t.indexOf("#");let l=t.indexOf("?");return c<l&&c>=0&&(l=-1),l>-1&&(r=t.slice(0,l),s=t.slice(l+1,c>-1?c:t.length),i=e(s)),c>-1&&(r=r||t.slice(0,c),a=t.slice(c,t.length)),r=J7(r!=null?r:t,n),{fullPath:r+(s&&"?")+s+a,path:r,query:i,hash:a}}function Q7(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function TN(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Y7(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&$u(t.matched[r],n.matched[i])&&QM(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function $u(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function QM(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!X7(e[n],t[n]))return!1;return!0}function X7(e,t){return ii(e)?SN(e,t):ii(t)?SN(t,e):e===t}function SN(e,t){return ii(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function J7(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let i=n.length-1,s,a;for(s=0;s<r.length;s++)if(a=r[s],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(s-(s===r.length?1:0)).join("/")}var vf;(function(e){e.pop="pop",e.push="push"})(vf||(vf={}));var Pl;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Pl||(Pl={}));function Z7(e){if(!e)if(iu){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),z7(e)}const e9=/^[^#]+#/;function t9(e,t){return e.replace(e9,"#")+t}function n9(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Zv=()=>({left:window.pageXOffset,top:window.pageYOffset});function r9(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=n9(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function CN(e,t){return(history.state?history.state.position-t:-1)+e}const Yw=new Map;function i9(e,t){Yw.set(e,t)}function o9(e){const t=Yw.get(e);return Yw.delete(e),t}let s9=()=>location.protocol+"//"+location.host;function YM(e,t){const{pathname:n,search:r,hash:i}=t,s=e.indexOf("#");if(s>-1){let c=i.includes(e.slice(s))?e.slice(s).length:1,l=i.slice(c);return l[0]!=="/"&&(l="/"+l),TN(l,"")}return TN(n,e)+r+i}function a9(e,t,n,r){let i=[],s=[],a=null;const c=({state:g})=>{const y=YM(e,location),w=n.value,E=t.value;let I=0;if(g){if(n.value=y,t.value=g,a&&a===w){a=null;return}I=E?g.position-E.position:0}else r(y);i.forEach(C=>{C(n.value,w,{delta:I,type:vf.pop,direction:I?I>0?Pl.forward:Pl.back:Pl.unknown})})};function l(){a=n.value}function h(g){i.push(g);const y=()=>{const w=i.indexOf(g);w>-1&&i.splice(w,1)};return s.push(y),y}function d(){const{history:g}=window;!g.state||g.replaceState(nt({},g.state,{scroll:Zv()}),"")}function v(){for(const g of s)g();s=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",d),{pauseListeners:l,listen:h,destroy:v}}function AN(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?Zv():null}}function u9(e){const{history:t,location:n}=window,r={value:YM(e,n)},i={value:t.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(l,h,d){const v=e.indexOf("#"),g=v>-1?(n.host&&document.querySelector("base")?e:e.slice(v))+l:s9()+e+l;try{t[d?"replaceState":"pushState"](h,"",g),i.value=h}catch(y){console.error(y),n[d?"replace":"assign"](g)}}function a(l,h){const d=nt({},t.state,AN(i.value.back,l,i.value.forward,!0),h,{position:i.value.position});s(l,d,!0),r.value=l}function c(l,h){const d=nt({},i.value,t.state,{forward:l,scroll:Zv()});s(d.current,d,!0);const v=nt({},AN(r.value,l,null),{position:d.position+1},h);s(l,v,!1),r.value=l}return{location:r,state:i,push:c,replace:a}}function c9(e){e=Z7(e);const t=u9(e),n=a9(e,t.state,t.location,t.replace);function r(s,a=!0){a||n.pauseListeners(),history.go(s)}const i=nt({location:"",base:e,go:r,createHref:t9.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function l9(e){return typeof e=="string"||e&&typeof e=="object"}function XM(e){return typeof e=="string"||typeof e=="symbol"}const Io={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},JM=Symbol("");var kN;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(kN||(kN={}));function Gu(e,t){return nt(new Error,{type:e,[JM]:!0},t)}function Vi(e,t){return e instanceof Error&&JM in e&&(t==null||!!(e.type&t))}const RN="[^/]+?",f9={sensitive:!1,strict:!1,start:!0,end:!0},h9=/[.+*?^${}()[\]/\\]/g;function d9(e,t){const n=nt({},f9,t),r=[];let i=n.start?"^":"";const s=[];for(const h of e){const d=h.length?[]:[90];n.strict&&!h.length&&(i+="/");for(let v=0;v<h.length;v++){const g=h[v];let y=40+(n.sensitive?.25:0);if(g.type===0)v||(i+="/"),i+=g.value.replace(h9,"\\$&"),y+=40;else if(g.type===1){const{value:w,repeatable:E,optional:I,regexp:C}=g;s.push({name:w,repeatable:E,optional:I});const N=C||RN;if(N!==RN){y+=10;try{new RegExp(`(${N})`)}catch(L){throw new Error(`Invalid custom RegExp for param "${w}" (${N}): `+L.message)}}let O=E?`((?:${N})(?:/(?:${N}))*)`:`(${N})`;v||(O=I&&h.length<2?`(?:/${O})`:"/"+O),I&&(O+="?"),i+=O,y+=20,I&&(y+=-8),E&&(y+=-20),N===".*"&&(y+=-50)}d.push(y)}r.push(d)}if(n.strict&&n.end){const h=r.length-1;r[h][r[h].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const a=new RegExp(i,n.sensitive?"":"i");function c(h){const d=h.match(a),v={};if(!d)return null;for(let g=1;g<d.length;g++){const y=d[g]||"",w=s[g-1];v[w.name]=y&&w.repeatable?y.split("/"):y}return v}function l(h){let d="",v=!1;for(const g of e){(!v||!d.endsWith("/"))&&(d+="/"),v=!1;for(const y of g)if(y.type===0)d+=y.value;else if(y.type===1){const{value:w,repeatable:E,optional:I}=y,C=w in h?h[w]:"";if(ii(C)&&!E)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const N=ii(C)?C.join("/"):C;if(!N)if(I)g.length<2&&(d.endsWith("/")?d=d.slice(0,-1):v=!0);else throw new Error(`Missing required param "${w}"`);d+=N}}return d||"/"}return{re:a,score:r,keys:s,parse:c,stringify:l}}function p9(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function v9(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const s=p9(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(NN(r))return 1;if(NN(i))return-1}return i.length-r.length}function NN(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const g9={type:0,value:""},m9=/[a-zA-Z0-9_]/;function y9(e){if(!e)return[[]];if(e==="/")return[[g9]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(y){throw new Error(`ERR (${n})/"${h}": ${y}`)}let n=0,r=n;const i=[];let s;function a(){s&&i.push(s),s=[]}let c=0,l,h="",d="";function v(){!h||(n===0?s.push({type:0,value:h}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:h,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),h="")}function g(){h+=l}for(;c<e.length;){if(l=e[c++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(h&&v(),a()):l===":"?(v(),n=1):g();break;case 4:g(),n=r;break;case 1:l==="("?n=2:m9.test(l)?g():(v(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&c--);break;case 2:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:n=3:d+=l;break;case 3:v(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&c--,d="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${h}"`),v(),a(),i}function _9(e,t,n){const r=d9(y9(e.path),n),i=nt(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function w9(e,t){const n=[],r=new Map;t=xN({strict:!1,end:!0,sensitive:!1},t);function i(d){return r.get(d)}function s(d,v,g){const y=!g,w=b9(d);w.aliasOf=g&&g.record;const E=xN(t,d),I=[w];if("alias"in d){const O=typeof d.alias=="string"?[d.alias]:d.alias;for(const L of O)I.push(nt({},w,{components:g?g.record.components:w.components,path:L,aliasOf:g?g.record:w}))}let C,N;for(const O of I){const{path:L}=O;if(v&&L[0]!=="/"){const V=v.record.path,F=V[V.length-1]==="/"?"":"/";O.path=v.record.path+(L&&F+L)}if(C=_9(O,v,E),g?g.alias.push(C):(N=N||C,N!==C&&N.alias.push(C),y&&d.name&&!ON(C)&&a(d.name)),w.children){const V=w.children;for(let F=0;F<V.length;F++)s(V[F],C,g&&g.children[F])}g=g||C,(C.record.components&&Object.keys(C.record.components).length||C.record.name||C.record.redirect)&&l(C)}return N?()=>{a(N)}:Nl}function a(d){if(XM(d)){const v=r.get(d);v&&(r.delete(d),n.splice(n.indexOf(v),1),v.children.forEach(a),v.alias.forEach(a))}else{const v=n.indexOf(d);v>-1&&(n.splice(v,1),d.record.name&&r.delete(d.record.name),d.children.forEach(a),d.alias.forEach(a))}}function c(){return n}function l(d){let v=0;for(;v<n.length&&v9(d,n[v])>=0&&(d.record.path!==n[v].record.path||!ZM(d,n[v]));)v++;n.splice(v,0,d),d.record.name&&!ON(d)&&r.set(d.record.name,d)}function h(d,v){let g,y={},w,E;if("name"in d&&d.name){if(g=r.get(d.name),!g)throw Gu(1,{location:d});E=g.record.name,y=nt(PN(v.params,g.keys.filter(N=>!N.optional).map(N=>N.name)),d.params&&PN(d.params,g.keys.map(N=>N.name))),w=g.stringify(y)}else if("path"in d)w=d.path,g=n.find(N=>N.re.test(w)),g&&(y=g.parse(w),E=g.record.name);else{if(g=v.name?r.get(v.name):n.find(N=>N.re.test(v.path)),!g)throw Gu(1,{location:d,currentLocation:v});E=g.record.name,y=nt({},v.params,d.params),w=g.stringify(y)}const I=[];let C=g;for(;C;)I.unshift(C.record),C=C.parent;return{name:E,path:w,params:y,matched:I,meta:I9(I)}}return e.forEach(d=>s(d)),{addRoute:s,resolve:h,removeRoute:a,getRoutes:c,getRecordMatcher:i}}function PN(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function b9(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:E9(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function E9(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="boolean"?n:n[r];return t}function ON(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function I9(e){return e.reduce((t,n)=>nt(t,n.meta),{})}function xN(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function ZM(e,t){return t.children.some(n=>n===e||ZM(e,n))}const eF=/#/g,T9=/&/g,S9=/\//g,C9=/=/g,A9=/\?/g,tF=/\+/g,k9=/%5B/g,R9=/%5D/g,nF=/%5E/g,N9=/%60/g,rF=/%7B/g,P9=/%7C/g,iF=/%7D/g,O9=/%20/g;function eI(e){return encodeURI(""+e).replace(P9,"|").replace(k9,"[").replace(R9,"]")}function x9(e){return eI(e).replace(rF,"{").replace(iF,"}").replace(nF,"^")}function Xw(e){return eI(e).replace(tF,"%2B").replace(O9,"+").replace(eF,"%23").replace(T9,"%26").replace(N9,"`").replace(rF,"{").replace(iF,"}").replace(nF,"^")}function D9(e){return Xw(e).replace(C9,"%3D")}function L9(e){return eI(e).replace(eF,"%23").replace(A9,"%3F")}function M9(e){return e==null?"":L9(e).replace(S9,"%2F")}function Np(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function F9(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(tF," "),a=s.indexOf("="),c=Np(a<0?s:s.slice(0,a)),l=a<0?null:Np(s.slice(a+1));if(c in t){let h=t[c];ii(h)||(h=t[c]=[h]),h.push(l)}else t[c]=l}return t}function DN(e){let t="";for(let n in e){const r=e[n];if(n=D9(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(ii(r)?r.map(s=>s&&Xw(s)):[r&&Xw(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function U9(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=ii(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}const j9=Symbol(""),LN=Symbol(""),tI=Symbol(""),oF=Symbol(""),Jw=Symbol("");function sl(){let e=[];function t(r){return e.push(r),()=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function Ao(e,t,n,r,i){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,c)=>{const l=v=>{v===!1?c(Gu(4,{from:n,to:t})):v instanceof Error?c(v):l9(v)?c(Gu(2,{from:t,to:v})):(s&&r.enterCallbacks[i]===s&&typeof v=="function"&&s.push(v),a())},h=e.call(r&&r.instances[i],t,n,l);let d=Promise.resolve(h);e.length<3&&(d=d.then(l)),d.catch(v=>c(v))})}function S_(e,t,n,r){const i=[];for(const s of e)for(const a in s.components){let c=s.components[a];if(!(t!=="beforeRouteEnter"&&!s.instances[a]))if(V9(c)){const h=(c.__vccOpts||c)[t];h&&i.push(Ao(h,n,r,s,a))}else{let l=c();i.push(()=>l.then(h=>{if(!h)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${s.path}"`));const d=$7(h)?h.default:h;s.components[a]=d;const g=(d.__vccOpts||d)[t];return g&&Ao(g,n,r,s,a)()}))}}return i}function V9(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function MN(e){const t=_i(tI),n=_i(oF),r=fr(()=>t.resolve(cu(e.to))),i=fr(()=>{const{matched:l}=r.value,{length:h}=l,d=l[h-1],v=n.matched;if(!d||!v.length)return-1;const g=v.findIndex($u.bind(null,d));if(g>-1)return g;const y=FN(l[h-2]);return h>1&&FN(d)===y&&v[v.length-1].path!==y?v.findIndex($u.bind(null,l[h-2])):g}),s=fr(()=>i.value>-1&&K9(n.params,r.value.params)),a=fr(()=>i.value>-1&&i.value===n.matched.length-1&&QM(n.params,r.value.params));function c(l={}){return H9(l)?t[cu(e.replace)?"replace":"push"](cu(e.to)).catch(Nl):Promise.resolve()}return{route:r,href:fr(()=>r.value.href),isActive:s,isExactActive:a,navigate:c}}const B9=gb({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:MN,setup(e,{slots:t}){const n=Qo(MN(e)),{options:r}=_i(tI),i=fr(()=>({[UN(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[UN(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:Sb("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),q9=B9;function H9(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function K9(e,t){for(const n in t){const r=t[n],i=e[n];if(typeof r=="string"){if(r!==i)return!1}else if(!ii(i)||i.length!==r.length||r.some((s,a)=>s!==i[a]))return!1}return!0}function FN(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const UN=(e,t,n)=>e!=null?e:t!=null?t:n,W9=gb({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=_i(Jw),i=fr(()=>e.route||r.value),s=_i(LN,0),a=fr(()=>{let h=cu(s);const{matched:d}=i.value;let v;for(;(v=d[h])&&!v.components;)h++;return h}),c=fr(()=>i.value.matched[a.value]);wd(LN,fr(()=>a.value+1)),wd(j9,c),wd(Jw,i);const l=Lp();return fu(()=>[l.value,c.value,e.name],([h,d,v],[g,y,w])=>{d&&(d.instances[v]=h,y&&y!==d&&h&&h===g&&(d.leaveGuards.size||(d.leaveGuards=y.leaveGuards),d.updateGuards.size||(d.updateGuards=y.updateGuards))),h&&d&&(!y||!$u(d,y)||!g)&&(d.enterCallbacks[v]||[]).forEach(E=>E(h))},{flush:"post"}),()=>{const h=i.value,d=e.name,v=c.value,g=v&&v.components[d];if(!g)return jN(n.default,{Component:g,route:h});const y=v.props[d],w=y?y===!0?h.params:typeof y=="function"?y(h):y:null,I=Sb(g,nt({},w,t,{onVnodeUnmounted:C=>{C.component.isUnmounted&&(v.instances[d]=null)},ref:l}));return jN(n.default,{Component:I,route:h})||I}}});function jN(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const $9=W9;function G9(e){const t=w9(e.routes,e),n=e.parseQuery||F9,r=e.stringifyQuery||DN,i=e.history,s=sl(),a=sl(),c=sl(),l=$V(Io);let h=Io;iu&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=I_.bind(null,q=>""+q),v=I_.bind(null,M9),g=I_.bind(null,Np);function y(q,ie){let re,Z;return XM(q)?(re=t.getRecordMatcher(q),Z=ie):Z=q,t.addRoute(Z,re)}function w(q){const ie=t.getRecordMatcher(q);ie&&t.removeRoute(ie)}function E(){return t.getRoutes().map(q=>q.record)}function I(q){return!!t.getRecordMatcher(q)}function C(q,ie){if(ie=nt({},ie||l.value),typeof q=="string"){const T=T_(n,q,ie.path),P=t.resolve({path:T.path},ie),D=i.createHref(T.fullPath);return nt(T,P,{params:g(P.params),hash:Np(T.hash),redirectedFrom:void 0,href:D})}let re;if("path"in q)re=nt({},q,{path:T_(n,q.path,ie.path).path});else{const T=nt({},q.params);for(const P in T)T[P]==null&&delete T[P];re=nt({},q,{params:v(q.params)}),ie.params=v(ie.params)}const Z=t.resolve(re,ie),qe=q.hash||"";Z.params=d(g(Z.params));const ft=Q7(r,nt({},q,{hash:x9(qe),path:Z.path})),Se=i.createHref(ft);return nt({fullPath:ft,hash:qe,query:r===DN?U9(q.query):q.query||{}},Z,{redirectedFrom:void 0,href:Se})}function N(q){return typeof q=="string"?T_(n,q,l.value.path):nt({},q)}function O(q,ie){if(h!==q)return Gu(8,{from:ie,to:q})}function L(q){return G(q)}function V(q){return L(nt(N(q),{replace:!0}))}function F(q){const ie=q.matched[q.matched.length-1];if(ie&&ie.redirect){const{redirect:re}=ie;let Z=typeof re=="function"?re(q):re;return typeof Z=="string"&&(Z=Z.includes("?")||Z.includes("#")?Z=N(Z):{path:Z},Z.params={}),nt({query:q.query,hash:q.hash,params:"path"in Z?{}:q.params},Z)}}function G(q,ie){const re=h=C(q),Z=l.value,qe=q.state,ft=q.force,Se=q.replace===!0,T=F(re);if(T)return G(nt(N(T),{state:typeof T=="object"?nt({},qe,T.state):qe,force:ft,replace:Se}),ie||re);const P=re;P.redirectedFrom=ie;let D;return!ft&&Y7(r,Z,re)&&(D=Gu(16,{to:P,from:Z}),Wn(Z,Z,!0,!1)),(D?Promise.resolve(D):se(P,Z)).catch(j=>Vi(j)?Vi(j,2)?j:Nn(j):et(j,P,Z)).then(j=>{if(j){if(Vi(j,2))return G(nt({replace:Se},N(j.to),{state:typeof j.to=="object"?nt({},qe,j.to.state):qe,force:ft}),ie||P)}else j=Pe(P,Z,!0,Se,qe);return R(P,Z,j),j})}function M(q,ie){const re=O(q,ie);return re?Promise.reject(re):Promise.resolve()}function se(q,ie){let re;const[Z,qe,ft]=z9(q,ie);re=S_(Z.reverse(),"beforeRouteLeave",q,ie);for(const T of Z)T.leaveGuards.forEach(P=>{re.push(Ao(P,q,ie))});const Se=M.bind(null,q,ie);return re.push(Se),eu(re).then(()=>{re=[];for(const T of s.list())re.push(Ao(T,q,ie));return re.push(Se),eu(re)}).then(()=>{re=S_(qe,"beforeRouteUpdate",q,ie);for(const T of qe)T.updateGuards.forEach(P=>{re.push(Ao(P,q,ie))});return re.push(Se),eu(re)}).then(()=>{re=[];for(const T of q.matched)if(T.beforeEnter&&!ie.matched.includes(T))if(ii(T.beforeEnter))for(const P of T.beforeEnter)re.push(Ao(P,q,ie));else re.push(Ao(T.beforeEnter,q,ie));return re.push(Se),eu(re)}).then(()=>(q.matched.forEach(T=>T.enterCallbacks={}),re=S_(ft,"beforeRouteEnter",q,ie),re.push(Se),eu(re))).then(()=>{re=[];for(const T of a.list())re.push(Ao(T,q,ie));return re.push(Se),eu(re)}).catch(T=>Vi(T,8)?T:Promise.reject(T))}function R(q,ie,re){for(const Z of c.list())Z(q,ie,re)}function Pe(q,ie,re,Z,qe){const ft=O(q,ie);if(ft)return ft;const Se=ie===Io,T=iu?history.state:{};re&&(Z||Se?i.replace(q.fullPath,nt({scroll:Se&&T&&T.scroll},qe)):i.push(q.fullPath,qe)),l.value=q,Wn(q,ie,re,Se),Nn()}let oe;function Je(){oe||(oe=i.listen((q,ie,re)=>{if(!ns.listening)return;const Z=C(q),qe=F(Z);if(qe){G(nt(qe,{replace:!0}),Z).catch(Nl);return}h=Z;const ft=l.value;iu&&i9(CN(ft.fullPath,re.delta),Zv()),se(Z,ft).catch(Se=>Vi(Se,12)?Se:Vi(Se,2)?(G(Se.to,Z).then(T=>{Vi(T,20)&&!re.delta&&re.type===vf.pop&&i.go(-1,!1)}).catch(Nl),Promise.reject()):(re.delta&&i.go(-re.delta,!1),et(Se,Z,ft))).then(Se=>{Se=Se||Pe(Z,ft,!1),Se&&(re.delta&&!Vi(Se,8)?i.go(-re.delta,!1):re.type===vf.pop&&Vi(Se,20)&&i.go(-1,!1)),R(Z,ft,Se)}).catch(Nl)}))}let st=sl(),at=sl(),Ze;function et(q,ie,re){Nn(q);const Z=at.list();return Z.length?Z.forEach(qe=>qe(q,ie,re)):console.error(q),Promise.reject(q)}function Ae(){return Ze&&l.value!==Io?Promise.resolve():new Promise((q,ie)=>{st.add([q,ie])})}function Nn(q){return Ze||(Ze=!q,Je(),st.list().forEach(([ie,re])=>q?re(q):ie()),st.reset()),q}function Wn(q,ie,re,Z){const{scrollBehavior:qe}=e;if(!iu||!qe)return Promise.resolve();const ft=!re&&o9(CN(q.fullPath,0))||(Z||!re)&&history.state&&history.state.scroll||null;return pb().then(()=>qe(q,ie,ft)).then(Se=>Se&&r9(Se)).catch(Se=>et(Se,q,ie))}const Pn=q=>i.go(q);let tn;const Oi=new Set,ns={currentRoute:l,listening:!0,addRoute:y,removeRoute:w,hasRoute:I,getRoutes:E,resolve:C,options:e,push:L,replace:V,go:Pn,back:()=>Pn(-1),forward:()=>Pn(1),beforeEach:s.add,beforeResolve:a.add,afterEach:c.add,onError:at.add,isReady:Ae,install(q){const ie=this;q.component("RouterLink",q9),q.component("RouterView",$9),q.config.globalProperties.$router=ie,Object.defineProperty(q.config.globalProperties,"$route",{enumerable:!0,get:()=>cu(l)}),iu&&!tn&&l.value===Io&&(tn=!0,L(i.location).catch(qe=>{}));const re={};for(const qe in Io)re[qe]=fr(()=>l.value[qe]);q.provide(tI,ie),q.provide(oF,Qo(re)),q.provide(Jw,l);const Z=q.unmount;Oi.add(q),q.unmount=function(){Oi.delete(q),Oi.size<1&&(h=Io,oe&&oe(),oe=null,l.value=Io,tn=!1,Ze=!1),Z()}}};return ns}function eu(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function z9(e,t){const n=[],r=[],i=[],s=Math.max(t.matched.length,e.matched.length);for(let a=0;a<s;a++){const c=t.matched[a];c&&(e.matched.find(h=>$u(h,c))?r.push(c):n.push(c));const l=e.matched[a];l&&(t.matched.find(h=>$u(h,l))||i.push(l))}return[n,r,i]}const Q9=[{path:"/",component:()=>Dt(()=>import("./MainLayout.ed045182.js"),["assets/MainLayout.ed045182.js","assets/QBtn.0cceea7f.js","assets/QSpinner.bb55e475.js","assets/render.a7501c6e.js","assets/use-router-link.8ff5dd5e.js","assets/QPageContainer.354edaf2.js","assets/QTooltip.cc173ac6.js","assets/position-engine.c3f824e7.js","assets/focus-manager.b507780d.js","assets/use-dark.611856a0.js","assets/use-form.48d835c9.js","assets/QSeparator.71f87a92.js","assets/QItem.e7d9baa2.js","assets/QResizeObserver.8c08070d.js","assets/touch.3df10340.js"]),children:[{name:"index",path:"",component:()=>Dt(()=>import("./IndexPage.8c025d75.js"),["assets/IndexPage.8c025d75.js","assets/QBtn.0cceea7f.js","assets/QSpinner.bb55e475.js","assets/render.a7501c6e.js","assets/use-router-link.8ff5dd5e.js","assets/QPage.56deb251.js"])},{name:"characters",path:"/characters",component:()=>Dt(()=>import("./CharactersSelectionPage.8f626906.js"),["assets/CharactersSelectionPage.8f626906.js","assets/CharactersSelectionPage.24b128f6.css","assets/QTooltip.cc173ac6.js","assets/position-engine.c3f824e7.js","assets/use-router-link.8ff5dd5e.js","assets/render.a7501c6e.js","assets/focus-manager.b507780d.js","assets/QBtn.0cceea7f.js","assets/QSpinner.bb55e475.js","assets/QPage.56deb251.js","assets/user-store.0afc118d.js","assets/QCardSection.0c1417bd.js","assets/QCard.df144c86.js","assets/use-dark.611856a0.js"])},{name:"select-creator",path:"/characters/select-creator",component:()=>Dt(()=>import("./CharacterCreationSelectMethodPage.966d704b.js"),["assets/CharacterCreationSelectMethodPage.966d704b.js","assets/CharacterCreationSelectMethodPage.58342229.css","assets/QCardSection.0c1417bd.js","assets/QBtn.0cceea7f.js","assets/QSpinner.bb55e475.js","assets/render.a7501c6e.js","assets/use-router-link.8ff5dd5e.js","assets/QSeparator.71f87a92.js","assets/use-dark.611856a0.js","assets/QCard.df144c86.js","assets/QPage.56deb251.js","assets/user-store.0afc118d.js"])},{name:"character",path:"/character/:id",component:()=>Dt(()=>import("./GamePage.7584d3a8.js"),["assets/GamePage.7584d3a8.js","assets/GamePage.902ead9a.css","assets/QTooltip.cc173ac6.js","assets/position-engine.c3f824e7.js","assets/use-router-link.8ff5dd5e.js","assets/render.a7501c6e.js","assets/focus-manager.b507780d.js","assets/QSpinner.bb55e475.js","assets/QBtn.0cceea7f.js","assets/QTabs.7a6464f7.js","assets/uid.42677368.js","assets/QResizeObserver.8c08070d.js","assets/rtl.b51694b1.js","assets/QSeparator.71f87a92.js","assets/use-dark.611856a0.js","assets/touch.3df10340.js","assets/QCard.df144c86.js","assets/use-form.48d835c9.js","assets/user-store.0afc118d.js"]),props:!0},{name:"creator-dnd5e",path:"/character/:id/creator/dnd5e",component:()=>Dt(()=>import("./DnD5eCharacterCreatorLayout.562744d9.js"),["assets/DnD5eCharacterCreatorLayout.562744d9.js","assets/DnD5eCharacterCreatorLayout.1de61942.css","assets/QPageContainer.354edaf2.js","assets/render.a7501c6e.js","assets/use-router-link.8ff5dd5e.js","assets/QTabs.7a6464f7.js","assets/QSpinner.bb55e475.js","assets/uid.42677368.js","assets/QResizeObserver.8c08070d.js","assets/position-engine.c3f824e7.js","assets/focus-manager.b507780d.js","assets/rtl.b51694b1.js","assets/QTooltip.cc173ac6.js","assets/QBtn.0cceea7f.js","assets/user-store.0afc118d.js"]),props:!0,children:[{name:"dnd5e-settings",path:"settings",component:()=>Dt(()=>import("./DnD5eSettingsPage.c8747e83.js"),["assets/DnD5eSettingsPage.c8747e83.js","assets/QInput.adf543fa.js","assets/use-key-composition.cdded255.js","assets/QSpinner.bb55e475.js","assets/render.a7501c6e.js","assets/use-dark.611856a0.js","assets/uid.42677368.js","assets/focus-manager.b507780d.js","assets/use-form.48d835c9.js","assets/user-store.0afc118d.js"]),props:!0},{name:"dnd5e-race",path:"race",component:()=>Dt(()=>import("./DnD5eRacePage.b7a8d24a.js"),["assets/DnD5eRacePage.b7a8d24a.js","assets/QItem.e7d9baa2.js","assets/position-engine.c3f824e7.js","assets/use-router-link.8ff5dd5e.js","assets/render.a7501c6e.js","assets/focus-manager.b507780d.js","assets/use-dark.611856a0.js","assets/QSelect.b9124267.js","assets/use-key-composition.cdded255.js","assets/QSpinner.bb55e475.js","assets/uid.42677368.js","assets/rtl.b51694b1.js","assets/use-form.48d835c9.js","assets/user-store.0afc118d.js"]),props:!0},{name:"dnd5e-class",path:"class",component:()=>Dt(()=>import("./DnD5eClassPage.61c6962b.js"),["assets/DnD5eClassPage.61c6962b.js","assets/QInput.adf543fa.js","assets/use-key-composition.cdded255.js","assets/QSpinner.bb55e475.js","assets/render.a7501c6e.js","assets/use-dark.611856a0.js","assets/uid.42677368.js","assets/focus-manager.b507780d.js","assets/use-form.48d835c9.js","assets/QSelect.b9124267.js","assets/use-router-link.8ff5dd5e.js","assets/QItem.e7d9baa2.js","assets/position-engine.c3f824e7.js","assets/rtl.b51694b1.js","assets/user-store.0afc118d.js"]),props:!0},{name:"dnd5e-abilities",path:"abilities",component:()=>Dt(()=>import("./DnD5eAbilitiesPage.f7dee615.js"),[]),props:!0},{name:"dnd5e-description",path:"description",component:()=>Dt(()=>import("./DnD5eDescriptionPage.772c54d6.js"),[]),props:!0},{name:"dnd5e-equipment",path:"equipment",component:()=>Dt(()=>import("./DnD5eEquipmentPage.9a74fca1.js"),[]),props:!0},{name:"dnd5e-extras",path:"extras",component:()=>Dt(()=>import("./DnD5eExtrasPage.fdd5dd0f.js"),[]),props:!0}]},{name:"site-settings",path:"settings",component:()=>Dt(()=>import("./SettingsPage.79190400.js"),["assets/SettingsPage.79190400.js","assets/QPage.56deb251.js","assets/render.a7501c6e.js"])},{name:"profile-settings",path:"profile",component:()=>Dt(()=>import("./ProfileSettingsPage.0a601c4a.js"),["assets/ProfileSettingsPage.0a601c4a.js","assets/QPage.56deb251.js","assets/render.a7501c6e.js"])},{name:"equipment-dnd5e",path:"equipment-dnd5e",component:()=>Dt(()=>import("./DnD5eEquipmentRefPage.1b2dfd99.js"),["assets/DnD5eEquipmentRefPage.1b2dfd99.js","assets/QBtn.0cceea7f.js","assets/QSpinner.bb55e475.js","assets/render.a7501c6e.js","assets/use-router-link.8ff5dd5e.js"])}]},{path:"/:catchAll(.*)*",component:()=>Dt(()=>import("./ErrorNotFound.2309ddeb.js"),["assets/ErrorNotFound.2309ddeb.js","assets/QBtn.0cceea7f.js","assets/QSpinner.bb55e475.js","assets/render.a7501c6e.js","assets/use-router-link.8ff5dd5e.js"])}];var C_=function(){return G9({scrollBehavior:()=>({left:0,top:0}),routes:Q9,history:c9("/")})};async function Y9(e,t){const n=e(W7);n.use(o3,t);const r=typeof E_=="function"?await E_({}):E_;n.use(r);const i=Js(typeof C_=="function"?await C_({store:r}):C_);return r.use(({store:s})=>{s.router=i}),{app:n,store:r,router:i}}var X9={config:{dark:!1}};const J9="/";async function Z9({app:e,router:t,store:n},r){let i=!1;const s=l=>{try{return t.resolve(l).href}catch{}return Object(l)===l?null:l},a=l=>{if(i=!0,typeof l=="string"&&/^https?:\/\//.test(l)){window.location.href=l;return}const h=s(l);h!==null&&(window.location.href=h,window.location.reload())},c=window.location.href.replace(window.location.origin,"");for(let l=0;i===!1&&l<r.length;l++)try{await r[l]({app:e,router:t,store:n,ssrContext:null,redirect:a,urlPath:c,publicPath:J9})}catch(h){if(h&&h.url){a(h.url);return}console.error("[Quasar] boot error:",h);return}i!==!0&&(e.use(t),e.mount("#q-app"))}Y9(D4,X9).then(e=>{const[t,n]=Promise.allSettled!==void 0?["allSettled",r=>r.map(i=>{if(i.status==="rejected"){console.error("[Quasar] boot error:",i.reason);return}return i.value.default})]:["all",r=>r.map(i=>i.default)];return Promise[t]([Dt(()=>import("./i18n.35fbcf1a.js"),[]),Dt(()=>import("./axios.375b7326.js"),[]),Dt(()=>Promise.resolve().then(function(){return j7}),void 0)]).then(r=>{const i=n(r).filter(s=>typeof s=="function");Z9(e,i)})});export{JB as $,mZ as A,pb as B,iZ as C,wu as D,Zs as E,Sr as F,Qo as G,wd as H,yZ as I,gb as J,Fd as K,Eb as L,sB as M,uZ as N,XB as O,eZ as P,le as Q,Ls as R,Qw as S,Bp as T,V7 as U,tb as V,SB as W,U1 as X,zB as Y,oZ as Z,B7 as _,S1 as a,wZ as a0,$4 as a1,hZ as a2,cu as a3,Js as a4,V_ as a5,IA as a6,Cb as a7,aZ as a8,mB as a9,eb as aa,cZ as ab,tZ as ac,nZ as ad,h3 as ae,M7 as af,sZ as ag,rZ as ah,EZ as ai,Q4 as aj,jy as ak,gB as al,bZ as am,B4 as an,wB as ao,_B as ap,T1 as aq,Pt as b,fr as c,Xn as d,GN as e,TZ as f,Tb as g,Sb as h,_i as i,IZ as j,yb as k,_Z as l,B1 as m,Cr as n,mb as o,jl as p,lZ as q,Lp as r,pZ as s,Ke as t,gZ as u,vZ as v,fu as w,_A as x,dZ as y,fZ as z};
