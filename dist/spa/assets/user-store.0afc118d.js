import{ae as B,af as t,U as o}from"./index.58564a6b.js";function U(r,e){var s,a,i,c,n,l,h,u,g,m,p,d,S,f,y,b,w,C,v,$,x,k,A;return r=r!=null?r:"",e=e!=null?e:{},{id:r,gameType:(s=e.gameType)!=null?s:"",campaignName:(a=e.campaignName)!=null?a:"",favorite:(i=e.favorite)!=null?i:!1,name:(c=e.name)!=null?c:"",race:(n=e.race)!=null?n:"",inspiration:!1,health:(l=e.health)!=null?l:{current:1,max:1,temp:0},initialRolls:(h=e.initialRolls)!=null?h:{0:[]},abilityScores:(u=e.abilityScores)!=null?u:{baseAbilityScores:{str:12,dex:10,con:10,int:10,wis:10,cha:10},abilityScoreRacialBonuses:{str:0,dex:0,con:0,int:0,wis:0,cha:0},abilityScoreImprovements:{str:0,dex:0,con:0,int:0,wis:0,cha:0},abilityScoreMiscBonuses:{str:0,dex:0,con:0,int:0,wis:0,cha:0},abilityScoreStackingBonuses:{str:0,dex:0,con:0,int:0,wis:0,cha:0},abilityScoreSetScores:{str:0,dex:0,con:0,int:0,wis:0,cha:0},abilityScoreOtherModifiers:{str:0,dex:0,con:0,int:0,wis:0,cha:0},abilityScoreOverrides:{str:0,dex:0,con:0,int:0,wis:0,cha:0},abilityScoreModifiers:{str:0,dex:0,con:0,int:0,wis:0,cha:0}},scoreProficiencies:(g=e.scoreProficiencies)!=null?g:{},get abilityScoresTotal(){return this.abilityScores.baseAbilityScores},savingThrows:(m=e.savingThrows)!=null?m:{},get abilitySaves(){},get totalArmorClass(){},armor:(p=e.armor)!=null?p:{score:0,name:""},get ArmorBonus(){},shield:(d=e.shield)!=null?d:{score:0,name:""},get shieldBonus(){},miscArmorBonus:(S=e.miscArmorBonus)!=null?S:0,movementSpeed:(f=e.movementSpeed)!=null?f:{activeMovementSpeed:"walking",walking:{speed:30,source:"Players Handbook"},climbing:{},swimming:{},flying:{},burrowing:{}},level:(y=e.level)!=null?y:"",classData:(b=e.classData)!=null?b:{classLevelString:"",classString:"",classes:[{className:"",classLevel:1}]},get characterLevel(){return this.classData.classes.length},get classLevels(){return null},profArmor:(w=e.profArmor)!=null?w:[{}],profWeapons:(C=e.profWeapons)!=null?C:[{}],profTools:(v=e.profTools)!=null?v:[{}],profLanguages:($=e.profLanguages)!=null?$:[{name:"Common",source:"Players Handbook"}],inventory:(x=e.inventory)!=null?x:{money:{cp:0,sp:0,ep:0,gp:0,pp:0},equipment:{},backpack:{}},notes:(k=e.notes)!=null?k:{organizations:"",allies:"",enemies:"",backstory:"",others:""},description:(A=e.description)!=null?A:{background:{name:"",content:""},personalityTraits:"",ideals:"",bonds:"",flaws:"",appearance:"",characteristics:{alignment:"",gender:"",eyes:"",size:"Medium",height:"",faith:"",hair:"",skin:"",age:0,weight:0}}}}const L=B("user",{state:()=>({activeCharacter:{},allCharacters:[]}),actions:{characterById(r){t.doc(`users/${o().authUser.uid}/characters/${r}`).get().then(e=>{console.log(e.id,"=>",e.data())})},activateCharacter(r){t.doc(`users/${o().authUser.uid}/characters/${r}`).onSnapshot(e=>{this.activeCharacter=new U(e.id,e.data())})},getCharacters(){this.allCharacters=[],t.collection(`users/${o().authUser.uid}/characters/`).onSnapshot(r=>{this.allCharacters.length=0,r.forEach(e=>{console.log(e.id,"=>",e.data()),this.allCharacters.push(new U(e.id,e.data()))})})},addCharacter(r){let e="";return t.collection(`users/${o().authUser.uid}/characters/`).add(r).then(s=>{console.log("Character written with ID of: ",s.id),e=s.id,this.activateCharacter(e)}).catch(s=>{console.error("Error adding document: ",s)}),e},deleteCharacter(r){t.collection(`users/${o().authUser.uid}/characters/`).doc(r).delete().then(()=>{console.log("Character deleted"),this.getCharacters()}).catch(e=>{console.error("Error removing character",e)})},updateCharacterVariable(r,e,s){t.doc(`users/${o().authUser.uid}/characters/${r}`).update({[e]:s}).then(()=>console.log(`Character: ${r} document updated variable: ${e}, with data: ${s}`)).catch(a=>console.error(`Error updating ${e}, with data: ${s}`,a))},toggleCharacterVariable(r,e){let s=r[e];console.log("filedValue",s),t.doc(`users/${o().authUser.uid}/characters/${r.id}`).update({[e]:!s}).then(()=>console.log(`Character: ${r.name}, fieldValue updated: ${e}, to: ${!s}`)).catch(a=>console.error(`Error toggling ${e} in document`,a))}},getters:{}});export{U as C,L as u};
